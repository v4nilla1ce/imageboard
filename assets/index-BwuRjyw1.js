(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var _f={exports:{}},ba={},vf={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function wA(){if(ay)return Ce;ay=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function M(O,K,ge){this.props=O,this.context=K,this.refs=F,this.updater=ge||C}M.prototype.isReactComponent={},M.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=M.prototype;function X(O,K,ge){this.props=O,this.context=K,this.refs=F,this.updater=ge||C}var Q=X.prototype=new q;Q.constructor=X,L(Q,M.prototype),Q.isPureReactComponent=!0;var W=Array.isArray,ee=Object.prototype.hasOwnProperty,ie={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(O,K,ge){var Re,Pe={},De=null,Fe=null;if(K!=null)for(Re in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)ee.call(K,Re)&&!x.hasOwnProperty(Re)&&(Pe[Re]=K[Re]);var Ue=arguments.length-2;if(Ue===1)Pe.children=ge;else if(1<Ue){for(var $e=Array(Ue),Tt=0;Tt<Ue;Tt++)$e[Tt]=arguments[Tt+2];Pe.children=$e}if(O&&O.defaultProps)for(Re in Ue=O.defaultProps,Ue)Pe[Re]===void 0&&(Pe[Re]=Ue[Re]);return{$$typeof:n,type:O,key:De,ref:Fe,props:Pe,_owner:ie.current}}function R(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function N(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return K[ge]})}var b=/\/+/g;function P(O,K){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):K.toString(36)}function Xe(O,K,ge,Re,Pe){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=O,Pe=Pe(Fe),O=Re===""?"."+P(Fe,0):Re,W(Pe)?(ge="",O!=null&&(ge=O.replace(b,"$&/")+"/"),Xe(Pe,K,ge,"",function(Tt){return Tt})):Pe!=null&&(V(Pe)&&(Pe=R(Pe,ge+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(b,"$&/")+"/")+O)),K.push(Pe)),1;if(Fe=0,Re=Re===""?".":Re+":",W(O))for(var Ue=0;Ue<O.length;Ue++){De=O[Ue];var $e=Re+P(De,Ue);Fe+=Xe(De,K,ge,$e,Pe)}else if($e=T(O),typeof $e=="function")for(O=$e.call(O),Ue=0;!(De=O.next()).done;)De=De.value,$e=Re+P(De,Ue++),Fe+=Xe(De,K,ge,$e,Pe);else if(De==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(O,K,ge){if(O==null)return O;var Re=[],Pe=0;return Xe(O,Re,"","",function(De){return K.call(ge,De,Pe++)}),Re}function xt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Se={current:null},ne={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ie};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(O,K,ge){Ct(O,function(){K.apply(this,arguments)},ge)},count:function(O){var K=0;return Ct(O,function(){K++}),K},toArray:function(O){return Ct(O,function(K){return K})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=M,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=X,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ce.act=se,Ce.cloneElement=function(O,K,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Re=L({},O.props),Pe=O.key,De=O.ref,Fe=O._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=ie.current),K.key!==void 0&&(Pe=""+K.key),O.type&&O.type.defaultProps)var Ue=O.type.defaultProps;for($e in K)ee.call(K,$e)&&!x.hasOwnProperty($e)&&(Re[$e]=K[$e]===void 0&&Ue!==void 0?Ue[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Re.children=ge;else if(1<$e){Ue=Array($e);for(var Tt=0;Tt<$e;Tt++)Ue[Tt]=arguments[Tt+2];Re.children=Ue}return{$$typeof:n,type:O.type,key:Pe,ref:De,props:Re,_owner:Fe}},Ce.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ce.createElement=S,Ce.createFactory=function(O){var K=S.bind(null,O);return K.type=O,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:f,render:O}},Ce.isValidElement=V,Ce.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:xt}},Ce.memo=function(O,K){return{$$typeof:g,type:O,compare:K===void 0?null:K}},Ce.startTransition=function(O){var K=ne.transition;ne.transition={};try{O()}finally{ne.transition=K}},Ce.unstable_act=se,Ce.useCallback=function(O,K){return Se.current.useCallback(O,K)},Ce.useContext=function(O){return Se.current.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O){return Se.current.useDeferredValue(O)},Ce.useEffect=function(O,K){return Se.current.useEffect(O,K)},Ce.useId=function(){return Se.current.useId()},Ce.useImperativeHandle=function(O,K,ge){return Se.current.useImperativeHandle(O,K,ge)},Ce.useInsertionEffect=function(O,K){return Se.current.useInsertionEffect(O,K)},Ce.useLayoutEffect=function(O,K){return Se.current.useLayoutEffect(O,K)},Ce.useMemo=function(O,K){return Se.current.useMemo(O,K)},Ce.useReducer=function(O,K,ge){return Se.current.useReducer(O,K,ge)},Ce.useRef=function(O){return Se.current.useRef(O)},Ce.useState=function(O){return Se.current.useState(O)},Ce.useSyncExternalStore=function(O,K,ge){return Se.current.useSyncExternalStore(O,K,ge)},Ce.useTransition=function(){return Se.current.useTransition()},Ce.version="18.3.1",Ce}var ly;function Nd(){return ly||(ly=1,vf.exports=wA()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function EA(){if(uy)return ba;uy=1;var n=Nd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var _,w={},T=null,C=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:f,key:T,ref:C,props:w,_owner:o.current}}return ba.Fragment=t,ba.jsx=u,ba.jsxs=u,ba}var cy;function TA(){return cy||(cy=1,_f.exports=EA()),_f.exports}var oe=TA(),de=Nd(),ju={},wf={exports:{}},an={},Ef={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function AA(){return hy||(hy=1,function(n){function e(ne,me){var se=ne.length;ne.push(me);e:for(;0<se;){var O=se-1>>>1,K=ne[O];if(0<o(K,me))ne[O]=me,ne[se]=K,se=O;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var me=ne[0],se=ne.pop();if(se!==me){ne[0]=se;e:for(var O=0,K=ne.length,ge=K>>>1;O<ge;){var Re=2*(O+1)-1,Pe=ne[Re],De=Re+1,Fe=ne[De];if(0>o(Pe,se))De<K&&0>o(Fe,Pe)?(ne[O]=Fe,ne[De]=se,O=De):(ne[O]=Pe,ne[Re]=se,O=Re);else if(De<K&&0>o(Fe,se))ne[O]=Fe,ne[De]=se,O=De;else break e}}return me}function o(ne,me){var se=ne.sortIndex-me.sortIndex;return se!==0?se:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],g=[],_=1,w=null,T=3,C=!1,L=!1,F=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ne){for(var me=t(g);me!==null;){if(me.callback===null)i(g);else if(me.startTime<=ne)i(g),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(g)}}function W(ne){if(F=!1,Q(ne),!L)if(t(p)!==null)L=!0,xt(ee);else{var me=t(g);me!==null&&Se(W,me.startTime-ne)}}function ee(ne,me){L=!1,F&&(F=!1,q(S),S=-1),C=!0;var se=T;try{for(Q(me),w=t(p);w!==null&&(!(w.expirationTime>me)||ne&&!N());){var O=w.callback;if(typeof O=="function"){w.callback=null,T=w.priorityLevel;var K=O(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),Q(me)}else i(p);w=t(p)}if(w!==null)var ge=!0;else{var Re=t(g);Re!==null&&Se(W,Re.startTime-me),ge=!1}return ge}finally{w=null,T=se,C=!1}}var ie=!1,x=null,S=-1,R=5,V=-1;function N(){return!(n.unstable_now()-V<R)}function b(){if(x!==null){var ne=n.unstable_now();V=ne;var me=!0;try{me=x(!0,ne)}finally{me?P():(ie=!1,x=null)}}else ie=!1}var P;if(typeof X=="function")P=function(){X(b)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Ct=Xe.port2;Xe.port1.onmessage=b,P=function(){Ct.postMessage(null)}}else P=function(){M(b,0)};function xt(ne){x=ne,ie||(ie=!0,P())}function Se(ne,me){S=M(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){L||C||(L=!0,xt(ee))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var se=T;T=me;try{return ne()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=T;T=ne;try{return me()}finally{T=se}},n.unstable_scheduleCallback=function(ne,me,se){var O=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:_++,callback:me,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>O?(ne.sortIndex=se,e(g,ne),t(p)===null&&ne===t(g)&&(F?(q(S),S=-1):F=!0,Se(W,se-O))):(ne.sortIndex=K,e(p,ne),L||C||(L=!0,xt(ee))),ne},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(ne){var me=T;return function(){var se=T;T=me;try{return ne.apply(this,arguments)}finally{T=se}}}}(Tf)),Tf}var fy;function SA(){return fy||(fy=1,Ef.exports=AA()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function IA(){if(dy)return an;dy=1;var n=Nd(),e=SA();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return p.call(w,r)?!0:p.call(_,r)?!1:g.test(r)?w[r]=!0:(_[r]=!0,!1)}function C(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,a,h){if(s===null||typeof s>"u"||C(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,a,h,d,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,X);M[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,X);M[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,X);M[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,a,h){var d=M.hasOwnProperty(s)?M[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,d,h)&&(a=null),h||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ie=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,O;function K(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var ge=!1;function Re(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),y=h.stack.split(`
`),E=d.length-1,I=y.length-1;1<=E&&0<=I&&d[E]!==y[I];)I--;for(;1<=E&&0<=I;E--,I--)if(d[E]!==y[I]){if(E!==1||I!==1)do if(E--,I--,0>I||d[E]!==y[I]){var k=`
`+d[E].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=E&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ie:return"Portal";case R:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mr(r){r._valueTracker||(r._valueTracker=Tt(r))}function ws(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xi(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Es(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $o(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function qo(r,s){$o(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ts(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ts(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Rl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ts(r,s,a){(s!=="number"||Br(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var gr=Array.isArray;function yr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Wo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function As(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(gr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Ss(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Ho(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Ko=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function jr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vi=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(r){Vi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ki[s]=ki[r]})});function Go(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ki.hasOwnProperty(r)&&ki[r]?(""+s).trim():s+"px"}function Qo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Go(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Xo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(r,s){if(s){if(Xo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Jo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function Is(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,vn=null,Yn=null;function Ps(r){if(r=Ta(r)){if(typeof Rs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=nu(s),Rs(r.stateNode,r.type,s))}}function Jn(r){vn?Yn?Yn.push(r):Yn=[r]:vn=r}function Zo(){if(vn){var r=vn,s=Yn;if(Yn=vn=null,Ps(r),s)for(r=0;r<s.length;r++)Ps(s[r])}}function Ni(r,s){return r(s)}function ea(){}var vr=!1;function ta(r,s,a){if(vr)return r(s,a);vr=!0;try{return Ni(r,s,a)}finally{vr=!1,(vn!==null||Yn!==null)&&(ea(),Zo())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=nu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Cs=!1;if(f)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Cs=!1}function Mi(r,s,a,h,d,y,E,I,k){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(J){this.onError(J)}}var Li=!1,xs=null,Nn=!1,na=null,Wc={onError:function(r){Li=!0,xs=r}};function ks(r,s,a,h,d,y,E,I,k){Li=!1,xs=null,Mi.apply(Wc,arguments)}function Pl(r,s,a,h,d,y,E,I,k){if(ks.apply(this,arguments),Li){if(Li){var z=xs;Li=!1,xs=null}else throw Error(t(198));Nn||(Nn=!0,na=z)}}function Mn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Oi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(Mn(r)!==r)throw Error(t(188))}function Cl(r){var s=r.alternate;if(!s){if(s=Mn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return Ln(d),r;if(y===h)return Ln(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var E=!1,I=d.child;I;){if(I===a){E=!0,a=d,h=y;break}if(I===h){E=!0,h=d,a=y;break}I=I.sibling}if(!E){for(I=y.child;I;){if(I===a){E=!0,a=y,h=d;break}if(I===h){E=!0,h=y,a=d;break}I=I.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ra(r){return r=Cl(r),r!==null?Vs(r):null}function Vs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Vs(r);if(s!==null)return s;r=r.sibling}return null}var Ds=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,xl=e.unstable_shouldYield,Hc=e.unstable_requestPaint,qe=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,zr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,Fi=null,un=null;function Dl(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Ml,oa=Math.log,Nl=Math.LN2;function Ml(r){return r>>>=0,r===0?32:31-(oa(r)/Nl|0)|0}var Ns=64,Ms=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ui(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var I=E&~d;I!==0?h=$r(I):(y&=E,y!==0&&(h=$r(y)))}else E=a&~d,E!==0?h=$r(E):y!==0&&(h=$r(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function Kc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Kt(y),I=1<<E,k=d[E];k===-1?(!(I&a)||I&h)&&(d[E]=Kc(I,s)):k<=s&&(r.expiredLanes|=I),y&=~I}}function cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bi(){var r=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),r}function qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Wr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Hr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Kr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ll,Ls,Ol,bl,Fl,aa=!1,Zn=[],kt=null,On=null,bn=null,Gr=new Map,En=new Map,er=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Gr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Zt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Ta(s),s!==null&&Ls(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Qc(r,s,a,h,d){switch(s){case"focusin":return kt=Zt(kt,r,s,a,h,d),!0;case"dragenter":return On=Zt(On,r,s,a,h,d),!0;case"mouseover":return bn=Zt(bn,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Gr.set(y,Zt(Gr.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,En.set(y,Zt(En.get(y)||null,r,s,a,h,d)),!0}return!1}function Bl(r){var s=Wi(r.target);if(s!==null){var a=Mn(s);if(a!==null){if(s=a.tag,s===13){if(s=Oi(a),s!==null){r.blockedOn=s,Fl(r.priority,function(){Ol(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Er(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Os(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Di=h,a.target.dispatchEvent(h),Di=null}else return s=Ta(a),s!==null&&Ls(s),r.blockedOn=a,!1;s.shift()}return!0}function ji(r,s,a){Er(r)&&a.delete(s)}function jl(){aa=!1,kt!==null&&Er(kt)&&(kt=null),On!==null&&Er(On)&&(On=null),bn!==null&&Er(bn)&&(bn=null),Gr.forEach(ji),En.forEach(ji)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function Un(r){function s(d){return Fn(d,r)}if(0<Zn.length){Fn(Zn[0],r);for(var a=1;a<Zn.length;a++){var h=Zn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Fn(kt,r),On!==null&&Fn(On,r),bn!==null&&Fn(bn,r),Gr.forEach(s),En.forEach(s),a=0;a<er.length;a++)h=er[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Bl(a),a.blockedOn===null&&er.shift()}var Tr=W.ReactCurrentBatchConfig,Qr=!0;function Ye(r,s,a,h){var d=ke,y=Tr.transition;Tr.transition=null;try{ke=1,la(r,s,a,h)}finally{ke=d,Tr.transition=y}}function Xc(r,s,a,h){var d=ke,y=Tr.transition;Tr.transition=null;try{ke=4,la(r,s,a,h)}finally{ke=d,Tr.transition=y}}function la(r,s,a,h){if(Qr){var d=Os(r,s,a,h);if(d===null)ah(r,s,h,zi,a),Ul(r,h);else if(Qc(d,r,s,a,h))h.stopPropagation();else if(Ul(r,h),s&4&&-1<Gc.indexOf(r)){for(;d!==null;){var y=Ta(d);if(y!==null&&Ll(y),y=Os(r,s,a,h),y===null&&ah(r,s,h,zi,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else ah(r,s,h,null,a)}}var zi=null;function Os(r,s,a,h){if(zi=null,r=Is(h),r=Wi(r),r!==null)if(s=Mn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Oi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return zi=r,null}function ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case bi:return 1;case zr:return 4;case wn:case sa:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var hn=null,bs=null,en=null;function ca(){if(en)return en;var r,s=bs,a=s.length,h,d="value"in hn?hn.value:hn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[y-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function Fs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function tr(){return!0}function ha(){return!1}function Vt(r){function s(a,h,d,y,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?tr:ha,this.isPropagationStopped=ha,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Vt(Bn),nr=se({},Bn,{view:0,detail:0}),Yc=Vt(nr),Bs,Ar,Xr,$i=se({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xr&&(Xr&&r.type==="mousemove"?(Bs=r.screenX-Xr.screenX,Ar=r.screenY-Xr.screenY):Ar=Bs=0,Xr=r),Bs)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),js=Vt($i),fa=se({},$i,{dataTransfer:0}),zl=Vt(fa),zs=se({},nr,{relatedTarget:0}),$s=Vt(zs),$l=se({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Vt($l),ql=se({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wl=Vt(ql),Hl=se({},Bn,{data:0}),da=Vt(Hl),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kl[r])?!!s[r]:!1}function rr(){return Gl}var c=se({},nr,{key:function(r){if(r.key){var s=qs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(c),v=se({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Vt(v),U=se({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),$=Vt(U),re=se({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Vt(re),yt=se({},$i,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(yt),At=[9,13,27,32],ht=f&&"CompositionEvent"in window,Tn=null;f&&"documentMode"in document&&(Tn=document.documentMode);var fn=f&&"TextEvent"in window&&!Tn,qi=f&&(!ht||Tn&&8<Tn&&11>=Tn),Ws=" ",tm=!1;function nm(r,s){switch(r){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Hs=!1;function _0(r,s){switch(r){case"compositionend":return rm(s);case"keypress":return s.which!==32?null:(tm=!0,Ws);case"textInput":return r=s.data,r===Ws&&tm?null:r;default:return null}}function v0(r,s){if(Hs)return r==="compositionend"||!ht&&nm(r,s)?(r=ca(),en=bs=hn=null,Hs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qi&&s.locale!=="ko"?null:s.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!w0[r.type]:s==="textarea"}function sm(r,s,a,h){Jn(h),s=Zl(s,"onChange"),0<s.length&&(a=new Us("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var pa=null,ma=null;function E0(r){Am(r,0)}function Ql(r){var s=Ys(r);if(ws(s))return r}function T0(r,s){if(r==="change")return s}var om=!1;if(f){var Jc;if(f){var Zc="oninput"in document;if(!Zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),Zc=typeof am.oninput=="function"}Jc=Zc}else Jc=!1;om=Jc&&(!document.documentMode||9<document.documentMode)}function lm(){pa&&(pa.detachEvent("onpropertychange",um),ma=pa=null)}function um(r){if(r.propertyName==="value"&&Ql(ma)){var s=[];sm(s,ma,r,Is(r)),ta(E0,s)}}function A0(r,s,a){r==="focusin"?(lm(),pa=s,ma=a,pa.attachEvent("onpropertychange",um)):r==="focusout"&&lm()}function S0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(ma)}function I0(r,s){if(r==="click")return Ql(s)}function R0(r,s){if(r==="input"||r==="change")return Ql(s)}function P0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var jn=typeof Object.is=="function"?Object.is:P0;function ga(r,s){if(jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!jn(r[d],s[d]))return!1}return!0}function cm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hm(r,s){var a=cm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cm(a)}}function fm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?fm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dm(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Br(r.document)}return s}function eh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function C0(r){var s=dm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&fm(a.ownerDocument.documentElement,a)){if(h!==null&&eh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=hm(a,y);var E=hm(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var x0=f&&"documentMode"in document&&11>=document.documentMode,Ks=null,th=null,ya=null,nh=!1;function pm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nh||Ks==null||Ks!==Br(h)||(h=Ks,"selectionStart"in h&&eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ya&&ga(ya,h)||(ya=h,h=Zl(th,"onSelect"),0<h.length&&(s=new Us("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Ks)))}function Xl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Gs={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},rh={},mm={};f&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Yl(r){if(rh[r])return rh[r];if(!Gs[r])return r;var s=Gs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in mm)return rh[r]=s[a];return r}var gm=Yl("animationend"),ym=Yl("animationiteration"),_m=Yl("animationstart"),vm=Yl("transitionend"),wm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(r,s){wm.set(r,s),l(s,[r])}for(var ih=0;ih<Em.length;ih++){var sh=Em[ih],k0=sh.toLowerCase(),V0=sh[0].toUpperCase()+sh.slice(1);Yr(k0,"on"+V0)}Yr(gm,"onAnimationEnd"),Yr(ym,"onAnimationIteration"),Yr(_m,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(vm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Tm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Pl(h,s,void 0,r),r.currentTarget=null}function Am(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var I=h[E],k=I.instance,z=I.currentTarget;if(I=I.listener,k!==y&&d.isPropagationStopped())break e;Tm(d,I,z),y=k}else for(E=0;E<h.length;E++){if(I=h[E],k=I.instance,z=I.currentTarget,I=I.listener,k!==y&&d.isPropagationStopped())break e;Tm(d,I,z),y=k}}}if(Nn)throw r=na,Nn=!1,na=null,r}function He(r,s){var a=s[dh];a===void 0&&(a=s[dh]=new Set);var h=r+"__bubble";a.has(h)||(Sm(s,r,2,!1),a.add(h))}function oh(r,s,a){var h=0;s&&(h|=4),Sm(a,r,h,s)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function va(r){if(!r[Jl]){r[Jl]=!0,i.forEach(function(a){a!=="selectionchange"&&(D0.has(a)||oh(a,!1,r),oh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jl]||(s[Jl]=!0,oh("selectionchange",!1,s))}}function Sm(r,s,a,h){switch(ua(s)){case 1:var d=Ye;break;case 4:d=Xc;break;default:d=la}a=d.bind(null,s,a,r),d=void 0,!Cs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function ah(r,s,a,h,d){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;E=E.return}for(;I!==null;){if(E=Wi(I),E===null)return;if(k=E.tag,k===5||k===6){h=y=E;continue e}I=I.parentNode}}h=h.return}ta(function(){var z=y,J=Is(a),Z=[];e:{var Y=wm.get(r);if(Y!==void 0){var ae=Us,he=r;switch(r){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=$s;break;case"focusout":he="blur",ae=$s;break;case"beforeblur":case"afterblur":ae=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=$;break;case gm:case ym:case _m:ae=Sr;break;case vm:ae=je;break;case"scroll":ae=Yc;break;case"wheel":ae=Ne;break;case"copy":case"cut":case"paste":ae=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=A}var fe=(s&4)!==0,lt=!fe&&r==="scroll",B=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var D=z,j;D!==null;){j=D;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,B!==null&&(te=at(D,B),te!=null&&fe.push(wa(D,te,j)))),lt)break;D=D.return}0<fe.length&&(Y=new ae(Y,he,null,a,J),Z.push({event:Y,listeners:fe}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Y&&a!==Di&&(he=a.relatedTarget||a.fromElement)&&(Wi(he)||he[Ir]))break e;if((ae||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=z,he=he?Wi(he):null,he!==null&&(lt=Mn(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=z),ae!==he)){if(fe=js,te="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(fe=A,te="onPointerLeave",B="onPointerEnter",D="pointer"),lt=ae==null?Y:Ys(ae),j=he==null?Y:Ys(he),Y=new fe(te,D+"leave",ae,a,J),Y.target=lt,Y.relatedTarget=j,te=null,Wi(J)===z&&(fe=new fe(B,D+"enter",he,a,J),fe.target=j,fe.relatedTarget=lt,te=fe),lt=te,ae&&he)t:{for(fe=ae,B=he,D=0,j=fe;j;j=Qs(j))D++;for(j=0,te=B;te;te=Qs(te))j++;for(;0<D-j;)fe=Qs(fe),D--;for(;0<j-D;)B=Qs(B),j--;for(;D--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=Qs(fe),B=Qs(B)}fe=null}else fe=null;ae!==null&&Im(Z,Y,ae,fe,!1),he!==null&&lt!==null&&Im(Z,lt,he,fe,!0)}}e:{if(Y=z?Ys(z):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var pe=T0;else if(im(Y))if(om)pe=R0;else{pe=S0;var _e=A0}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=I0);if(pe&&(pe=pe(r,z))){sm(Z,pe,a,J);break e}_e&&_e(r,Y,z),r==="focusout"&&(_e=Y._wrapperState)&&_e.controlled&&Y.type==="number"&&Ts(Y,"number",Y.value)}switch(_e=z?Ys(z):window,r){case"focusin":(im(_e)||_e.contentEditable==="true")&&(Ks=_e,th=z,ya=null);break;case"focusout":ya=th=Ks=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,pm(Z,a,J);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":pm(Z,a,J)}var ve;if(ht)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Hs?nm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(qi&&a.locale!=="ko"&&(Hs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Hs&&(ve=ca()):(hn=J,bs="value"in hn?hn.value:hn.textContent,Hs=!0)),_e=Zl(z,Ee),0<_e.length&&(Ee=new da(Ee,r,null,a,J),Z.push({event:Ee,listeners:_e}),ve?Ee.data=ve:(ve=rm(a),ve!==null&&(Ee.data=ve)))),(ve=fn?_0(r,a):v0(r,a))&&(z=Zl(z,"onBeforeInput"),0<z.length&&(J=new da("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:z}),J.data=ve))}Am(Z,s)})}function wa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Zl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,a),y!=null&&h.unshift(wa(r,y,d)),y=at(r,s),y!=null&&h.push(wa(r,y,d))),r=r.return}return h}function Qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Im(r,s,a,h,d){for(var y=s._reactName,E=[];a!==null&&a!==h;){var I=a,k=I.alternate,z=I.stateNode;if(k!==null&&k===h)break;I.tag===5&&z!==null&&(I=z,d?(k=at(a,y),k!=null&&E.unshift(wa(a,k,I))):d||(k=at(a,y),k!=null&&E.push(wa(a,k,I)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var N0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function Rm(r){return(typeof r=="string"?r:""+r).replace(N0,`
`).replace(M0,"")}function eu(r,s,a){if(s=Rm(s),Rm(r)!==s&&a)throw Error(t(425))}function tu(){}var lh=null,uh=null;function ch(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(r){return Pm.resolve(null).then(r).catch(b0)}:hh;function b0(r){setTimeout(function(){throw r})}function fh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Un(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Un(s)}function Jr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Cm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),ir="__reactFiber$"+Xs,Ea="__reactProps$"+Xs,Ir="__reactContainer$"+Xs,dh="__reactEvents$"+Xs,F0="__reactListeners$"+Xs,U0="__reactHandles$"+Xs;function Wi(r){var s=r[ir];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ir]||a[ir]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Cm(r);r!==null;){if(a=r[ir])return a;r=Cm(r)}return s}r=a,a=r.parentNode}return null}function Ta(r){return r=r[ir]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function nu(r){return r[Ea]||null}var ph=[],Js=-1;function Zr(r){return{current:r}}function Ke(r){0>Js||(r.current=ph[Js],ph[Js]=null,Js--)}function We(r,s){Js++,ph[Js]=r.current,r.current=s}var ei={},Ft=Zr(ei),tn=Zr(!1),Hi=ei;function Zs(r,s){var a=r.type.contextTypes;if(!a)return ei;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function ru(){Ke(tn),Ke(Ft)}function xm(r,s,a){if(Ft.current!==ei)throw Error(t(168));We(Ft,s),We(tn,a)}function km(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return se({},a,h)}function iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ei,Hi=Ft.current,We(Ft,r),We(tn,tn.current),!0}function Vm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=km(r,s,Hi),h.__reactInternalMemoizedMergedChildContext=r,Ke(tn),Ke(Ft),We(Ft,r)):Ke(tn),We(tn,a)}var Rr=null,su=!1,mh=!1;function Dm(r){Rr===null?Rr=[r]:Rr.push(r)}function B0(r){su=!0,Dm(r)}function ti(){if(!mh&&Rr!==null){mh=!0;var r=0,s=ke;try{var a=Rr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Rr=null,su=!1}catch(d){throw Rr!==null&&(Rr=Rr.slice(r+1)),Ds(bi,ti),d}finally{ke=s,mh=!1}}return null}var eo=[],to=0,ou=null,au=0,An=[],Sn=0,Ki=null,Pr=1,Cr="";function Gi(r,s){eo[to++]=au,eo[to++]=ou,ou=r,au=s}function Nm(r,s,a){An[Sn++]=Pr,An[Sn++]=Cr,An[Sn++]=Ki,Ki=r;var h=Pr;r=Cr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var y=32-Kt(s)+d;if(30<y){var E=d-d%5;y=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Pr=1<<32-Kt(s)+d|a<<d|h,Cr=y+r}else Pr=1<<y|a<<d|h,Cr=r}function gh(r){r.return!==null&&(Gi(r,1),Nm(r,1,0))}function yh(r){for(;r===ou;)ou=eo[--to],eo[to]=null,au=eo[--to],eo[to]=null;for(;r===Ki;)Ki=An[--Sn],An[Sn]=null,Cr=An[--Sn],An[Sn]=null,Pr=An[--Sn],An[Sn]=null}var dn=null,pn=null,Je=!1,zn=null;function Mm(r,s){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Lm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,pn=Jr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ki!==null?{id:Pr,overflow:Cr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,pn=null,!0):!1;default:return!1}}function _h(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vh(r){if(Je){var s=pn;if(s){var a=s;if(!Lm(r,s)){if(_h(r))throw Error(t(418));s=Jr(a.nextSibling);var h=dn;s&&Lm(r,s)?Mm(h,a):(r.flags=r.flags&-4097|2,Je=!1,dn=r)}}else{if(_h(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,dn=r}}}function Om(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function lu(r){if(r!==dn)return!1;if(!Je)return Om(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ch(r.type,r.memoizedProps)),s&&(s=pn)){if(_h(r))throw bm(),Error(t(418));for(;s;)Mm(r,s),s=Jr(s.nextSibling)}if(Om(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){pn=Jr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}pn=null}}else pn=dn?Jr(r.stateNode.nextSibling):null;return!0}function bm(){for(var r=pn;r;)r=Jr(r.nextSibling)}function no(){pn=dn=null,Je=!1}function wh(r){zn===null?zn=[r]:zn.push(r)}var j0=W.ReactCurrentBatchConfig;function Aa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var I=d.refs;E===null?delete I[y]:I[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Fm(r){var s=r._init;return s(r._payload)}function Um(r){function s(B,D){if(r){var j=B.deletions;j===null?(B.deletions=[D],B.flags|=16):j.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=ui(B,D),B.index=0,B.sibling=null,B}function y(B,D,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<D?(B.flags|=2,D):j):(B.flags|=2,D)):(B.flags|=1048576,D)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,D,j,te){return D===null||D.tag!==6?(D=ff(j,B.mode,te),D.return=B,D):(D=d(D,j),D.return=B,D)}function k(B,D,j,te){var pe=j.type;return pe===x?J(B,D,j.props.children,te,j.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xt&&Fm(pe)===D.type)?(te=d(D,j.props),te.ref=Aa(B,D,j),te.return=B,te):(te=Nu(j.type,j.key,j.props,null,B.mode,te),te.ref=Aa(B,D,j),te.return=B,te)}function z(B,D,j,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=df(j,B.mode,te),D.return=B,D):(D=d(D,j.children||[]),D.return=B,D)}function J(B,D,j,te,pe){return D===null||D.tag!==7?(D=ns(j,B.mode,te,pe),D.return=B,D):(D=d(D,j),D.return=B,D)}function Z(B,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ff(""+D,B.mode,j),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ee:return j=Nu(D.type,D.key,D.props,null,B.mode,j),j.ref=Aa(B,null,D),j.return=B,j;case ie:return D=df(D,B.mode,j),D.return=B,D;case xt:var te=D._init;return Z(B,te(D._payload),j)}if(gr(D)||me(D))return D=ns(D,B.mode,j,null),D.return=B,D;uu(B,D)}return null}function Y(B,D,j,te){var pe=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return pe!==null?null:I(B,D,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ee:return j.key===pe?k(B,D,j,te):null;case ie:return j.key===pe?z(B,D,j,te):null;case xt:return pe=j._init,Y(B,D,pe(j._payload),te)}if(gr(j)||me(j))return pe!==null?null:J(B,D,j,te,null);uu(B,j)}return null}function ae(B,D,j,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(j)||null,I(D,B,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ee:return B=B.get(te.key===null?j:te.key)||null,k(D,B,te,pe);case ie:return B=B.get(te.key===null?j:te.key)||null,z(D,B,te,pe);case xt:var _e=te._init;return ae(B,D,j,_e(te._payload),pe)}if(gr(te)||me(te))return B=B.get(j)||null,J(D,B,te,pe,null);uu(D,te)}return null}function he(B,D,j,te){for(var pe=null,_e=null,ve=D,Ee=D=0,Rt=null;ve!==null&&Ee<j.length;Ee++){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var be=Y(B,ve,j[Ee],te);if(be===null){ve===null&&(ve=Rt);break}r&&ve&&be.alternate===null&&s(B,ve),D=y(be,D,Ee),_e===null?pe=be:_e.sibling=be,_e=be,ve=Rt}if(Ee===j.length)return a(B,ve),Je&&Gi(B,Ee),pe;if(ve===null){for(;Ee<j.length;Ee++)ve=Z(B,j[Ee],te),ve!==null&&(D=y(ve,D,Ee),_e===null?pe=ve:_e.sibling=ve,_e=ve);return Je&&Gi(B,Ee),pe}for(ve=h(B,ve);Ee<j.length;Ee++)Rt=ae(ve,B,Ee,j[Ee],te),Rt!==null&&(r&&Rt.alternate!==null&&ve.delete(Rt.key===null?Ee:Rt.key),D=y(Rt,D,Ee),_e===null?pe=Rt:_e.sibling=Rt,_e=Rt);return r&&ve.forEach(function(ci){return s(B,ci)}),Je&&Gi(B,Ee),pe}function fe(B,D,j,te){var pe=me(j);if(typeof pe!="function")throw Error(t(150));if(j=pe.call(j),j==null)throw Error(t(151));for(var _e=pe=null,ve=D,Ee=D=0,Rt=null,be=j.next();ve!==null&&!be.done;Ee++,be=j.next()){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var ci=Y(B,ve,be.value,te);if(ci===null){ve===null&&(ve=Rt);break}r&&ve&&ci.alternate===null&&s(B,ve),D=y(ci,D,Ee),_e===null?pe=ci:_e.sibling=ci,_e=ci,ve=Rt}if(be.done)return a(B,ve),Je&&Gi(B,Ee),pe;if(ve===null){for(;!be.done;Ee++,be=j.next())be=Z(B,be.value,te),be!==null&&(D=y(be,D,Ee),_e===null?pe=be:_e.sibling=be,_e=be);return Je&&Gi(B,Ee),pe}for(ve=h(B,ve);!be.done;Ee++,be=j.next())be=ae(ve,B,Ee,be.value,te),be!==null&&(r&&be.alternate!==null&&ve.delete(be.key===null?Ee:be.key),D=y(be,D,Ee),_e===null?pe=be:_e.sibling=be,_e=be);return r&&ve.forEach(function(vA){return s(B,vA)}),Je&&Gi(B,Ee),pe}function lt(B,D,j,te){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ee:e:{for(var pe=j.key,_e=D;_e!==null;){if(_e.key===pe){if(pe=j.type,pe===x){if(_e.tag===7){a(B,_e.sibling),D=d(_e,j.props.children),D.return=B,B=D;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xt&&Fm(pe)===_e.type){a(B,_e.sibling),D=d(_e,j.props),D.ref=Aa(B,_e,j),D.return=B,B=D;break e}a(B,_e);break}else s(B,_e);_e=_e.sibling}j.type===x?(D=ns(j.props.children,B.mode,te,j.key),D.return=B,B=D):(te=Nu(j.type,j.key,j.props,null,B.mode,te),te.ref=Aa(B,D,j),te.return=B,B=te)}return E(B);case ie:e:{for(_e=j.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(B,D.sibling),D=d(D,j.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=df(j,B.mode,te),D.return=B,B=D}return E(B);case xt:return _e=j._init,lt(B,D,_e(j._payload),te)}if(gr(j))return he(B,D,j,te);if(me(j))return fe(B,D,j,te);uu(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,j),D.return=B,B=D):(a(B,D),D=ff(j,B.mode,te),D.return=B,B=D),E(B)):a(B,D)}return lt}var ro=Um(!0),Bm=Um(!1),cu=Zr(null),hu=null,io=null,Eh=null;function Th(){Eh=io=hu=null}function Ah(r){var s=cu.current;Ke(cu),r._currentValue=s}function Sh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function so(r,s){hu=r,Eh=io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(Eh!==r)if(r={context:r,memoizedValue:s,next:null},io===null){if(hu===null)throw Error(t(308));io=r,hu.dependencies={lanes:0,firstContext:r}}else io=io.next=r;return s}var Qi=null;function Ih(r){Qi===null?Qi=[r]:Qi.push(r)}function jm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Ih(s)):(a.next=d.next,d.next=a),s.interleaved=a,xr(r,h)}function xr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ni=!1;function Rh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ri(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Oe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,xr(r,a)}return d=h.interleaved,d===null?(s.next=s,Ih(h)):(s.next=d.next,d.next=s),h.interleaved=s,xr(r,a)}function fu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}function $m(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function du(r,s,a,h){var d=r.updateQueue;ni=!1;var y=d.firstBaseUpdate,E=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,z=k.next;k.next=null,E===null?y=z:E.next=z,E=k;var J=r.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==E&&(I===null?J.firstBaseUpdate=z:I.next=z,J.lastBaseUpdate=k))}if(y!==null){var Z=d.baseState;E=0,J=z=k=null,I=y;do{var Y=I.lane,ae=I.eventTime;if((h&Y)===Y){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=r,fe=I;switch(Y=s,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){Z=he.call(ae,Z,Y);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,Y=typeof he=="function"?he.call(ae,Z,Y):he,Y==null)break e;Z=se({},Z,Y);break e;case 2:ni=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,Y=d.effects,Y===null?d.effects=[I]:Y.push(I))}else ae={eventTime:ae,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(z=J=ae,k=Z):J=J.next=ae,E|=Y;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(J===null&&(k=Z),d.baseState=k,d.firstBaseUpdate=z,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);Ji|=E,r.lanes=E,r.memoizedState=Z}}function qm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Sa={},sr=Zr(Sa),Ia=Zr(Sa),Ra=Zr(Sa);function Xi(r){if(r===Sa)throw Error(t(174));return r}function Ph(r,s){switch(We(Ra,s),We(Ia,r),We(sr,Sa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Ke(sr),We(sr,s)}function oo(){Ke(sr),Ke(Ia),Ke(Ra)}function Wm(r){Xi(Ra.current);var s=Xi(sr.current),a=gt(s,r.type);s!==a&&(We(Ia,r),We(sr,a))}function Ch(r){Ia.current===r&&(Ke(sr),Ke(Ia))}var Ze=Zr(0);function pu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xh=[];function kh(){for(var r=0;r<xh.length;r++)xh[r]._workInProgressVersionPrimary=null;xh.length=0}var mu=W.ReactCurrentDispatcher,Vh=W.ReactCurrentBatchConfig,Yi=0,et=null,_t=null,St=null,gu=!1,Pa=!1,Ca=0,z0=0;function Ut(){throw Error(t(321))}function Dh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!jn(r[a],s[a]))return!1;return!0}function Nh(r,s,a,h,d,y){if(Yi=y,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=r===null||r.memoizedState===null?H0:K0,r=a(h,d),Pa){y=0;do{if(Pa=!1,Ca=0,25<=y)throw Error(t(301));y+=1,St=_t=null,s.updateQueue=null,mu.current=G0,r=a(h,d)}while(Pa)}if(mu.current=vu,s=_t!==null&&_t.next!==null,Yi=0,St=_t=et=null,gu=!1,s)throw Error(t(300));return r}function Mh(){var r=Ca!==0;return Ca=0,r}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?et.memoizedState=St=r:St=St.next=r,St}function Rn(){if(_t===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=St===null?et.memoizedState:St.next;if(s!==null)St=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?et.memoizedState=St=r:St=St.next=r}return St}function xa(r,s){return typeof s=="function"?s(r):s}function Lh(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=_t,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var E=d.next;d.next=y.next,y.next=E}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var I=E=null,k=null,z=y;do{var J=z.lane;if((Yi&J)===J)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var Z={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(I=k=Z,E=h):k=k.next=Z,et.lanes|=J,Ji|=J}z=z.next}while(z!==null&&z!==y);k===null?E=h:k.next=I,jn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,et.lanes|=y,Ji|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Oh(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do y=r(y,E.action),E=E.next;while(E!==d);jn(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Hm(){}function Km(r,s){var a=et,h=Rn(),d=s(),y=!jn(h.memoizedState,d);if(y&&(h.memoizedState=d,rn=!0),h=h.queue,bh(Xm.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,ka(9,Qm.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));Yi&30||Gm(a,s,d)}return d}function Gm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Qm(r,s,a,h){s.value=a,s.getSnapshot=h,Ym(s)&&Jm(r)}function Xm(r,s,a){return a(function(){Ym(s)&&Jm(r)})}function Ym(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!jn(r,a)}catch{return!0}}function Jm(r){var s=xr(r,1);s!==null&&Hn(s,r,1,-1)}function Zm(r){var s=or();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},s.queue=r,r=r.dispatch=W0.bind(null,et,r),[s.memoizedState,r]}function ka(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function eg(){return Rn().memoizedState}function yu(r,s,a,h){var d=or();et.flags|=r,d.memoizedState=ka(1|s,a,void 0,h===void 0?null:h)}function _u(r,s,a,h){var d=Rn();h=h===void 0?null:h;var y=void 0;if(_t!==null){var E=_t.memoizedState;if(y=E.destroy,h!==null&&Dh(h,E.deps)){d.memoizedState=ka(s,a,y,h);return}}et.flags|=r,d.memoizedState=ka(1|s,a,y,h)}function tg(r,s){return yu(8390656,8,r,s)}function bh(r,s){return _u(2048,8,r,s)}function ng(r,s){return _u(4,2,r,s)}function rg(r,s){return _u(4,4,r,s)}function ig(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sg(r,s,a){return a=a!=null?a.concat([r]):null,_u(4,4,ig.bind(null,s,r),a)}function Fh(){}function og(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function ag(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function lg(r,s,a){return Yi&21?(jn(a,s)||(a=Bi(),et.lanes|=a,Ji|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function $0(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Vh.transition;Vh.transition={};try{r(!1),s()}finally{ke=a,Vh.transition=h}}function ug(){return Rn().memoizedState}function q0(r,s,a){var h=ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},cg(r))hg(s,a);else if(a=jm(r,s,a,h),a!==null){var d=Xt();Hn(a,r,h,d),fg(a,s,h)}}function W0(r,s,a){var h=ai(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(cg(r))hg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,I=y(E,a);if(d.hasEagerState=!0,d.eagerState=I,jn(I,E)){var k=s.interleaved;k===null?(d.next=d,Ih(s)):(d.next=k.next,k.next=d),s.interleaved=d;return}}catch{}finally{}a=jm(r,s,d,h),a!==null&&(d=Xt(),Hn(a,r,h,d),fg(a,s,h))}}function cg(r){var s=r.alternate;return r===et||s!==null&&s===et}function hg(r,s){Pa=gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function fg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}var vu={readContext:In,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},H0={readContext:In,useCallback:function(r,s){return or().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:tg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,yu(4194308,4,ig.bind(null,s,r),a)},useLayoutEffect:function(r,s){return yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return yu(4,2,r,s)},useMemo:function(r,s){var a=or();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=or();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=q0.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=or();return r={current:r},s.memoizedState=r},useState:Zm,useDebugValue:Fh,useDeferredValue:function(r){return or().memoizedState=r},useTransition:function(){var r=Zm(!1),s=r[0];return r=$0.bind(null,r[1]),or().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,d=or();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));Yi&30||Gm(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,tg(Xm.bind(null,h,y,r),[r]),h.flags|=2048,ka(9,Qm.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=or(),s=It.identifierPrefix;if(Je){var a=Cr,h=Pr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ca++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=z0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},K0={readContext:In,useCallback:og,useContext:In,useEffect:bh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:Lh,useRef:eg,useState:function(){return Lh(xa)},useDebugValue:Fh,useDeferredValue:function(r){var s=Rn();return lg(s,_t.memoizedState,r)},useTransition:function(){var r=Lh(xa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1},G0={readContext:In,useCallback:og,useContext:In,useEffect:bh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:Oh,useRef:eg,useState:function(){return Oh(xa)},useDebugValue:Fh,useDeferredValue:function(r){var s=Rn();return _t===null?s.memoizedState=r:lg(s,_t.memoizedState,r)},useTransition:function(){var r=Oh(xa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Uh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wu={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),y=kr(h,d);y.payload=s,a!=null&&(y.callback=a),s=ri(r,y,d),s!==null&&(Hn(s,r,d,h),fu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),y=kr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=ri(r,y,d),s!==null&&(Hn(s,r,d,h),fu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=ai(r),d=kr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ri(r,d,h),s!==null&&(Hn(s,r,h,a),fu(s,r,h))}};function dg(r,s,a,h,d,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!ga(a,h)||!ga(d,y):!0}function pg(r,s,a){var h=!1,d=ei,y=s.contextType;return typeof y=="object"&&y!==null?y=In(y):(d=nn(s)?Hi:Ft.current,h=s.contextTypes,y=(h=h!=null)?Zs(r,d):ei),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function mg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&wu.enqueueReplaceState(s,s.state,null)}function Bh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Rh(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=In(y):(y=nn(s)?Hi:Ft.current,d.context=Zs(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Uh(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&wu.enqueueReplaceState(d,d.state,null),du(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ao(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function jh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function zh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Q0=typeof WeakMap=="function"?WeakMap:Map;function gg(r,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Pu||(Pu=!0,rf=h),zh(r,s)},a}function yg(r,s,a){a=kr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){zh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){zh(r,s),typeof h!="function"&&(si===null?si=new Set([this]):si.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function _g(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Q0;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=uA.bind(null,r,s,a),s.then(r,r))}function vg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function wg(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,ri(a,s,1))),a.lanes|=1),r)}var X0=W.ReactCurrentOwner,rn=!1;function Qt(r,s,a,h){s.child=r===null?Bm(s,null,a,h):ro(s,r.child,a,h)}function Eg(r,s,a,h,d){a=a.render;var y=s.ref;return so(s,d),h=Nh(r,s,a,h,y,d),a=Mh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Je&&a&&gh(s),s.flags|=1,Qt(r,s,h,d),s.child)}function Tg(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!hf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Ag(r,s,y,h,d)):(r=Nu(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&d)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:ga,a(E,h)&&r.ref===s.ref)return Vr(r,s,d)}return s.flags|=1,r=ui(y,h),r.ref=s.ref,r.return=s,s.child=r}function Ag(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(ga(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Vr(r,s,d)}return $h(r,s,a,h,d)}function Sg(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(uo,mn),mn|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(uo,mn),mn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,We(uo,mn),mn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,We(uo,mn),mn|=h;return Qt(r,s,d,a),s.child}function Ig(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function $h(r,s,a,h,d){var y=nn(a)?Hi:Ft.current;return y=Zs(s,y),so(s,d),a=Nh(r,s,a,h,y,d),h=Mh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Je&&h&&gh(s),s.flags|=1,Qt(r,s,a,d),s.child)}function Rg(r,s,a,h,d){if(nn(a)){var y=!0;iu(s)}else y=!1;if(so(s,d),s.stateNode===null)Tu(r,s),pg(s,a,h),Bh(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,I=s.memoizedProps;E.props=I;var k=E.context,z=a.contextType;typeof z=="object"&&z!==null?z=In(z):(z=nn(a)?Hi:Ft.current,z=Zs(s,z));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==h||k!==z)&&mg(s,E,h,z),ni=!1;var Y=s.memoizedState;E.state=Y,du(s,h,E,d),k=s.memoizedState,I!==h||Y!==k||tn.current||ni?(typeof J=="function"&&(Uh(s,a,J,h),k=s.memoizedState),(I=ni||dg(s,a,I,h,Y,k,z))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=z,h=I):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,zm(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:$n(s.type,I),E.props=z,Z=s.pendingProps,Y=E.context,k=a.contextType,typeof k=="object"&&k!==null?k=In(k):(k=nn(a)?Hi:Ft.current,k=Zs(s,k));var ae=a.getDerivedStateFromProps;(J=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==Z||Y!==k)&&mg(s,E,h,k),ni=!1,Y=s.memoizedState,E.state=Y,du(s,h,E,d);var he=s.memoizedState;I!==Z||Y!==he||tn.current||ni?(typeof ae=="function"&&(Uh(s,a,ae,h),he=s.memoizedState),(z=ni||dg(s,a,z,h,Y,he,k)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=k,h=z):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),h=!1)}return qh(r,s,a,h,y,d)}function qh(r,s,a,h,d,y){Ig(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&Vm(s,a,!1),Vr(r,s,y);h=s.stateNode,X0.current=s;var I=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=ro(s,r.child,null,y),s.child=ro(s,null,I,y)):Qt(r,s,I,y),s.memoizedState=h.state,d&&Vm(s,a,!0),s.child}function Pg(r){var s=r.stateNode;s.pendingContext?xm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xm(r,s.context,!1),Ph(r,s.containerInfo)}function Cg(r,s,a,h,d){return no(),wh(d),s.flags|=256,Qt(r,s,a,h),s.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function Hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function xg(r,s,a){var h=s.pendingProps,d=Ze.current,y=!1,E=(s.flags&128)!==0,I;if((I=E)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(Ze,d&1),r===null)return vh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Mu(E,h,0,null),r=ns(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Hh(a),s.memoizedState=Wh,r):Kh(s,E));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return Y0(r,s,E,h,I,d,a);if(y){y=h.fallback,E=s.mode,d=r.child,I=d.sibling;var k={mode:"hidden",children:h.children};return!(E&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=ui(d,k),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?y=ui(I,y):(y=ns(y,E,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Hh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,s.memoizedState=Wh,h}return y=r.child,r=y.sibling,h=ui(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Kh(r,s){return s=Mu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Eu(r,s,a,h){return h!==null&&wh(h),ro(s,r.child,null,a),r=Kh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y0(r,s,a,h,d,y,E){if(a)return s.flags&256?(s.flags&=-257,h=jh(Error(t(422))),Eu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Mu({mode:"visible",children:h.children},d,0,null),y=ns(y,d,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&ro(s,r.child,null,E),s.child.memoizedState=Hh(E),s.memoizedState=Wh,y);if(!(s.mode&1))return Eu(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,y=Error(t(419)),h=jh(y,h,void 0),Eu(r,s,E,h)}if(I=(E&r.childLanes)!==0,rn||I){if(h=It,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|E)?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,xr(r,d),Hn(h,r,d,-1))}return cf(),h=jh(Error(t(421))),Eu(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=cA.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,pn=Jr(d.nextSibling),dn=s,Je=!0,zn=null,r!==null&&(An[Sn++]=Pr,An[Sn++]=Cr,An[Sn++]=Ki,Pr=r.id,Cr=r.overflow,Ki=s),s=Kh(s,h.children),s.flags|=4096,s)}function kg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Sh(r.return,s,a)}function Gh(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Vg(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Qt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kg(r,a,s);else if(r.tag===19)kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Gh(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&pu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Gh(s,!0,a,null,y);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Vr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ji|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ui(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ui(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function J0(r,s,a){switch(s.tag){case 3:Pg(s),no();break;case 5:Wm(s);break;case 1:nn(s.type)&&iu(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(cu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?xg(r,s,a):(We(Ze,Ze.current&1),r=Vr(r,s,a),r!==null?r.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Vg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,Sg(r,s,a)}return Vr(r,s,a)}var Dg,Qh,Ng,Mg;Dg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qh=function(){},Ng=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Xi(sr.current);var y=null;switch(a){case"input":d=xi(r,d),h=xi(r,h),y=[];break;case"select":d=se({},d,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":d=Wo(r,d),h=Wo(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=tu)}Yo(a,h);var E;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(E in I)I.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var k=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&k!==I&&(k!=null||I!=null))if(z==="style")if(I){for(E in I)!I.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in k)k.hasOwnProperty(E)&&I[E]!==k[E]&&(a||(a={}),a[E]=k[E])}else a||(y||(y=[]),y.push(z,a)),a=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(y=y||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&He("scroll",r),y||I===k||(y=[])):(y=y||[]).push(z,k))}a&&(y=y||[]).push("style",a);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},Mg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Va(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function Z0(r,s,a){var h=s.pendingProps;switch(yh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&ru(),Bt(s),null;case 3:return h=s.stateNode,oo(),Ke(tn),Ke(Ft),kh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(lu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zn!==null&&(af(zn),zn=null))),Qh(r,s),Bt(s),null;case 5:Ch(s);var d=Xi(Ra.current);if(a=s.type,r!==null&&s.stateNode!=null)Ng(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Xi(sr.current),lu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[ir]=s,h[Ea]=y,r=(s.mode&1)!==0,a){case"dialog":He("cancel",h),He("close",h);break;case"iframe":case"object":case"embed":He("load",h);break;case"video":case"audio":for(d=0;d<_a.length;d++)He(_a[d],h);break;case"source":He("error",h);break;case"img":case"image":case"link":He("error",h),He("load",h);break;case"details":He("toggle",h);break;case"input":Es(h,y),He("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},He("invalid",h);break;case"textarea":As(h,y),He("invalid",h)}Yo(a,y),d=null;for(var E in y)if(y.hasOwnProperty(E)){var I=y[E];E==="children"?typeof I=="string"?h.textContent!==I&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(E)&&I!=null&&E==="onScroll"&&He("scroll",h)}switch(a){case"input":mr(h),Rl(h,y,!0);break;case"textarea":mr(h),Ho(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=tu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[ir]=s,r[Ea]=h,Dg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Jo(a,h),a){case"dialog":He("cancel",r),He("close",r),d=h;break;case"iframe":case"object":case"embed":He("load",r),d=h;break;case"video":case"audio":for(d=0;d<_a.length;d++)He(_a[d],r);d=h;break;case"source":He("error",r),d=h;break;case"img":case"image":case"link":He("error",r),He("load",r),d=h;break;case"details":He("toggle",r),d=h;break;case"input":Es(r,h),d=xi(r,h),He("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=se({},h,{value:void 0}),He("invalid",r);break;case"textarea":As(r,h),d=Wo(r,h),He("invalid",r);break;default:d=h}Yo(a,d),I=d;for(y in I)if(I.hasOwnProperty(y)){var k=I[y];y==="style"?Qo(r,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ko(r,k)):y==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&jr(r,k):typeof k=="number"&&jr(r,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&He("scroll",r):k!=null&&Q(r,y,k,E))}switch(a){case"input":mr(r),Rl(r,h,!1);break;case"textarea":mr(r),Ho(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?yr(r,!!h.multiple,y,!1):h.defaultValue!=null&&yr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=tu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)Mg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Xi(Ra.current),Xi(sr.current),lu(s)){if(h=s.stateNode,a=s.memoizedProps,h[ir]=s,(y=h.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:eu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&eu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ir]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ke(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&pn!==null&&s.mode&1&&!(s.flags&128))bm(),no(),s.flags|=98560,y=!1;else if(y=lu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ir]=s}else no(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else zn!==null&&(af(zn),zn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?vt===0&&(vt=3):cf())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return oo(),Qh(r,s),r===null&&va(s.stateNode.containerInfo),Bt(s),null;case 10:return Ah(s.type._context),Bt(s),null;case 17:return nn(s.type)&&ru(),Bt(s),null;case 19:if(Ke(Ze),y=s.memoizedState,y===null)return Bt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Va(y,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=pu(r),E!==null){for(s.flags|=128,Va(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}r=r.sibling}y.tail!==null&&qe()>co&&(s.flags|=128,h=!0,Va(y,!1),s.lanes=4194304)}else{if(!h)if(r=pu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Va(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Je)return Bt(s),null}else 2*qe()-y.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,h=!0,Va(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,a=Ze.current,We(Ze,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return uf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?mn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eA(r,s){switch(yh(s),s.tag){case 1:return nn(s.type)&&ru(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return oo(),Ke(tn),Ke(Ft),kh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ch(s),null;case 13:if(Ke(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));no()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ze),null;case 4:return oo(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var Au=!1,jt=!1,tA=typeof WeakSet=="function"?WeakSet:Set,ue=null;function lo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function Xh(r,s,a){try{a()}catch(h){rt(r,s,h)}}var Lg=!1;function nA(r,s){if(lh=Qr,r=dm(),eh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,I=-1,k=-1,z=0,J=0,Z=r,Y=null;t:for(;;){for(var ae;Z!==a||d!==0&&Z.nodeType!==3||(I=E+d),Z!==y||h!==0&&Z.nodeType!==3||(k=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)Y=Z,Z=ae;for(;;){if(Z===r)break t;if(Y===a&&++z===d&&(I=E),Y===y&&++J===h&&(k=E),(ae=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ae}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(uh={focusedElem:r,selectionRange:a},Qr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,lt=he.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:$n(s.type,fe),lt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){rt(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return he=Lg,Lg=!1,he}function Da(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Xh(s,a,y)}d=d.next}while(d!==h)}}function Su(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Yh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Og(r){var s=r.alternate;s!==null&&(r.alternate=null,Og(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ir],delete s[Ea],delete s[dh],delete s[F0],delete s[U0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function bg(r){return r.tag===5||r.tag===3||r.tag===4}function Fg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=tu));else if(h!==4&&(r=r.child,r!==null))for(Jh(r,s,a),r=r.sibling;r!==null;)Jh(r,s,a),r=r.sibling}function Zh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Zh(r,s,a),r=r.sibling;r!==null;)Zh(r,s,a),r=r.sibling}var Dt=null,qn=!1;function ii(r,s,a){for(a=a.child;a!==null;)Ug(r,s,a),a=a.sibling}function Ug(r,s,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Fi,a)}catch{}switch(a.tag){case 5:jt||lo(a,s);case 6:var h=Dt,d=qn;Dt=null,ii(r,s,a),Dt=h,qn=d,Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?fh(r.parentNode,a):r.nodeType===1&&fh(r,a),Un(r)):fh(Dt,a.stateNode));break;case 4:h=Dt,d=qn,Dt=a.stateNode.containerInfo,qn=!0,ii(r,s,a),Dt=h,qn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Xh(a,s,E),d=d.next}while(d!==h)}ii(r,s,a);break;case 1:if(!jt&&(lo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){rt(a,s,I)}ii(r,s,a);break;case 21:ii(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,ii(r,s,a),jt=h):ii(r,s,a);break;default:ii(r,s,a)}}function Bg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tA),s.forEach(function(h){var d=hA.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Wn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,qn=!1;break e;case 3:Dt=I.stateNode.containerInfo,qn=!0;break e;case 4:Dt=I.stateNode.containerInfo,qn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));Ug(y,E,d),Dt=null,qn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(z){rt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)jg(s,r),s=s.sibling}function jg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),ar(r),h&4){try{Da(3,r,r.return),Su(3,r)}catch(fe){rt(r,r.return,fe)}try{Da(5,r,r.return)}catch(fe){rt(r,r.return,fe)}}break;case 1:Wn(s,r),ar(r),h&512&&a!==null&&lo(a,a.return);break;case 5:if(Wn(s,r),ar(r),h&512&&a!==null&&lo(a,a.return),r.flags&32){var d=r.stateNode;try{jr(d,"")}catch(fe){rt(r,r.return,fe)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,I=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&$o(d,y),Jo(I,E);var z=Jo(I,y);for(E=0;E<k.length;E+=2){var J=k[E],Z=k[E+1];J==="style"?Qo(d,Z):J==="dangerouslySetInnerHTML"?Ko(d,Z):J==="children"?jr(d,Z):Q(d,J,Z,z)}switch(I){case"input":qo(d,y);break;case"textarea":Ss(d,y);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?yr(d,!!y.multiple,ae,!1):Y!==!!y.multiple&&(y.defaultValue!=null?yr(d,!!y.multiple,y.defaultValue,!0):yr(d,!!y.multiple,y.multiple?[]:"",!1))}d[Ea]=y}catch(fe){rt(r,r.return,fe)}}break;case 6:if(Wn(s,r),ar(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(fe){rt(r,r.return,fe)}}break;case 3:if(Wn(s,r),ar(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(fe){rt(r,r.return,fe)}break;case 4:Wn(s,r),ar(r);break;case 13:Wn(s,r),ar(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(nf=qe())),h&4&&Bg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||J,Wn(s,r),jt=z):Wn(s,r),ar(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!J&&r.mode&1)for(ue=r,J=r.child;J!==null;){for(Z=ue=J;ue!==null;){switch(Y=ue,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:Da(4,Y,Y.return);break;case 1:lo(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){h=Y,a=Y.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){rt(h,a,fe)}}break;case 5:lo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){qg(Z);continue}}ae!==null?(ae.return=Y,ue=ae):qg(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,z?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=Z.stateNode,k=Z.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Go("display",E))}catch(fe){rt(r,r.return,fe)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(fe){rt(r,r.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Wn(s,r),ar(r),h&4&&Bg(r);break;case 21:break;default:Wn(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(bg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(jr(d,""),h.flags&=-33);var y=Fg(r);Zh(r,y,d);break;case 3:case 4:var E=h.stateNode.containerInfo,I=Fg(r);Jh(r,I,E);break;default:throw Error(t(161))}}catch(k){rt(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rA(r,s,a){ue=r,zg(r)}function zg(r,s,a){for(var h=(r.mode&1)!==0;ue!==null;){var d=ue,y=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||Au;if(!E){var I=d.alternate,k=I!==null&&I.memoizedState!==null||jt;I=Au;var z=jt;if(Au=E,(jt=k)&&!z)for(ue=d;ue!==null;)E=ue,k=E.child,E.tag===22&&E.memoizedState!==null?Wg(d):k!==null?(k.return=E,ue=k):Wg(d);for(;y!==null;)ue=y,zg(y),y=y.sibling;ue=d,Au=I,jt=z}$g(r)}else d.subtreeFlags&8772&&y!==null?(y.return=d,ue=y):$g(r)}}function $g(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||Su(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:$n(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&qm(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}qm(s,E,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Un(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Yh(s)}catch(Y){rt(s,s.return,Y)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function qg(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function Wg(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Su(4,s)}catch(k){rt(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(k){rt(s,d,k)}}var y=s.return;try{Yh(s)}catch(k){rt(s,y,k)}break;case 5:var E=s.return;try{Yh(s)}catch(k){rt(s,E,k)}}}catch(k){rt(s,s.return,k)}if(s===r){ue=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ue=I;break}ue=s.return}}var iA=Math.ceil,Iu=W.ReactCurrentDispatcher,ef=W.ReactCurrentOwner,Pn=W.ReactCurrentBatchConfig,Oe=0,It=null,ft=null,Nt=0,mn=0,uo=Zr(0),vt=0,Na=null,Ji=0,Ru=0,tf=0,Ma=null,sn=null,nf=0,co=1/0,Dr=null,Pu=!1,rf=null,si=null,Cu=!1,oi=null,xu=0,La=0,sf=null,ku=-1,Vu=0;function Xt(){return Oe&6?qe():ku!==-1?ku:ku=qe()}function ai(r){return r.mode&1?Oe&2&&Nt!==0?Nt&-Nt:j0.transition!==null?(Vu===0&&(Vu=Bi()),Vu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:ua(r.type)),r):1}function Hn(r,s,a,h){if(50<La)throw La=0,sf=null,Error(t(185));Wr(r,a,h),(!(Oe&2)||r!==It)&&(r===It&&(!(Oe&2)&&(Ru|=a),vt===4&&li(r,Nt)),on(r,h),a===1&&Oe===0&&!(s.mode&1)&&(co=qe()+500,su&&ti()))}function on(r,s){var a=r.callbackNode;wr(r,s);var h=Ui(r,r===It?Nt:0);if(h===0)a!==null&&ia(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ia(a),s===1)r.tag===0?B0(Kg.bind(null,r)):Dm(Kg.bind(null,r)),O0(function(){!(Oe&6)&&ti()}),a=null;else{switch(Kr(h)){case 1:a=bi;break;case 4:a=zr;break;case 16:a=wn;break;case 536870912:a=Vl;break;default:a=wn}a=ty(a,Hg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Hg(r,s){if(ku=-1,Vu=0,Oe&6)throw Error(t(327));var a=r.callbackNode;if(ho()&&r.callbackNode!==a)return null;var h=Ui(r,r===It?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Du(r,h);else{s=h;var d=Oe;Oe|=2;var y=Qg();(It!==r||Nt!==s)&&(Dr=null,co=qe()+500,es(r,s));do try{aA();break}catch(I){Gg(r,I)}while(!0);Th(),Iu.current=y,Oe=d,ft!==null?s=0:(It=null,Nt=0,s=vt)}if(s!==0){if(s===2&&(d=cn(r),d!==0&&(h=d,s=of(r,d))),s===1)throw a=Na,es(r,0),li(r,h),on(r,qe()),a;if(s===6)li(r,h);else{if(d=r.current.alternate,!(h&30)&&!sA(d)&&(s=Du(r,h),s===2&&(y=cn(r),y!==0&&(h=y,s=of(r,y))),s===1))throw a=Na,es(r,0),li(r,h),on(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ts(r,sn,Dr);break;case 3:if(li(r,h),(h&130023424)===h&&(s=nf+500-qe(),10<s)){if(Ui(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=hh(ts.bind(null,r,sn,Dr),s);break}ts(r,sn,Dr);break;case 4:if(li(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-Kt(h);y=1<<E,E=s[E],E>d&&(d=E),h&=~y}if(h=d,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iA(h/1960))-h,10<h){r.timeoutHandle=hh(ts.bind(null,r,sn,Dr),h);break}ts(r,sn,Dr);break;case 5:ts(r,sn,Dr);break;default:throw Error(t(329))}}}return on(r,qe()),r.callbackNode===a?Hg.bind(null,r):null}function of(r,s){var a=Ma;return r.current.memoizedState.isDehydrated&&(es(r,s).flags|=256),r=Du(r,s),r!==2&&(s=sn,sn=a,s!==null&&af(s)),r}function af(r){sn===null?sn=r:sn.push.apply(sn,r)}function sA(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!jn(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function li(r,s){for(s&=~tf,s&=~Ru,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function Kg(r){if(Oe&6)throw Error(t(327));ho();var s=Ui(r,0);if(!(s&1))return on(r,qe()),null;var a=Du(r,s);if(r.tag!==0&&a===2){var h=cn(r);h!==0&&(s=h,a=of(r,h))}if(a===1)throw a=Na,es(r,0),li(r,s),on(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ts(r,sn,Dr),on(r,qe()),null}function lf(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(co=qe()+500,su&&ti())}}function Zi(r){oi!==null&&oi.tag===0&&!(Oe&6)&&ho();var s=Oe;Oe|=1;var a=Pn.transition,h=ke;try{if(Pn.transition=null,ke=1,r)return r()}finally{ke=h,Pn.transition=a,Oe=s,!(Oe&6)&&ti()}}function uf(){mn=uo.current,Ke(uo)}function es(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,L0(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(yh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ru();break;case 3:oo(),Ke(tn),Ke(Ft),kh();break;case 5:Ch(h);break;case 4:oo();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Ah(h.type._context);break;case 22:case 23:uf()}a=a.return}if(It=r,ft=r=ui(r.current,null),Nt=mn=s,vt=0,Na=null,tf=Ru=Ji=0,sn=Ma=null,Qi!==null){for(s=0;s<Qi.length;s++)if(a=Qi[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=d,h.next=E}a.pending=h}Qi=null}return r}function Gg(r,s){do{var a=ft;try{if(Th(),mu.current=vu,gu){for(var h=et.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}gu=!1}if(Yi=0,St=_t=et=null,Pa=!1,Ca=0,ef.current=null,a===null||a.return===null){vt=1,Na=s,ft=null;break}e:{var y=r,E=a.return,I=a,k=s;if(s=Nt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,J=I,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=vg(E);if(ae!==null){ae.flags&=-257,wg(ae,E,I,y,s),ae.mode&1&&_g(y,z,s),s=ae,k=z;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(k),s.updateQueue=fe}else he.add(k);break e}else{if(!(s&1)){_g(y,z,s),cf();break e}k=Error(t(426))}}else if(Je&&I.mode&1){var lt=vg(E);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),wg(lt,E,I,y,s),wh(ao(k,I));break e}}y=k=ao(k,I),vt!==4&&(vt=2),Ma===null?Ma=[y]:Ma.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=gg(y,k,s);$m(y,B);break e;case 1:I=k;var D=y.type,j=y.stateNode;if(!(y.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(si===null||!si.has(j)))){y.flags|=65536,s&=-s,y.lanes|=s;var te=yg(y,I,s);$m(y,te);break e}}y=y.return}while(y!==null)}Yg(a)}catch(pe){s=pe,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Qg(){var r=Iu.current;return Iu.current=vu,r===null?vu:r}function cf(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||!(Ji&268435455)&&!(Ru&268435455)||li(It,Nt)}function Du(r,s){var a=Oe;Oe|=2;var h=Qg();(It!==r||Nt!==s)&&(Dr=null,es(r,s));do try{oA();break}catch(d){Gg(r,d)}while(!0);if(Th(),Oe=a,Iu.current=h,ft!==null)throw Error(t(261));return It=null,Nt=0,vt}function oA(){for(;ft!==null;)Xg(ft)}function aA(){for(;ft!==null&&!xl();)Xg(ft)}function Xg(r){var s=ey(r.alternate,r,mn);r.memoizedProps=r.pendingProps,s===null?Yg(r):ft=s,ef.current=null}function Yg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=eA(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,ft=null;return}}else if(a=Z0(a,s,mn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);vt===0&&(vt=5)}function ts(r,s,a){var h=ke,d=Pn.transition;try{Pn.transition=null,ke=1,lA(r,s,a,h)}finally{Pn.transition=d,ke=h}return null}function lA(r,s,a,h){do ho();while(oi!==null);if(Oe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ze(r,y),r===It&&(ft=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Cu||(Cu=!0,ty(wn,function(){return ho(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=Pn.transition,Pn.transition=null;var E=ke;ke=1;var I=Oe;Oe|=4,ef.current=null,nA(r,a),jg(a,r),C0(uh),Qr=!!lh,uh=lh=null,r.current=a,rA(a),Hc(),Oe=I,ke=E,Pn.transition=y}else r.current=a;if(Cu&&(Cu=!1,oi=r,xu=d),y=r.pendingLanes,y===0&&(si=null),Dl(a.stateNode),on(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Pu)throw Pu=!1,r=rf,rf=null,r;return xu&1&&r.tag!==0&&ho(),y=r.pendingLanes,y&1?r===sf?La++:(La=0,sf=r):La=0,ti(),null}function ho(){if(oi!==null){var r=Kr(xu),s=Pn.transition,a=ke;try{if(Pn.transition=null,ke=16>r?16:r,oi===null)var h=!1;else{if(r=oi,oi=null,xu=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,ue=r.current;ue!==null;){var y=ue,E=y.child;if(ue.flags&16){var I=y.deletions;if(I!==null){for(var k=0;k<I.length;k++){var z=I[k];for(ue=z;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Da(8,J,y)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var Y=J.sibling,ae=J.return;if(Og(J),J===z){ue=null;break}if(Y!==null){Y.return=ae,ue=Y;break}ue=ae}}}var he=y.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}ue=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ue=E;else e:for(;ue!==null;){if(y=ue,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Da(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ue=B;break e}ue=y.return}}var D=r.current;for(ue=D;ue!==null;){E=ue;var j=E.child;if(E.subtreeFlags&2064&&j!==null)j.return=E,ue=j;else e:for(E=D;ue!==null;){if(I=ue,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Su(9,I)}}catch(pe){rt(I,I.return,pe)}if(I===E){ue=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,ue=te;break e}ue=I.return}}if(Oe=d,ti(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Fi,r)}catch{}h=!0}return h}finally{ke=a,Pn.transition=s}}return!1}function Jg(r,s,a){s=ao(a,s),s=gg(r,s,1),r=ri(r,s,1),s=Xt(),r!==null&&(Wr(r,1,s),on(r,s))}function rt(r,s,a){if(r.tag===3)Jg(r,r,a);else for(;s!==null;){if(s.tag===3){Jg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))){r=ao(a,r),r=yg(s,r,1),s=ri(s,r,1),r=Xt(),s!==null&&(Wr(s,1,r),on(s,r));break}}s=s.return}}function uA(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>qe()-nf?es(r,0):tf|=a),on(r,s)}function Zg(r,s){s===0&&(r.mode&1?(s=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):s=1);var a=Xt();r=xr(r,s),r!==null&&(Wr(r,s,a),on(r,a))}function cA(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Zg(r,a)}function hA(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Zg(r,a)}var ey;ey=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,J0(r,s,a);rn=!!(r.flags&131072)}else rn=!1,Je&&s.flags&1048576&&Nm(s,au,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Tu(r,s),r=s.pendingProps;var d=Zs(s,Ft.current);so(s,a),d=Nh(null,s,h,r,d,a);var y=Mh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,iu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Rh(s),d.updater=wu,s.stateNode=d,d._reactInternals=s,Bh(s,h,r,a),s=qh(null,s,h,!0,y,a)):(s.tag=0,Je&&y&&gh(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Tu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=dA(h),r=$n(h,r),d){case 0:s=$h(null,s,h,r,a);break e;case 1:s=Rg(null,s,h,r,a);break e;case 11:s=Eg(null,s,h,r,a);break e;case 14:s=Tg(null,s,h,$n(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),$h(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),Rg(r,s,h,d,a);case 3:e:{if(Pg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,zm(r,s),du(s,h,null,a);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=ao(Error(t(423)),s),s=Cg(r,s,h,a,d);break e}else if(h!==d){d=ao(Error(t(424)),s),s=Cg(r,s,h,a,d);break e}else for(pn=Jr(s.stateNode.containerInfo.firstChild),dn=s,Je=!0,zn=null,a=Bm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),h===d){s=Vr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Wm(s),r===null&&vh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,E=d.children,ch(h,d)?E=null:y!==null&&ch(h,y)&&(s.flags|=32),Ig(r,s),Qt(r,s,E,a),s.child;case 6:return r===null&&vh(s),null;case 13:return xg(r,s,a);case 4:return Ph(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ro(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),Eg(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,E=d.value,We(cu,h._currentValue),h._currentValue=E,y!==null)if(jn(y.value,E)){if(y.children===d.children&&!tn.current){s=Vr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var I=y.dependencies;if(I!==null){E=y.child;for(var k=I.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=kr(-1,a&-a),k.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?k.next=k:(k.next=J.next,J.next=k),z.pending=k}}y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),Sh(y.return,a,s),I.lanes|=a;break}k=k.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,I=E.alternate,I!==null&&(I.lanes|=a),Sh(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,so(s,a),d=In(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=$n(h,s.pendingProps),d=$n(h.type,d),Tg(r,s,h,d,a);case 15:return Ag(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),Tu(r,s),s.tag=1,nn(h)?(r=!0,iu(s)):r=!1,so(s,a),pg(s,h,d),Bh(s,h,d,a),qh(null,s,h,!0,r,a);case 19:return Vg(r,s,a);case 22:return Sg(r,s,a)}throw Error(t(156,s.tag))};function ty(r,s){return Ds(r,s)}function fA(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,h){return new fA(r,s,a,h)}function hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function dA(r){if(typeof r=="function")return hf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Ct)return 14}return 2}function ui(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Nu(r,s,a,h,d,y){var E=2;if(h=r,typeof r=="function")hf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case x:return ns(a.children,d,y,s);case S:E=8,d|=8;break;case R:return r=Cn(12,a,s,d|2),r.elementType=R,r.lanes=y,r;case P:return r=Cn(13,a,s,d),r.elementType=P,r.lanes=y,r;case Xe:return r=Cn(19,a,s,d),r.elementType=Xe,r.lanes=y,r;case Se:return Mu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case N:E=9;break e;case b:E=11;break e;case Ct:E=14;break e;case xt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function ns(r,s,a,h){return r=Cn(7,r,h,s),r.lanes=a,r}function Mu(r,s,a,h){return r=Cn(22,r,h,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function ff(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function df(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pA(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function pf(r,s,a,h,d,y,E,I,k){return r=new pA(r,s,a,I,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Cn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(y),r}function mA(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function ny(r){if(!r)return ei;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return km(r,a,s)}return s}function ry(r,s,a,h,d,y,E,I,k){return r=pf(a,h,!0,r,d,y,E,I,k),r.context=ny(null),a=r.current,h=Xt(),d=ai(a),y=kr(h,d),y.callback=s??null,ri(a,y,d),r.current.lanes=d,Wr(r,d,h),on(r,h),r}function Lu(r,s,a,h){var d=s.current,y=Xt(),E=ai(d);return a=ny(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ri(d,s,E),r!==null&&(Hn(r,d,E,y),fu(r,d,E)),E}function Ou(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function iy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function mf(r,s){iy(r,s),(r=r.alternate)&&iy(r,s)}var sy=typeof reportError=="function"?reportError:function(r){console.error(r)};function gf(r){this._internalRoot=r}bu.prototype.render=gf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Lu(r,s,null,null)},bu.prototype.unmount=gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zi(function(){Lu(null,r,null,null)}),s[Ir]=null}};function bu(r){this._internalRoot=r}bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=bl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Bl(r)}};function yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function oy(){}function gA(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var z=Ou(E);y.call(z)}}var E=ry(s,h,r,0,null,!1,!1,"",oy);return r._reactRootContainer=E,r[Ir]=E.current,va(r.nodeType===8?r.parentNode:r),Zi(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=Ou(k);I.call(z)}}var k=pf(r,0,!1,null,null,!1,!1,"",oy);return r._reactRootContainer=k,r[Ir]=k.current,va(r.nodeType===8?r.parentNode:r),Zi(function(){Lu(s,k,a,h)}),k}function Uu(r,s,a,h,d){var y=a._reactRootContainer;if(y){var E=y;if(typeof d=="function"){var I=d;d=function(){var k=Ou(E);I.call(k)}}Lu(s,E,r,d)}else E=gA(a,s,r,d,h);return Ou(E)}Ll=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$r(s.pendingLanes);a!==0&&(Hr(s,a|1),on(s,qe()),!(Oe&6)&&(co=qe()+500,ti()))}break;case 13:Zi(function(){var h=xr(r,1);if(h!==null){var d=Xt();Hn(h,r,1,d)}}),mf(r,1)}},Ls=function(r){if(r.tag===13){var s=xr(r,134217728);if(s!==null){var a=Xt();Hn(s,r,134217728,a)}mf(r,134217728)}},Ol=function(r){if(r.tag===13){var s=ai(r),a=xr(r,s);if(a!==null){var h=Xt();Hn(a,r,s,h)}mf(r,s)}},bl=function(){return ke},Fl=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},Rs=function(r,s,a){switch(s){case"input":if(qo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=nu(h);if(!d)throw Error(t(90));ws(h),qo(h,d)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&yr(r,!!a.multiple,s,!1)}},Ni=lf,ea=Zi;var yA={usingClientEntryPoint:!1,Events:[Ta,Ys,nu,Jn,Zo,lf]},Oa={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_A={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ra(r),r===null?null:r.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Fi=Bu.inject(_A),un=Bu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(s))throw Error(t(200));return mA(r,s,null,a)},an.createRoot=function(r,s){if(!yf(r))throw Error(t(299));var a=!1,h="",d=sy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=pf(r,1,!1,null,null,a,!1,h,d),r[Ir]=s.current,va(r.nodeType===8?r.parentNode:r),new gf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ra(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return Zi(r)},an.hydrate=function(r,s,a){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!yf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",E=sy;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=ry(s,null,r,1,a??null,d,!1,y,E),r[Ir]=s.current,va(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new bu(s)},an.render=function(r,s,a){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(t(40));return r._reactRootContainer?(Zi(function(){Uu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},an.unstable_batchedUpdates=lf,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Fu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Uu(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var py;function RA(){if(py)return wf.exports;py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=IA(),wf.exports}var my;function PA(){if(my)return ju;my=1;var n=RA();return ju.createRoot=n.createRoot,ju.hydrateRoot=n.hydrateRoot,ju}var CA=PA();function lc({children:n}){return oe.jsx("div",{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:n})}function Ju({children:n,onClick:e}){return oe.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white",onClick:e,children:n})}function Ov({value:n,onChange:e,placeholder:t}){return oe.jsx("textarea",{className:"w-full p-2 rounded-lg bg-purple-700 text-white resize-none",value:n,onChange:e,placeholder:t,rows:"4"})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=de.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>de.createElement("svg",{ref:p,...kA,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:bv("lucide",o),...f},[...u.map(([g,_])=>de.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=(n,e)=>{const t=de.forwardRef(({className:i,...o},l)=>de.createElement(VA,{ref:l,iconNode:e,className:bv(`lucide-${xA(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],MA=DA("Upload",NA),Fv=de.createContext({});function LA(n){const e=de.useRef(null);return e.current===null&&(e.current=n()),e.current}const Md=de.createContext(null),Uv=de.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function OA(n=!0){const e=de.useContext(Md);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=de.useId();de.useEffect(()=>{n&&o(l)},[n]);const u=de.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,u]:[!0]}const Ld=typeof window<"u",bA=Ld?de.useLayoutEffect:de.useEffect,yn=n=>n;let Wf=yn;function Od(n){let e;return()=>(e===void 0&&(e=n()),e)}const Io=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Nr=n=>n*1e3,Mr=n=>n/1e3,FA={skipAnimations:!1,useManualTiming:!1};function UA(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),n()),g(u)}const p={schedule:(g,_=!1,w=!1)=>{const C=w&&i?e:t;return _&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{t.delete(g),l.delete(g)},process:g=>{if(u=g,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const zu=["read","resolveKeyframes","update","preRender","render","postRender"],BA=40;function Bv(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=zu.reduce((q,X)=>(q[X]=UA(l),q),{}),{read:f,resolveKeyframes:p,update:g,preRender:_,render:w,postRender:T}=u,C=()=>{const q=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,BA),1),o.timestamp=q,o.isProcessing=!0,f.process(o),p.process(o),g.process(o),_.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(C))},L=()=>{t=!0,i=!0,o.isProcessing||n(C)};return{schedule:zu.reduce((q,X)=>{const Q=u[X];return q[X]=(W,ee=!1,ie=!1)=>(t||L(),Q.schedule(W,ee,ie)),q},{}),cancel:q=>{for(let X=0;X<zu.length;X++)u[zu[X]].cancel(q)},state:o,steps:u}}const{schedule:Qe,cancel:wi,state:Mt,steps:Af}=Bv(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),jv=de.createContext({strict:!1}),gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const n in gy)Ro[n]={isEnabled:e=>gy[n].some(t=>!!e[t])};function jA(n){for(const e in n)Ro[e]={...Ro[e],...n[e]}}const zA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zA.has(n)}let zv=n=>!uc(n);function $A(n){n&&(zv=e=>e.startsWith("on")?!uc(e):n(e))}try{$A(require("@emotion/is-prop-valid").default)}catch{}function qA(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(zv(o)||t===!0&&uc(o)||!e&&!uc(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function WA(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Pc=de.createContext({});function nl(n){return typeof n=="string"||Array.isArray(n)}function Cc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fd=["initial",...bd];function xc(n){return Cc(n.animate)||Fd.some(e=>nl(n[e]))}function $v(n){return!!(xc(n)||n.variants)}function HA(n,e){if(xc(n)){const{initial:t,animate:i}=n;return{initial:t===!1||nl(t)?t:void 0,animate:nl(i)?i:void 0}}return n.inherit!==!1?e:{}}function KA(n){const{initial:e,animate:t}=HA(n,de.useContext(Pc));return de.useMemo(()=>({initial:e,animate:t}),[yy(e),yy(t)])}function yy(n){return Array.isArray(n)?n.join(" "):n}const GA=Symbol.for("motionComponentSymbol");function yo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function QA(n,e,t){return de.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yo(t)&&(t.current=i))},[e])}const Ud=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XA="framerAppearId",qv="data-"+Ud(XA),{schedule:Bd,cancel:l2}=Bv(queueMicrotask,!1),Wv=de.createContext({});function YA(n,e,t,i,o){var l,u;const{visualElement:f}=de.useContext(Pc),p=de.useContext(jv),g=de.useContext(Md),_=de.useContext(Uv).reducedMotion,w=de.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:_}));const T=w.current,C=de.useContext(Wv);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&JA(w.current,t,o,C);const L=de.useRef(!1);de.useInsertionEffect(()=>{T&&L.current&&T.update(t,g)});const F=t[qv],M=de.useRef(!!F&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,F))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,F)));return bA(()=>{T&&(L.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Bd.render(T.render),M.current&&T.animationState&&T.animationState.animateChanges())}),de.useEffect(()=>{T&&(!M.current&&T.animationState&&T.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,F)}),M.current=!1))}),T}function JA(n,e,t,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Hv(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&yo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function Hv(n){if(n)return n.options.allowProjection!==!1?n.projection:Hv(n.parent)}function ZA({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,u;n&&jA(n);function f(g,_){let w;const T={...de.useContext(Uv),...g,layoutId:eS(g)},{isStatic:C}=T,L=KA(g),F=i(g,C);if(!C&&Ld){tS();const M=nS(T);w=M.MeasureLayout,L.visualElement=YA(o,F,T,e,M.ProjectionNode)}return oe.jsxs(Pc.Provider,{value:L,children:[w&&L.visualElement?oe.jsx(w,{visualElement:L.visualElement,...T}):null,t(o,g,QA(F,L.visualElement,_),F,C,L.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const p=de.forwardRef(f);return p[GA]=o,p}function eS({layoutId:n}){const e=de.useContext(Fv).id;return e&&n!==void 0?e+"-"+n:n}function tS(n,e){de.useContext(jv).strict}function nS(n){const{drag:e,layout:t}=Ro;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const rS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jd(n){return typeof n!="string"||n.includes("-")?!1:!!(rS.indexOf(n)>-1||/[A-Z]/u.test(n))}function _y(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function zd(n,e,t,i){if(typeof e=="function"){const[o,l]=_y(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=_y(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Hf=n=>Array.isArray(n),iS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),sS=n=>Hf(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function Zu(n){const e=Ht(n)?n.get():n;return iS(e)?e.toValue():e}function oS({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const u={latestValues:aS(i,o,l,n),renderState:e()};return t&&(u.onMount=f=>t({props:i,current:f,...u}),u.onUpdate=f=>t(f)),u}const Kv=n=>(e,t)=>{const i=de.useContext(Pc),o=de.useContext(Md),l=()=>oS(n,e,i,o);return t?l():LA(l)};function aS(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=Zu(l[T]);let{initial:u,animate:f}=n;const p=xc(n),g=$v(n);e&&g&&!p&&n.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const w=_?f:u;if(w&&typeof w!="boolean"&&!Cc(w)){const T=Array.isArray(w)?w:[w];for(let C=0;C<T.length;C++){const L=zd(n,T[C]);if(L){const{transitionEnd:F,transition:M,...q}=L;for(const X in q){let Q=q[X];if(Array.isArray(Q)){const W=_?Q.length-1:0;Q=Q[W]}Q!==null&&(o[X]=Q)}for(const X in F)o[X]=F[X]}}}return o}const Oo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ps=new Set(Oo),Gv=n=>e=>typeof e=="string"&&e.startsWith(n),$d=Gv("--"),lS=Gv("var(--"),qd=n=>lS(n)?uS.test(n.split("/*")[0].trim()):!1,uS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qv=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Or=(n,e,t)=>t>e?e:t<n?n:t,bo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},rl={...bo,transform:n=>Or(0,1,n)},$u={...bo,default:1},_l=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hi=_l("deg"),cr=_l("%"),we=_l("px"),cS=_l("vh"),hS=_l("vw"),vy={...cr,parse:n=>cr.parse(n)/100,transform:n=>cr.transform(n*100)},fS={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},dS={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:hi,skewX:hi,skewY:hi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:rl,originX:vy,originY:vy,originZ:we},wy={...bo,transform:Math.round},Wd={...fS,...dS,zIndex:wy,size:we,fillOpacity:rl,strokeOpacity:rl,numOctaves:wy},pS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mS=Oo.length;function gS(n,e,t){let i="",o=!0;for(let l=0;l<mS;l++){const u=Oo[l],f=n[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const g=Qv(f,Wd[u]);if(!p){o=!1;const _=pS[u]||u;i+=`${_}(${g}) `}t&&(e[u]=g)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Hd(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let u=!1,f=!1;for(const p in e){const g=e[p];if(ps.has(p)){u=!0;continue}else if($d(p)){o[p]=g;continue}else{const _=Qv(g,Wd[p]);p.startsWith("origin")?(f=!0,l[p]=_):i[p]=_}}if(e.transform||(u||t?i.transform=gS(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:_=0}=l;i.transformOrigin=`${p} ${g} ${_}`}}const yS={offset:"stroke-dashoffset",array:"stroke-dasharray"},_S={offset:"strokeDashoffset",array:"strokeDasharray"};function vS(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?yS:_S;n[l.offset]=we.transform(-i);const u=we.transform(e),f=we.transform(t);n[l.array]=`${u} ${f}`}function Ey(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function wS(n,e,t){const i=Ey(e,n.x,n.width),o=Ey(t,n.y,n.height);return`${i} ${o}`}function Kd(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:f=1,pathOffset:p=0,...g},_,w){if(Hd(n,g,w),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:C,dimensions:L}=n;T.transform&&(L&&(C.transform=T.transform),delete T.transform),L&&(o!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=wS(L,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),u!==void 0&&vS(T,u,f,p,!1)}const Gd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Xv=()=>({...Gd(),attrs:{}}),Qd=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Yv(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const Jv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zv(n,e,t,i){Yv(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(Jv.has(o)?o:Ud(o),e.attrs[o])}const il={};function ES(n){for(const e in n)il[e]=n[e],$d(e)&&(il[e].isCSSVariable=!0)}function ew(n,{layout:e,layoutId:t}){return ps.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!il[n]||n==="opacity")}function Xd(n,e,t){var i;const{style:o}=n,l={};for(const u in o)(Ht(o[u])||e.style&&Ht(e.style[u])||ew(u,n)||((i=t==null?void 0:t.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=o[u]);return l}function tw(n,e,t){const i=Xd(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=Oo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function TS(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ty=["x","y","width","height","cx","cy","r"],AS={useVisualState:Kv({scrapeMotionValuesFromProps:tw,createRenderState:Xv,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(ps.has(f)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let f=0;f<Ty.length;f++){const p=Ty[f];n[p]!==e[p]&&(u=!0)}u&&Qe.read(()=>{TS(t,i),Qe.render(()=>{Kd(i,o,Qd(t.tagName),n.transformTemplate),Zv(t,i)})})}})},SS={useVisualState:Kv({scrapeMotionValuesFromProps:Xd,createRenderState:Gd})};function nw(n,e,t){for(const i in e)!Ht(e[i])&&!ew(i,t)&&(n[i]=e[i])}function IS({transformTemplate:n},e){return de.useMemo(()=>{const t=Gd();return Hd(t,e,n),Object.assign({},t.vars,t.style)},[e])}function RS(n,e){const t=n.style||{},i={};return nw(i,t,n),Object.assign(i,IS(n,e)),i}function PS(n,e){const t={},i=RS(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function CS(n,e,t,i){const o=de.useMemo(()=>{const l=Xv();return Kd(l,e,Qd(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};nw(l,n.style,n),o.style={...l,...o.style}}return o}function xS(n=!1){return(t,i,o,{latestValues:l},u)=>{const p=(jd(t)?CS:PS)(i,l,u,t),g=qA(i,typeof t=="string",n),_=t!==de.Fragment?{...g,...p,ref:o}:{},{children:w}=i,T=de.useMemo(()=>Ht(w)?w.get():w,[w]);return de.createElement(t,{..._,children:T})}}function kS(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...jd(i)?AS:SS,preloadedFeatures:n,useRender:xS(o),createVisualElement:e,Component:i};return ZA(u)}}function rw(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function kc(n,e,t){const i=n.getProps();return zd(i,e,t!==void 0?t:i.custom,n)}const VS=Od(()=>window.ScrollTimeline!==void 0);class DS{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(VS()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class NS extends DS{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Yd(n,e){return n?n[e]||n.default||n:void 0}const Kf=2e4;function iw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Kf;)e+=t,i=n.next(e);return e>=Kf?1/0:e}function Jd(n){return typeof n=="function"}function Ay(n,e){n.timeline=e,n.onfinish=null}const Zd=n=>Array.isArray(n)&&typeof n[0]=="number",MS={linearEasing:void 0};function LS(n,e){const t=Od(n);return()=>{var i;return(i=MS[e])!==null&&i!==void 0?i:t()}}const cc=LS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sw=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Io(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function ow(n){return!!(typeof n=="function"&&cc()||!n||typeof n=="string"&&(n in Gf||cc())||Zd(n)||Array.isArray(n)&&n.every(ow))}const Ba=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Gf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ba([0,.65,.55,1]),circOut:Ba([.55,0,1,.45]),backIn:Ba([.31,.01,.66,-.59]),backOut:Ba([.33,1.53,.69,.99])};function aw(n,e){if(n)return typeof n=="function"&&cc()?sw(n,e):Zd(n)?Ba(n):Array.isArray(n)?n.map(t=>aw(t,e)||Gf.easeOut):Gf[n]}const Kn={x:!1,y:!1};function lw(){return Kn.x||Kn.y}function OS(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function uw(n,e){const t=OS(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function Sy(n){return!(n.pointerType==="touch"||lw())}function bS(n,e,t={}){const[i,o,l]=uw(n,t),u=f=>{if(!Sy(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const _=w=>{Sy(w)&&(g(w),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const cw=(n,e)=>e?n===e?!0:cw(n,e.parentElement):!1,ep=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,FS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function US(n){return FS.has(n.tagName)||n.tabIndex!==-1}const ja=new WeakSet;function Iy(n){return e=>{e.key==="Enter"&&n(e)}}function Sf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BS=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Iy(()=>{if(ja.has(t))return;Sf(t,"down");const o=Iy(()=>{Sf(t,"up")}),l=()=>Sf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Ry(n){return ep(n)&&!lw()}function jS(n,e,t={}){const[i,o,l]=uw(n,t),u=f=>{const p=f.currentTarget;if(!Ry(f)||ja.has(p))return;ja.add(p);const g=e(p,f),_=(C,L)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!Ry(C)||!ja.has(p))&&(ja.delete(p),typeof g=="function"&&g(C,{success:L}))},w=C=>{_(C,t.useGlobalTarget||cw(p,C.target))},T=C=>{_(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!US(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),f.addEventListener("focus",g=>BS(g,o),o)}),l}function zS(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}const hw=new Set(["width","height","top","left","right","bottom",...Oo]);let ec;function $S(){ec=void 0}const hr={now:()=>(ec===void 0&&hr.set(Mt.isProcessing||FA.useManualTiming?Mt.timestamp:performance.now()),ec),set:n=>{ec=n,queueMicrotask($S)}};function tp(n,e){n.indexOf(e)===-1&&n.push(e)}function np(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class rp{constructor(){this.subscriptions=[]}add(e){return tp(this.subscriptions,e),()=>np(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fw(n,e){return e?n*(1e3/e):0}const Py=30,qS=n=>!isNaN(parseFloat(n));class WS{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=hr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new rp);const i=this.events[e].add(t);return e==="change"?()=>{i(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Py)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Py);return fw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(n,e){return new WS(n,e)}function HS(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,sl(t))}function KS(n,e){const t=kc(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const u in l){const f=sS(l[u]);HS(n,u,f)}}function GS(n){return!!(Ht(n)&&n.add)}function Qf(n,e){const t=n.getValue("willChange");if(GS(t))return t.add(e)}function dw(n){return n.props[qv]}const pw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,QS=1e-7,XS=12;function YS(n,e,t,i,o){let l,u,f=0;do u=e+(t-e)/2,l=pw(u,i,o)-n,l>0?t=u:e=u;while(Math.abs(l)>QS&&++f<XS);return u}function vl(n,e,t,i){if(n===e&&t===i)return yn;const o=l=>YS(l,0,1,n,t);return l=>l===0||l===1?l:pw(o(l),e,i)}const mw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gw=n=>e=>1-n(1-e),yw=vl(.33,1.53,.69,.99),ip=gw(yw),_w=mw(ip),vw=n=>(n*=2)<1?.5*ip(n):.5*(2-Math.pow(2,-10*(n-1))),sp=n=>1-Math.sin(Math.acos(n)),ww=gw(sp),Ew=mw(sp),Tw=n=>/^0[^.\s]+$/u.test(n);function JS(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Tw(n):!0}const Ka=n=>Math.round(n*1e5)/1e5,op=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZS(n){return n==null}const eI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ap=(n,e)=>t=>!!(typeof t=="string"&&eI.test(t)&&t.startsWith(n)||e&&!ZS(t)&&Object.prototype.hasOwnProperty.call(t,e)),Aw=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(op);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},tI=n=>Or(0,255,n),If={...bo,transform:n=>Math.round(tI(n))},as={test:ap("rgb","red"),parse:Aw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+If.transform(n)+", "+If.transform(e)+", "+If.transform(t)+", "+Ka(rl.transform(i))+")"};function nI(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Xf={test:ap("#"),parse:nI,transform:as.transform},_o={test:ap("hsl","hue"),parse:Aw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+cr.transform(Ka(e))+", "+cr.transform(Ka(t))+", "+Ka(rl.transform(i))+")"},$t={test:n=>as.test(n)||Xf.test(n)||_o.test(n),parse:n=>as.test(n)?as.parse(n):_o.test(n)?_o.parse(n):Xf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?as.transform(n):_o.transform(n)},rI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(op))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(rI))===null||t===void 0?void 0:t.length)||0)>0}const Sw="number",Iw="color",sI="var",oI="var(",Cy="${}",aI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ol(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(aI,p=>($t.test(p)?(i.color.push(l),o.push(Iw),t.push($t.parse(p))):p.startsWith(oI)?(i.var.push(l),o.push(sI),t.push(p)):(i.number.push(l),o.push(Sw),t.push(parseFloat(p))),++l,Cy)).split(Cy);return{values:t,split:f,indexes:i,types:o}}function Rw(n){return ol(n).values}function Pw(n){const{split:e,types:t}=ol(n),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const f=t[u];f===Sw?l+=Ka(o[u]):f===Iw?l+=$t.transform(o[u]):l+=o[u]}return l}}const lI=n=>typeof n=="number"?0:n;function uI(n){const e=Rw(n);return Pw(n)(e.map(lI))}const Ei={test:iI,parse:Rw,createTransformer:Pw,getAnimatableNone:uI},cI=new Set(["brightness","contrast","saturate","opacity"]);function hI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(op)||[];if(!i)return n;const o=t.replace(i,"");let l=cI.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const fI=/\b([a-z-]*)\(.*?\)/gu,Yf={...Ei,getAnimatableNone:n=>{const e=n.match(fI);return e?e.map(hI).join(" "):n}},dI={...Wd,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Yf,WebkitFilter:Yf},lp=n=>dI[n];function Cw(n,e){let t=lp(n);return t!==Yf&&(t=Ei),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const pI=new Set(["auto","none","0"]);function mI(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!pI.has(l)&&ol(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=Cw(t,o)}const xy=n=>n===bo||n===we,ky=(n,e)=>parseFloat(n.split(", ")[e]),Vy=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return ky(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?ky(l[1],n):0}},gI=new Set(["x","y","z"]),yI=Oo.filter(n=>!gI.has(n));function _I(n){const e=[];return yI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Po={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Vy(4,13),y:Vy(5,14)};Po.translateX=Po.x;Po.translateY=Po.y;const us=new Set;let Jf=!1,Zf=!1;function xw(){if(Zf){const n=Array.from(us).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=_I(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,u])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zf=!1,Jf=!1,us.forEach(n=>n.complete()),us.clear()}function kw(){us.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zf=!0)})}function vI(){kw(),xw()}class up{constructor(e,t,i,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(us.add(this),Jf||(Jf=!0,Qe.read(kw),Qe.resolveKeyframes(xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=o==null?void 0:o.get(),f=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&u===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),us.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,us.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Vw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),wI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EI(n){const e=wI.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function Dw(n,e,t=1){const[i,o]=EI(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return Vw(u)?parseFloat(u):u}return qd(o)?Dw(o,e,t+1):o}const Nw=n=>e=>e.test(n),TI={test:n=>n==="auto",parse:n=>n},Mw=[bo,we,cr,hi,hS,cS,TI],Dy=n=>Mw.find(Nw(n));class Lw extends up{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),qd(g))){const _=Dw(g,t.current);_!==void 0&&(e[p]=_),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!hw.has(i)||e.length!==2)return;const[o,l]=e,u=Dy(o),f=Dy(l);if(u!==f)if(xy(u)&&xy(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)JS(e[o])&&i.push(o);i.length&&mI(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,f=o[u];o[u]=Po[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const Ny=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ei.test(n)||n==="0")&&!n.startsWith("url("));function AI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function SI(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=Ny(o,e),f=Ny(l,e);return!u||!f?!1:AI(n)||(t==="spring"||Jd(t))&&i}const II=n=>n!==null;function Vc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(II),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const RI=40;class Ow{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=hr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:u,onComplete:f,onUpdate:p,isGenerator:g}=this.options;if(!g&&!SI(e,i,o,l))if(u)this.options.duration=0;else{p&&p(Vc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,t);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,..._},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function Rf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=Rf(p,f,n+1/3),l=Rf(p,f,n),u=Rf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function hc(n,e){return t=>t>0?e:n}const Pf=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},CI=[Xf,as,_o],xI=n=>CI.find(e=>e.test(n));function My(n){const e=xI(n);if(!e)return!1;let t=e.parse(n);return e===_o&&(t=PI(t)),t}const Ly=(n,e)=>{const t=My(n),i=My(e);if(!t||!i)return hc(n,e);const o={...t};return l=>(o.red=Pf(t.red,i.red,l),o.green=Pf(t.green,i.green,l),o.blue=Pf(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),as.transform(o))},kI=(n,e)=>t=>e(n(t)),wl=(...n)=>n.reduce(kI),ed=new Set(["none","hidden"]);function VI(n,e){return ed.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DI(n,e){return t=>tt(n,e,t)}function cp(n){return typeof n=="number"?DI:typeof n=="string"?qd(n)?hc:$t.test(n)?Ly:LI:Array.isArray(n)?bw:typeof n=="object"?$t.test(n)?Ly:NI:hc}function bw(n,e){const t=[...n],i=t.length,o=n.map((l,u)=>cp(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)t[u]=o[u](l);return t}}function NI(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=cp(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function MI(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],f=n.indexes[u][o[u]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[u]++}return i}const LI=(n,e)=>{const t=Ei.createTransformer(e),i=ol(n),o=ol(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ed.has(n)&&!o.values.length||ed.has(e)&&!i.values.length?VI(n,e):wl(bw(MI(i,o),o.values),t):hc(n,e)};function Fw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):cp(n)(n,e)}const OI=5;function Uw(n,e,t){const i=Math.max(e-OI,0);return fw(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function bI({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,u=1-e;u=Or(it.minDamping,it.maxDamping,u),n=Or(it.minDuration,it.maxDuration,Mr(n)),u<1?(o=g=>{const _=g*u,w=_*n,T=_-t,C=td(g,u),L=Math.exp(-w);return Oy-T/C*L},l=g=>{const w=g*u*n,T=w*t+t,C=Math.pow(u,2)*Math.pow(g,2)*n,L=Math.exp(-w),F=td(Math.pow(g,2),u);return(-o(g)+Oy>0?-1:1)*((T-C)*L)/F}):(o=g=>{const _=Math.exp(-g*n),w=(g-t)*n+1;return-.001+_*w},l=g=>{const _=Math.exp(-g*n),w=(t-g)*(n*n);return _*w});const f=5/n,p=UI(o,l,f);if(n=Nr(n),isNaN(p))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:n}}}const FI=12;function UI(n,e,t){let i=t;for(let o=1;o<FI;o++)i=i-n(i)/e(i);return i}function td(n,e){return n*Math.sqrt(1-e*e)}const BI=["duration","bounce"],jI=["stiffness","damping","mass"];function by(n,e){return e.some(t=>n[t]!==void 0)}function zI(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!by(n,jI)&&by(n,BI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Or(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=bI(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function Bw(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:_,duration:w,velocity:T,isResolvedFromDuration:C}=zI({...t,velocity:-Mr(t.velocity||0)}),L=T||0,F=g/(2*Math.sqrt(p*_)),M=u-l,q=Mr(Math.sqrt(p/_)),X=Math.abs(M)<5;i||(i=X?it.restSpeed.granular:it.restSpeed.default),o||(o=X?it.restDelta.granular:it.restDelta.default);let Q;if(F<1){const ee=td(q,F);Q=ie=>{const x=Math.exp(-F*q*ie);return u-x*((L+F*q*M)/ee*Math.sin(ee*ie)+M*Math.cos(ee*ie))}}else if(F===1)Q=ee=>u-Math.exp(-q*ee)*(M+(L+q*M)*ee);else{const ee=q*Math.sqrt(F*F-1);Q=ie=>{const x=Math.exp(-F*q*ie),S=Math.min(ee*ie,300);return u-x*((L+F*q*M)*Math.sinh(S)+ee*M*Math.cosh(S))/ee}}const W={calculatedDuration:C&&w||null,next:ee=>{const ie=Q(ee);if(C)f.done=ee>=w;else{let x=0;F<1&&(x=ee===0?Nr(L):Uw(Q,ee,ie));const S=Math.abs(x)<=i,R=Math.abs(u-ie)<=o;f.done=S&&R}return f.value=f.done?u:ie,f},toString:()=>{const ee=Math.min(iw(W),Kf),ie=sw(x=>W.next(ee*x).value,ee,30);return ee+"ms "+ie}};return W}function Fy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:g=.5,restSpeed:_}){const w=n[0],T={done:!1,value:w},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,L=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let F=t*e;const M=w+F,q=u===void 0?M:u(M);q!==M&&(F=q-w);const X=S=>-F*Math.exp(-S/i),Q=S=>q+X(S),W=S=>{const R=X(S),V=Q(S);T.done=Math.abs(R)<=g,T.value=T.done?q:V};let ee,ie;const x=S=>{C(T.value)&&(ee=S,ie=Bw({keyframes:[T.value,L(T.value)],velocity:Uw(Q,S,T.value),damping:o,stiffness:l,restDelta:g,restSpeed:_}))};return x(0),{calculatedDuration:null,next:S=>{let R=!1;return!ie&&ee===void 0&&(R=!0,W(S),x(S)),ee!==void 0&&S>=ee?ie.next(S-ee):(!R&&W(S),T)}}}const $I=vl(.42,0,1,1),qI=vl(0,0,.58,1),jw=vl(.42,0,.58,1),WI=n=>Array.isArray(n)&&typeof n[0]!="number",Uy={linear:yn,easeIn:$I,easeInOut:jw,easeOut:qI,circIn:sp,circInOut:Ew,circOut:ww,backIn:ip,backInOut:_w,backOut:yw,anticipate:vw},By=n=>{if(Zd(n)){Wf(n.length===4);const[e,t,i,o]=n;return vl(e,t,i,o)}else if(typeof n=="string")return Wf(Uy[n]!==void 0),Uy[n];return n};function HI(n,e,t){const i=[],o=t||Fw,l=n.length-1;for(let u=0;u<l;u++){let f=o(n[u],n[u+1]);if(e){const p=Array.isArray(e)?e[u]||yn:e;f=wl(p,f)}i.push(f)}return i}function KI(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Wf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=HI(e,i,o),p=f.length,g=_=>{if(u&&_<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(_<n[w+1]);w++);const T=Io(n[w],n[w+1],_);return f[w](T)};return t?_=>g(Or(n[0],n[l-1],_)):g}function GI(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Io(0,e,i);n.push(tt(t,1,o))}}function QI(n){const e=[0];return GI(e,n.length-1),e}function XI(n,e){return n.map(t=>t*e)}function YI(n,e){return n.map(()=>e||jw).splice(0,n.length-1)}function fc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=WI(i)?i.map(By):By(i),l={done:!1,value:e[0]},u=XI(t&&t.length===e.length?t:QI(e),n),f=KI(u,e,{ease:Array.isArray(o)?o:YI(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const JI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qe.update(e,!0),stop:()=>wi(e),now:()=>Mt.isProcessing?Mt.timestamp:hr.now()}},ZI={decay:Fy,inertia:Fy,tween:fc,keyframes:fc,spring:Bw},eR=n=>n/100;class hp extends Ow{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,u=(o==null?void 0:o.KeyframeResolver)||up,f=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new u(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,f=Jd(t)?t:ZI[t]||fc;let p,g;f!==fc&&typeof e[0]!="number"&&(p=wl(eR,Fw(e[0],e[1])),e=[0,100]);const _=f({...this.options,keyframes:e});l==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=iw(_));const{calculatedDuration:w}=_,T=w+o,C=T*(i+1)-o;return{generator:_,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:g,totalDuration:_,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:C,repeatType:L,repeatDelay:F,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-T*(this.speed>=0?1:-1),X=this.speed>=0?q<0:q>_;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let Q=this.currentTime,W=l;if(C){const S=Math.min(this.currentTime,_)/w;let R=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&R--,R=Math.min(R,C+1),!!(R%2)&&(L==="reverse"?(V=1-V,F&&(V-=F/w)):L==="mirror"&&(W=u)),Q=Or(0,1,V)*w}const ee=X?{done:!1,value:p[0]}:W.next(Q);f&&(ee.value=f(ee.value));let{done:ie}=ee;!X&&g!==null&&(ie=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return x&&o!==void 0&&(ee.value=Vc(p,this.options,o)),M&&M(ee.value),x&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?Mr(e.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(e){e=Nr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=JI,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const tR=new Set(["opacity","clipPath","filter","transform"]);function nR(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeInOut",times:p}={}){const g={[e]:t};p&&(g.offset=p);const _=aw(f,o);return Array.isArray(_)&&(g.easing=_),n.animate(g,{delay:i,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const rR=Od(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dc=10,iR=2e4;function sR(n){return Jd(n.type)||n.type==="spring"||!ow(n.ease)}function oR(n,e){const t=new hp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<iR;)i=t.sample(l),o.push(i.value),l+=dc;return{times:void 0,keyframes:o,duration:l-dc,ease:"linear"}}const zw={anticipate:vw,backInOut:_w,circInOut:Ew};function aR(n){return n in zw}class jy extends Ow{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Lw(l,(u,f)=>this.onKeyframesResolved(u,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:u,motionValue:f,name:p,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&cc()&&aR(l)&&(l=zw[l]),sR(this.options)){const{onComplete:w,onUpdate:T,motionValue:C,element:L,...F}=this.options,M=oR(e,F);e=M.keyframes,e.length===1&&(e[1]=e[0]),i=M.duration,o=M.times,l=M.ease,u="keyframes"}const _=nR(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(Ay(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;f.set(Vc(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Mr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Mr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Nr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return yn;const{animation:i}=t;Ay(i,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:u,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:_,onComplete:w,element:T,...C}=this.options,L=new hp({...C,keyframes:i,duration:o,type:l,ease:u,times:f,isGenerator:!0}),F=Nr(this.time);g.setWithVelocity(L.sample(F-dc).value,L.sample(F).value,dc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:u,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return rR()&&i&&tR.has(i)&&!p&&!g&&!o&&l!=="mirror"&&u!==0&&f!=="inertia"}}const lR={type:"spring",stiffness:500,damping:25,restSpeed:10},uR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),cR={type:"keyframes",duration:.8},hR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fR=(n,{keyframes:e})=>e.length>2?cR:ps.has(n)?n.startsWith("scale")?uR(e[1]):lR:hR;function dR({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const fp=(n,e,t,i={},o,l)=>u=>{const f=Yd(i,n)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Nr(p);let _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};dR(f)||(_={..._,...fR(n,_)}),_.duration&&(_.duration=Nr(_.duration)),_.repeatDelay&&(_.repeatDelay=Nr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=Vc(_.keyframes,f);if(T!==void 0)return Qe.update(()=>{_.onUpdate(T),_.onComplete()}),new NS([])}return!l&&jy.supports(_)?new jy(_):new hp(_)};function pR({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function $w(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:u=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(u=i);const g=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),C=p[w];if(C===void 0||_&&pR(_,w))continue;const L={delay:t,...Yd(u||{},w)};let F=!1;if(window.MotionHandoffAnimation){const q=dw(n);if(q){const X=window.MotionHandoffAnimation(q,w,Qe);X!==null&&(L.startTime=X,F=!0)}}Qf(n,w),T.start(fp(w,T,C,n.shouldReduceMotion&&hw.has(w)?{type:!1}:L,n,F));const M=T.animation;M&&g.push(M)}return f&&Promise.all(g).then(()=>{Qe.update(()=>{f&&KS(n,f)})}),g}function nd(n,e,t={}){var i;const o=kc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const u=o?()=>Promise.all($w(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:w,staggerDirection:T}=l;return mR(n,e,_+g,w,T,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[g,_]=p==="beforeChildren"?[u,f]:[f,u];return g().then(()=>_())}else return Promise.all([u(),f(t.delay)])}function mR(n,e,t=0,i=0,o=1,l){const u=[],f=(n.variantChildren.size-1)*i,p=o===1?(g=0)=>g*i:(g=0)=>f-g*i;return Array.from(n.variantChildren).sort(gR).forEach((g,_)=>{g.notify("AnimationStart",e),u.push(nd(g,e,{...l,delay:t+p(_)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(u)}function gR(n,e){return n.sortNodePosition(e)}function yR(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>nd(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=nd(n,e,t);else{const o=typeof e=="function"?kc(n,e,t.custom):e;i=Promise.all($w(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const _R=Fd.length;function qw(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?qw(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_R;t++){const i=Fd[t],o=n.props[i];(nl(o)||o===!1)&&(e[i]=o)}return e}const vR=[...bd].reverse(),wR=bd.length;function ER(n){return e=>Promise.all(e.map(({animation:t,options:i})=>yR(n,t,i)))}function TR(n){let e=ER(n),t=zy(),i=!0;const o=p=>(g,_)=>{var w;const T=kc(n,_,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:C,transitionEnd:L,...F}=T;g={...g,...F,...L}}return g};function l(p){e=p(n)}function u(p){const{props:g}=n,_=qw(n.parent)||{},w=[],T=new Set;let C={},L=1/0;for(let M=0;M<wR;M++){const q=vR[M],X=t[q],Q=g[q]!==void 0?g[q]:_[q],W=nl(Q),ee=q===p?X.isActive:null;ee===!1&&(L=M);let ie=Q===_[q]&&Q!==g[q]&&W;if(ie&&i&&n.manuallyAnimateOnMount&&(ie=!1),X.protectedKeys={...C},!X.isActive&&ee===null||!Q&&!X.prevProp||Cc(Q)||typeof Q=="boolean")continue;const x=AR(X.prevProp,Q);let S=x||q===p&&X.isActive&&!ie&&W||M>L&&W,R=!1;const V=Array.isArray(Q)?Q:[Q];let N=V.reduce(o(q),{});ee===!1&&(N={});const{prevResolvedValues:b={}}=X,P={...b,...N},Xe=Se=>{S=!0,T.has(Se)&&(R=!0,T.delete(Se)),X.needsAnimating[Se]=!0;const ne=n.getValue(Se);ne&&(ne.liveStyle=!1)};for(const Se in P){const ne=N[Se],me=b[Se];if(C.hasOwnProperty(Se))continue;let se=!1;Hf(ne)&&Hf(me)?se=!rw(ne,me):se=ne!==me,se?ne!=null?Xe(Se):T.add(Se):ne!==void 0&&T.has(Se)?Xe(Se):X.protectedKeys[Se]=!0}X.prevProp=Q,X.prevResolvedValues=N,X.isActive&&(C={...C,...N}),i&&n.blockInitialAnimation&&(S=!1),S&&(!(ie&&x)||R)&&w.push(...V.map(Se=>({animation:Se,options:{type:q}})))}if(T.size){const M={};T.forEach(q=>{const X=n.getBaseTarget(q),Q=n.getValue(q);Q&&(Q.liveStyle=!0),M[q]=X??null}),w.push({animation:M})}let F=!!w.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(F=!1),i=!1,F?e(w):Promise.resolve()}function f(p,g){var _;if(t[p].isActive===g)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(T=>{var C;return(C=T.animationState)===null||C===void 0?void 0:C.setActive(p,g)}),t[p].isActive=g;const w=u(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=zy(),i=!0}}}function AR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!rw(e,n):!1}function rs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zy(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class Pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SR extends Pi{constructor(e){super(e),e.animationState||(e.animationState=TR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let IR=0;class RR extends Pi{constructor(){super(...arguments),this.id=IR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PR={animation:{Feature:SR},exit:{Feature:RR}};function al(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function El(n){return{point:{x:n.pageX,y:n.pageY}}}const CR=n=>e=>ep(e)&&n(e,El(e));function Ga(n,e,t,i){return al(n,e,CR(t),i)}const $y=(n,e)=>Math.abs(n-e);function xR(n,e){const t=$y(n.x,e.x),i=$y(n.y,e.y);return Math.sqrt(t**2+i**2)}class Ww{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=xR(w.offset,{x:0,y:0})>=3;if(!T&&!C)return;const{point:L}=w,{timestamp:F}=Mt;this.history.push({...L,timestamp:F});const{onStart:M,onMove:q}=this.handlers;T||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Cf(T,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:C,onSessionEnd:L,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=xf(w.type==="pointercancel"?this.lastMoveEventInfo:Cf(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,M),L&&L(w,M)},!ep(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const u=El(e),f=Cf(u,this.transformPagePoint),{point:p}=f,{timestamp:g}=Mt;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,xf(f,this.history)),this.removeListeners=wl(Ga(this.contextWindow,"pointermove",this.handlePointerMove),Ga(this.contextWindow,"pointerup",this.handlePointerUp),Ga(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function Cf(n,e){return e?{point:e(n.point)}:n}function qy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xf({point:n},e){return{point:n,delta:qy(n,Hw(e)),offset:qy(n,kR(e)),velocity:VR(e,.1)}}function kR(n){return n[0]}function Hw(n){return n[n.length-1]}function VR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Hw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Nr(e)));)t--;if(!i)return{x:0,y:0};const l=Mr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const Kw=1e-4,DR=1-Kw,NR=1+Kw,Gw=.01,MR=0-Gw,LR=0+Gw;function Jt(n){return n.max-n.min}function OR(n,e,t){return Math.abs(n-e)<=t}function Wy(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Jt(t)/Jt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=DR&&n.scale<=NR||isNaN(n.scale))&&(n.scale=1),(n.translate>=MR&&n.translate<=LR||isNaN(n.translate))&&(n.translate=0)}function Qa(n,e,t,i){Wy(n.x,e.x,t.x,i?i.originX:void 0),Wy(n.y,e.y,t.y,i?i.originY:void 0)}function Hy(n,e,t){n.min=t.min+e.min,n.max=n.min+Jt(e)}function bR(n,e,t){Hy(n.x,e.x,t.x),Hy(n.y,e.y,t.y)}function Ky(n,e,t){n.min=e.min-t.min,n.max=n.min+Jt(e)}function Xa(n,e,t){Ky(n.x,e.x,t.x),Ky(n.y,e.y,t.y)}function FR(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function Gy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function UR(n,{top:e,left:t,bottom:i,right:o}){return{x:Gy(n.x,t,o),y:Gy(n.y,e,i)}}function Qy(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function BR(n,e){return{x:Qy(n.x,e.x),y:Qy(n.y,e.y)}}function jR(n,e){let t=.5;const i=Jt(n),o=Jt(e);return o>i?t=Io(e.min,e.max-i,n.min):i>o&&(t=Io(n.min,n.max-o,e.min)),Or(0,1,t)}function zR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const rd=.35;function $R(n=rd){return n===!1?n=0:n===!0&&(n=rd),{x:Xy(n,"left","right"),y:Xy(n,"top","bottom")}}function Xy(n,e,t){return{min:Yy(n,e),max:Yy(n,t)}}function Yy(n,e){return typeof n=="number"?n:n[e]||0}const Jy=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:Jy(),y:Jy()}),Zy=()=>({min:0,max:0}),ut=()=>({x:Zy(),y:Zy()});function kn(n){return[n("x"),n("y")]}function Qw({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function qR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function WR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function kf(n){return n===void 0||n===1}function id({scale:n,scaleX:e,scaleY:t}){return!kf(n)||!kf(e)||!kf(t)}function is(n){return id(n)||Xw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Xw(n){return e_(n.x)||e_(n.y)}function e_(n){return n&&n!=="0%"}function pc(n,e,t){const i=n-t,o=e*i;return t+o}function t_(n,e,t,i,o){return o!==void 0&&(n=pc(n,o,i)),pc(n,t,i)+e}function sd(n,e=0,t=1,i,o){n.min=t_(n.min,e,t,i,o),n.max=t_(n.max,e,t,i,o)}function Yw(n,{x:e,y:t}){sd(n.x,e.translate,e.scale,e.originPoint),sd(n.y,t.translate,t.scale,t.originPoint)}const n_=.999999999999,r_=1.0000000000001;function HR(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let f=0;f<o;f++){l=t[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Eo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Yw(n,u)),i&&is(l.latestValues)&&Eo(n,l.latestValues))}e.x<r_&&e.x>n_&&(e.x=1),e.y<r_&&e.y>n_&&(e.y=1)}function wo(n,e){n.min=n.min+e,n.max=n.max+e}function i_(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);sd(n,e,t,l,i)}function Eo(n,e){i_(n.x,e.x,e.scaleX,e.scale,e.originX),i_(n.y,e.y,e.scaleY,e.scale,e.originY)}function Jw(n,e){return Qw(WR(n.getBoundingClientRect(),e))}function KR(n,e,t){const i=Jw(n,t),{scroll:o}=e;return o&&(wo(i.x,o.offset.x),wo(i.y,o.offset.y)),i}const Zw=({current:n})=>n?n.ownerDocument.defaultView:null,GR=new WeakMap;class QR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(El(_).point)},l=(_,w)=>{const{drag:T,dragPropagation:C,onDragStart:L}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zS(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(M=>{let q=this.getAxisMotionValue(M).get()||0;if(cr.test(q)){const{projection:X}=this.visualElement;if(X&&X.layout){const Q=X.layout.layoutBox[M];Q&&(q=Jt(Q)*(parseFloat(q)/100))}}this.originPoint[M]=q}),L&&Qe.postRender(()=>L(_,w)),Qf(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},u=(_,w)=>{const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:L,onDrag:F}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=w;if(C&&this.currentDirection===null){this.currentDirection=XR(M),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),F&&F(_,w)},f=(_,w)=>this.stop(_,w),p=()=>kn(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Ww(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Zw(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Qe.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!qu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=FR(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=UR(o.layoutBox,t):this.constraints=!1,this.elastic=$R(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=zR(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=KR(i,o.root,this.visualElement.getTransformPagePoint());let u=BR(o.layout.layoutBox,l);if(t){const f=t(qR(u));this.hasMutatedConstraints=!!f,f&&(u=Qw(f))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=kn(_=>{if(!qu(_,t,this.currentDirection))return;let w=p[_]||{};u&&(w={min:0,max:0});const T=o?200:1e6,C=o?40:1e7,L={type:"inertia",velocity:i?e[_]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(_,L)});return Promise.all(g).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Qf(this.visualElement,e),i.start(fp(e,i,0,t,this.visualElement,!1))}stopAnimation(){kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){kn(t=>{const{drag:i}=this.getProps();if(!qu(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[t];l.set(e[t]-tt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yo(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();o[u]=jR({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),kn(u=>{if(!qu(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];f.set(tt(p,g,o[u]))})}addListeners(){if(!this.visualElement.current)return;GR.set(this.visualElement,this);const e=this.visualElement.current,t=Ga(e,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(i);const u=al(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(kn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=p[_].translate,w.set(w.get()+p[_].translate))}),this.visualElement.render())});return()=>{u(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=rd,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function qu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function XR(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class YR extends Pi{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new QR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const s_=n=>(e,t)=>{n&&Qe.postRender(()=>n(e,t))};class JR extends Pi{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new Ww(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:s_(e),onStart:s_(t),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Qe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Ga(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Fa={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=o_(n,e.target.x),i=o_(n,e.target.y);return`${t}% ${i}%`}},ZR={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Ei.parse(n);if(o.length>5)return i;const l=Ei.createTransformer(n),u=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+u]/=f,o[1+u]/=p;const g=tt(f,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=g),typeof o[3+u]=="number"&&(o[3+u]/=g),l(o)}};class eP extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;ES(tP),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Qe.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eE(n){const[e,t]=OA(),i=de.useContext(Fv);return oe.jsx(eP,{...n,layoutGroup:i,switchLayoutGroup:de.useContext(Wv),isPresent:e,safeToRemove:t})}const tP={borderRadius:{...Fa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fa,borderTopRightRadius:Fa,borderBottomLeftRadius:Fa,borderBottomRightRadius:Fa,boxShadow:ZR};function nP(n,e,t){const i=Ht(n)?n:sl(n);return i.start(fp("",i,e,t)),i.animation}function rP(n){return n instanceof SVGElement&&n.tagName!=="svg"}const iP=(n,e)=>n.depth-e.depth;class sP{constructor(){this.children=[],this.isDirty=!1}add(e){tp(this.children,e),this.isDirty=!0}remove(e){np(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iP),this.isDirty=!1,this.children.forEach(e)}}function oP(n,e){const t=hr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(wi(i),n(l-e))};return Qe.read(i,!0),()=>wi(i)}const tE=["TopLeft","TopRight","BottomLeft","BottomRight"],aP=tE.length,a_=n=>typeof n=="string"?parseFloat(n):n,l_=n=>typeof n=="number"||we.test(n);function lP(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,uP(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,cP(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let u=0;u<aP;u++){const f=`border${tE[u]}Radius`;let p=u_(e,f),g=u_(t,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||l_(p)===l_(g)?(n[f]=Math.max(tt(a_(p),a_(g),i),0),(cr.test(g)||cr.test(p))&&(n[f]+="%")):n[f]=g}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function u_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const uP=nE(0,.5,ww),cP=nE(.5,.95,yn);function nE(n,e,t){return i=>i<n?0:i>e?1:t(Io(n,e,i))}function c_(n,e){n.min=e.min,n.max=e.max}function xn(n,e){c_(n.x,e.x),c_(n.y,e.y)}function h_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function f_(n,e,t,i,o){return n-=e,n=pc(n,1/t,i),o!==void 0&&(n=pc(n,1/o,i)),n}function hP(n,e=0,t=1,i=.5,o,l=n,u=n){if(cr.test(e)&&(e=parseFloat(e),e=tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=tt(l.min,l.max,i);n===l&&(f-=e),n.min=f_(n.min,e,t,f,o),n.max=f_(n.max,e,t,f,o)}function d_(n,e,[t,i,o],l,u){hP(n,e[t],e[i],e[o],e.scale,l,u)}const fP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function p_(n,e,t,i){d_(n.x,e,fP,t?t.x:void 0,i?i.x:void 0),d_(n.y,e,dP,t?t.y:void 0,i?i.y:void 0)}function m_(n){return n.translate===0&&n.scale===1}function rE(n){return m_(n.x)&&m_(n.y)}function g_(n,e){return n.min===e.min&&n.max===e.max}function pP(n,e){return g_(n.x,e.x)&&g_(n.y,e.y)}function y_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function iE(n,e){return y_(n.x,e.x)&&y_(n.y,e.y)}function __(n){return Jt(n.x)/Jt(n.y)}function v_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class mP{constructor(){this.members=[]}add(e){tp(this.members,e),e.scheduleRender()}remove(e){if(np(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gP(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:_,rotateX:w,rotateY:T,skewX:C,skewY:L}=t;g&&(i=`perspective(${g}px) ${i}`),_&&(i+=`rotate(${_}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),C&&(i+=`skewX(${C}deg) `),L&&(i+=`skewY(${L}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},za=typeof window<"u"&&window.MotionDebug!==void 0,Vf=["","X","Y","Z"],yP={visibility:"hidden"},w_=1e3;let _P=0;function Df(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function sE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=dw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qe,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&sE(i)}function oE({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=_P++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,za&&(ss.totalNodes=ss.resolvedTargetDeltas=ss.recalculatedProjection=0),this.nodes.forEach(EP),this.nodes.forEach(RP),this.nodes.forEach(PP),this.nodes.forEach(TP),za&&window.MotionDebug.record(ss)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new sP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new rp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rP(u),this.instance=u;const{layoutId:p,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=oP(T,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach(T_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeLayoutChanged:C,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||_.getDefaultTransition()||DP,{onLayoutAnimationStart:M,onLayoutAnimationComplete:q}=_.getProps(),X=!this.targetLayout||!iE(this.targetLayout,L),Q=!T&&C;if(this.options.layoutRoot||this.resumeFrom||Q||T&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Q);const W={...Yd(F,"layout"),onPlay:M,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else T||T_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E_);return}this.isUpdating||this.nodes.forEach(SP),this.isUpdating=!1,this.nodes.forEach(IP),this.nodes.forEach(vP),this.nodes.forEach(wP),this.clearAllSnapshots();const f=hr.now();Mt.delta=Or(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,Af.update.process(Mt),Af.preRender.process(Mt),Af.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AP),this.sharedNodes.forEach(xP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!rE(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;u&&(f||is(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),NP(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(MP))){const{scroll:_}=this.root;_&&(wo(p.x,_.offset.x),wo(p.y,_.offset.y))}return p}removeElementScroll(u){var f;const p=ut();if(xn(p,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:w,options:T}=_;_!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&xn(p,u),wo(p.x,w.offset.x),wo(p.y,w.offset.y))}return p}applyTransform(u,f=!1){const p=ut();xn(p,u);for(let g=0;g<this.path.length;g++){const _=this.path[g];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Eo(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),is(_.latestValues)&&Eo(p,_.latestValues)}return is(this.latestValues)&&Eo(p,this.latestValues),p}removeTransform(u){const f=ut();xn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!is(g.latestValues))continue;id(g.latestValues)&&g.updateSnapshot();const _=ut(),w=g.measurePageBox();xn(_,w),p_(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return is(this.latestValues)&&p_(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Xa(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),Yw(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Xa(this.relativeTargetOrigin,this.target,C.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}za&&ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||id(this.parent.latestValues)||Xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(g=!1),g)return;const{layout:_,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||w))return;xn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,C=this.treeScale.y;HR(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:L}=f;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h_(this.prevProjectionDelta.x,this.projectionDelta.x),h_(this.prevProjectionDelta.y,this.projectionDelta.y)),Qa(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==C||!v_(this.projectionDelta.x,this.prevProjectionDelta.x)||!v_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L)),za&&ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(u,f=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},w=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ut(),C=p?p.source:void 0,L=this.layout?this.layout.source:void 0,F=C!==L,M=this.getStack(),q=!M||M.members.length<=1,X=!!(F&&!q&&this.options.crossfade===!0&&!this.path.some(VP));this.animationProgress=0;let Q;this.mixTargetDelta=W=>{const ee=W/1e3;A_(w.x,u.x,ee),A_(w.y,u.y,ee),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xa(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kP(this.relativeTarget,this.relativeTargetOrigin,T,ee),Q&&pP(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ut()),xn(Q,this.relativeTarget)),F&&(this.animationValues=_,lP(_,g,this.latestValues,ee,X,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{tc.hasAnimatedSinceResize=!0,this.currentAnimation=nP(0,w_,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:_}=u;if(!(!f||!p||!g)){if(this!==u&&this.layout&&g&&aE(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ut();const w=Jt(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+w;const T=Jt(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}xn(f,p),Eo(f,_),Qa(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new mP),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Df("z",u,g,this.animationValues);for(let _=0;_<Vf.length;_++)Df(`rotate${Vf[_]}`,u,g,this.animationValues),Df(`skew${Vf[_]}`,u,g,this.animationValues);u.render();for(const _ in g)u.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);u.scheduleRender()}getProjectionStyles(u){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yP;const g={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Zu(u==null?void 0:u.pointerEvents)||"",g.transform=_?_(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const F={};return this.options.layoutId&&(F.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,F.pointerEvents=Zu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!is(this.latestValues)&&(F.transform=_?_({},""):"none",this.hasProjected=!1),F}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=gP(this.projectionDeltaWithTransform,this.treeScale,T),_&&(g.transform=_(T,g.transform));const{x:C,y:L}=this.projectionDelta;g.transformOrigin=`${C.origin*100}% ${L.origin*100}% 0`,w.animationValues?g.opacity=w===this?(p=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:g.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const F in il){if(T[F]===void 0)continue;const{correct:M,applyTo:q,isCSSVariable:X}=il[F],Q=g.transform==="none"?T[F]:M(T[F],w);if(q){const W=q.length;for(let ee=0;ee<W;ee++)g[q[ee]]=Q}else X?this.options.visualElement.renderState.vars[F]=Q:g[F]=Q}return this.options.layoutId&&(g.pointerEvents=w===this?Zu(u==null?void 0:u.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(E_),this.root.sharedNodes.clear()}}}function vP(n){n.updateLayout()}function wP(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?kn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=Jt(T);T.min=i[w].min,T.max=T.min+C}):aE(l,t.layoutBox,i)&&kn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=Jt(i[w]);T.max=T.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const f=vo();Qa(f,i,t.layoutBox);const p=vo();u?Qa(p,n.applyTransform(o,!0),t.measuredBox):Qa(p,i,t.layoutBox);const g=!rE(f);let _=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:C}=w;if(T&&C){const L=ut();Xa(L,t.layoutBox,T.layoutBox);const F=ut();Xa(F,i,C.layoutBox),iE(L,F)||(_=!0),w.options.layoutRoot&&(n.relativeTarget=F,n.relativeTargetOrigin=L,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function EP(n){za&&ss.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function TP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function AP(n){n.clearSnapshot()}function E_(n){n.clearMeasurements()}function SP(n){n.isLayoutDirty=!1}function IP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function T_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function RP(n){n.resolveTargetDelta()}function PP(n){n.calcProjection()}function CP(n){n.resetSkewAndRotation()}function xP(n){n.removeLeadSnapshot()}function A_(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function S_(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function kP(n,e,t,i){S_(n.x,e.x,t.x,i),S_(n.y,e.y,t.y,i)}function VP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const DP={duration:.45,ease:[.4,0,.1,1]},I_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),R_=I_("applewebkit/")&&!I_("chrome/")?Math.round:yn;function P_(n){n.min=R_(n.min),n.max=R_(n.max)}function NP(n){P_(n.x),P_(n.y)}function aE(n,e,t){return n==="position"||n==="preserve-aspect"&&!OR(__(e),__(t),.2)}function MP(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const LP=oE({attachResizeListener:(n,e)=>al(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nf={current:void 0},lE=oE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Nf.current){const n=new LP({});n.mount(window),n.setOptions({layoutScroll:!0}),Nf.current=n}return Nf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),OP={pan:{Feature:JR},drag:{Feature:YR,ProjectionNode:lE,MeasureLayout:eE}};function C_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Qe.postRender(()=>l(e,El(e)))}class bP extends Pi{mount(){const{current:e}=this.node;e&&(this.unmount=bS(e,(t,i)=>(C_(this.node,i,"Start"),o=>C_(this.node,o,"End"))))}unmount(){}}class FP extends Pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(al(this.node.current,"focus",()=>this.onFocus()),al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Qe.postRender(()=>l(e,El(e)))}class UP extends Pi{mount(){const{current:e}=this.node;e&&(this.unmount=jS(e,(t,i)=>(x_(this.node,i,"Start"),(o,{success:l})=>x_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const od=new WeakMap,Mf=new WeakMap,BP=n=>{const e=od.get(n.target);e&&e(n)},jP=n=>{n.forEach(BP)};function zP({root:n,...e}){const t=n||document;Mf.has(t)||Mf.set(t,{});const i=Mf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(jP,{root:n,...e})),i[o]}function $P(n,e,t){const i=zP(e);return od.set(n,t),i.observe(n),()=>{od.delete(n),i.unobserve(n)}}const qP={some:0,all:1};class WP extends Pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:qP[o]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),T=g?_:w;T&&T(p)};return $P(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(HP(e,t))&&this.startObserver()}unmount(){}}function HP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const KP={inView:{Feature:WP},tap:{Feature:UP},focus:{Feature:FP},hover:{Feature:bP}},GP={layout:{ProjectionNode:lE,MeasureLayout:eE}},ad={current:null},uE={current:!1};function QP(){if(uE.current=!0,!!Ld)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ad.current=n.matches;n.addListener(e),e()}else ad.current=!1}const XP=[...Mw,$t,Ei],YP=n=>XP.find(Nw(n)),k_=new WeakMap;function JP(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,sl(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(i);n.addValue(i,sl(u!==void 0?u:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const V_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZP{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=up,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=hr.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Qe.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:_}=u;this.onUpdate=_,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=xc(t),this.isVariantNode=$v(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in T){const L=T[C];p[C]!==void 0&&Ht(L)&&L.set(p[C],!1)}}mount(e){this.current=e,k_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),uE.current||QP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ad.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){k_.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ps.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const t=Ro[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<V_.length;i++){const o=V_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=JP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=sl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Vw(o)||Tw(o))?o=parseFloat(o):!YP(o)&&Ei.test(t)&&(o=Cw(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=zd(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new rp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class cE extends ZP{constructor(){super(...arguments),this.KeyframeResolver=Lw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function e1(n){return window.getComputedStyle(n)}class t1 extends cE{constructor(){super(...arguments),this.type="html",this.renderInstance=Yv}readValueFromInstance(e,t){if(ps.has(t)){const i=lp(t);return i&&i.default||0}else{const i=e1(e),o=($d(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Jw(e,t)}build(e,t,i){Hd(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Xd(e,t,i)}}class n1 extends cE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ps.has(t)){const i=lp(t);return i&&i.default||0}return t=Jv.has(t)?t:Ud(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return tw(e,t,i)}build(e,t,i){Kd(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Zv(e,t,i,o)}mount(e){this.isSVGTag=Qd(e.tagName),super.mount(e)}}const r1=(n,e)=>jd(n)?new n1(e):new t1(e,{allowProjection:n!==de.Fragment}),i1=kS({...PR,...KP,...OP,...GP},r1),s1=WA(i1);function o1({type:n="text",...e}){return oe.jsx("input",{type:n,className:"p-2 rounded bg-purple-700 text-white",...e})}function hE({username:n,setUsername:e,country:t,setCountry:i}){return oe.jsxs("div",{className:"mb-4",children:[oe.jsx(o1,{placeholder:"Select a temporary username (optional)",value:n,onChange:o=>e(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),oe.jsxs("select",{value:t,onChange:o=>i(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white",children:[oe.jsx("option",{value:"",children:"Select a country"}),oe.jsx("option",{value:"",children:"United States"}),oe.jsx("option",{value:"",children:"United Kingdom"}),oe.jsx("option",{value:"",children:"Germany"}),oe.jsx("option",{value:"",children:"France"}),oe.jsx("option",{value:"",children:"Japan"}),oe.jsx("option",{value:"",children:"India"})]})]})}var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},a1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,f=u?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,C=g&63;p||(C=64,u||(T=64)),i.push(t[_],t[w],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):a1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||g==null||w==null)throw new l1;const T=l<<2|f>>4;if(i.push(T),g!==64){const C=f<<4&240|g>>2;if(i.push(C),w!==64){const L=g<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(n){const e=fE(n);return dE.encodeByteArray(e,!0)},mc=function(n){return u1(n).replace(/\./g,"")},c1=function(n){try{return dE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof D_>"u")return;const n=D_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)},dp=()=>{try{return f1()||d1()||p1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m1=n=>{var e,t;return(t=(e=dp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pE=n=>{const e=m1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},mE=()=>{var n;return(n=dp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mc(JSON.stringify(t)),mc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){var n;const e=(n=dp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function E1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class ms extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=T1,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yE.prototype.create)}}class yE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?A1(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ms(o,f,i)}}function A1(n,e){return n.replace(S1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const S1=/\{\$([^}]+)}/g;function ld(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],u=e[o];if(N_(l)&&N_(u)){if(!ld(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function N_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new g1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:R1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(n){return n===os?void 0:n}function P1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const x1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},k1=Le.INFO,V1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},D1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=V1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _E{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const N1=(n,e)=>e.some(t=>n instanceof t);let M_,L_;function M1(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,ud=new WeakMap,wE=new WeakMap,Lf=new WeakMap,pp=new WeakMap;function O1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(pi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vE.set(t,n)}).catch(()=>{}),pp.set(e,n),e}function b1(n){if(ud.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ud.set(n,e)}let cd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ud.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F1(n){cd=n(cd)}function U1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Of(this),e,...t);return wE.set(i,e.sort?e.sort():[e]),pi(i)}:L1().includes(n)?function(...e){return n.apply(Of(this),e),pi(vE.get(this))}:function(...e){return pi(n.apply(Of(this),e))}}function B1(n){return typeof n=="function"?U1(n):(n instanceof IDBTransaction&&b1(n),N1(n,M1())?new Proxy(n,cd):n)}function pi(n){if(n instanceof IDBRequest)return O1(n);if(Lf.has(n))return Lf.get(n);const e=B1(n);return e!==n&&(Lf.set(n,e),pp.set(e,n)),e}const Of=n=>pp.get(n);function j1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),f=pi(u);return i&&u.addEventListener("upgradeneeded",p=>{i(pi(u.result),p.oldVersion,p.newVersion,pi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const z1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],bf=new Map;function O_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=$1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||z1.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return bf.set(e,l),l}F1(n=>({...n,get:(e,t,i)=>O_(e,t)||n.get(e,t,i),has:(e,t)=>!!O_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(W1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function W1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",b_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new _E("@firebase/app"),H1="@firebase/app-compat",K1="@firebase/analytics-compat",G1="@firebase/analytics",Q1="@firebase/app-check-compat",X1="@firebase/app-check",Y1="@firebase/auth",J1="@firebase/auth-compat",Z1="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",rC="@firebase/functions-compat",iC="@firebase/installations",sC="@firebase/installations-compat",oC="@firebase/messaging",aC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",pC="@firebase/firestore",mC="@firebase/vertexai",gC="@firebase/firestore-compat",yC="firebase",_C="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",vC={[hd]:"fire-core",[H1]:"fire-core-compat",[G1]:"fire-analytics",[K1]:"fire-analytics-compat",[X1]:"fire-app-check",[Q1]:"fire-app-check-compat",[Y1]:"fire-auth",[J1]:"fire-auth-compat",[Z1]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[rC]:"fire-fn-compat",[iC]:"fire-iid",[sC]:"fire-iid-compat",[oC]:"fire-fcm",[aC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[pC]:"fire-fst",[gC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,wC=new Map,dd=new Map;function F_(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ll(n){const e=n.name;if(dd.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,n);for(const t of gc.values())F_(t,n);for(const t of wC.values())F_(t,n);return!0}function EE(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new yE("app","Firebase",EC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=_C;function AE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=mE()),!t)throw mi.create("no-options");const l=gc.get(o);if(l){if(ld(t,l.options)&&ld(i,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const u=new C1(o);for(const p of dd.values())u.addComponent(p);const f=new TC(t,i,u);return gc.set(o,f),f}function SE(n=fd){const e=gc.get(n);if(!e&&n===fd&&mE())return AE();if(!e)throw mi.create("no-app",{appName:n});return e}function gi(n,e,t){var i;let o=(i=vC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}ll(new Co(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",SC=1,ul="firebase-heartbeat-store";let Ff=null;function IE(){return Ff||(Ff=j1(AC,SC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),Ff}async function IC(n){try{const t=(await IE()).transaction(ul),i=await t.objectStore(ul).get(RE(n));return await t.done,i}catch(e){if(e instanceof ms)br.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function U_(n,e){try{const i=(await IE()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,RE(n)),await i.done}catch(t){if(t instanceof ms)br.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(i.message)}}}function RE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,PC=30*24*60*60*1e3;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=B_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=PC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:i,unsentEntries:o}=xC(this._heartbeatsCache.heartbeats),l=mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function B_(){return new Date().toISOString().substring(0,10)}function xC(n,e=RC){const t=[];let i=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),j_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?E1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return U_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return U_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j_(n){return mc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n){ll(new Co("platform-logger",e=>new q1(e),"PRIVATE")),ll(new Co("heartbeat",e=>new CC(e),"PRIVATE")),gi(hd,b_,n),gi(hd,b_,"esm2017"),gi("fire-js","")}VC("");var DC="firebase",NC="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(DC,NC,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,PE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(V,N,b){for(var P=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)P[Xe-2]=arguments[Xe];return S.prototype[N].apply(V,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],N=x.g[2];var b=x.g[3],P=S+(b^R&(N^b))+V[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+V[1]+3905402710&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+V[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+V[3]+3250441966&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+V[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+V[5]+1200080426&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+V[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+V[7]+4249261313&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+V[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+V[9]+2336552879&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+V[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+V[11]+2304563134&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+V[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+V[13]+4254626195&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+V[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+V[15]+1236535329&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(N^b&(R^N))+V[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+V[6]+3225465664&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+V[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+V[0]+3921069994&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+V[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+V[10]+38016083&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+V[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+V[4]+3889429448&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+V[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+V[14]+3275163606&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+V[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+V[8]+1163531501&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+V[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+V[2]+4243563512&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+V[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+V[12]+2368359562&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(R^N^b)+V[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+V[8]+2272392833&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+V[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+V[14]+4259657740&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+V[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+V[4]+1272893353&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+V[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+V[10]+3200236656&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+V[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+V[0]+3936430074&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+V[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+V[6]+76029189&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+V[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+V[12]+3873151461&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+V[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+V[2]+3299628645&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(N^(R|~b))+V[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+V[7]+1126891415&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+V[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+V[5]+4237533241&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+V[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+V[3]+2399980690&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+V[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+V[1]+2240044497&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+V[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+V[15]+4264355552&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+V[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+V[13]+1309151649&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+V[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+V[11]+3174756917&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+V[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+b&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,V=this.B,N=this.h,b=0;b<S;){if(N==0)for(;b<=R;)o(this,x,b),b+=this.blockSize;if(typeof x=="string"){for(;b<S;)if(V[N++]=x.charCodeAt(b++),N==this.blockSize){o(this,V),N=0;break}}else for(;b<S;)if(V[N++]=x[b++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var V=0;32>V;V+=8)x[R++]=this.g[S]>>>V&255;return x};function l(x,S){var R=f;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function u(x,S){this.h=S;for(var R=[],V=!0,N=x.length-1;0<=N;N--){var b=x[N]|0;V&&b==S||(R[N]=b,V=!1)}this.g=R}var f={};function p(x){return-128<=x&&128>x?l(x,function(S){return new u([S|0],0>S?-1:0)}):new u([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return M(g(-x));for(var S=[],R=1,V=0;x>=R;V++)S[V]=x/R|0,R*=4294967296;return new u(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return M(_(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),V=w,N=0;N<x.length;N+=8){var b=Math.min(8,x.length-N),P=parseInt(x.substring(N,N+b),S);8>b?(b=g(Math.pow(S,b)),V=V.j(b).add(g(P))):(V=V.j(R),V=V.add(g(P)))}return V}var w=p(0),T=p(1),C=p(16777216);n=u.prototype,n.m=function(){if(F(this))return-M(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var V=this.i(R);x+=(0<=V?V:4294967296+V)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(F(this))return"-"+M(this).toString(x);for(var S=g(Math.pow(x,6)),R=this,V="";;){var N=W(R,S).g;R=q(R,N.j(S));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=N,L(R))return b+V;for(;6>b.length;)b="0"+b;V=b+V}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function F(x){return x.h==-1}n.l=function(x){return x=q(this,x),F(x)?-1:L(x)?0:1};function M(x){for(var S=x.g.length,R=[],V=0;V<S;V++)R[V]=~x.g[V];return new u(R,~x.h).add(T)}n.abs=function(){return F(this)?M(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0,N=0;N<=S;N++){var b=V+(this.i(N)&65535)+(x.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=P>>>16,b&=65535,P&=65535,R[N]=P<<16|b}return new u(R,R[R.length-1]&-2147483648?-1:0)};function q(x,S){return x.add(M(S))}n.j=function(x){if(L(this)||L(x))return w;if(F(this))return F(x)?M(this).j(M(x)):M(M(this).j(x));if(F(x))return M(this.j(M(x)));if(0>this.l(C)&&0>x.l(C))return g(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<x.g.length;N++){var b=this.i(V)>>>16,P=this.i(V)&65535,Xe=x.i(N)>>>16,Ct=x.i(N)&65535;R[2*V+2*N]+=P*Ct,X(R,2*V+2*N),R[2*V+2*N+1]+=b*Ct,X(R,2*V+2*N+1),R[2*V+2*N+1]+=P*Xe,X(R,2*V+2*N+1),R[2*V+2*N+2]+=b*Xe,X(R,2*V+2*N+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new u(R,0)};function X(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Q(x,S){this.g=x,this.h=S}function W(x,S){if(L(S))throw Error("division by zero");if(L(x))return new Q(w,w);if(F(x))return S=W(M(x),S),new Q(M(S.g),M(S.h));if(F(S))return S=W(x,M(S)),new Q(M(S.g),S.h);if(30<x.g.length){if(F(x)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=S;0>=V.l(x);)R=ee(R),V=ee(V);var N=ie(R,1),b=ie(V,1);for(V=ie(V,2),R=ie(R,2);!L(V);){var P=b.add(V);0>=P.l(x)&&(N=N.add(R),b=P),V=ie(V,1),R=ie(R,1)}return S=q(x,N.j(S)),new Q(N,S)}for(N=w;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),b=g(R),P=b.j(S);F(P)||0<P.l(x);)R-=V,b=g(R),P=b.j(S);L(b)&&(b=T),N=N.add(b),x=q(x,P)}return new Q(N,x)}n.A=function(x){return W(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)&x.i(V);return new u(R,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)|x.i(V);return new u(R,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)^x.i(V);return new u(R,this.h^x.h)};function ee(x){for(var S=x.g.length+1,R=[],V=0;V<S;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new u(R,x.h)}function ie(x,S){var R=S>>5;S%=32;for(var V=x.g.length-R,N=[],b=0;b<V;b++)N[b]=0<S?x.i(b+R)>>>S|x.i(b+R+1)<<32-S:x.i(b+R);return new u(N,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,PE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,yi=u}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CE,$a,xE,nc,pd,kE,VE,DE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function l(c,m){c instanceof String&&(c+="");var v=0,A=!1,U={next:function(){if(!A&&v<c.length){var $=v++;return{value:m($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function w(c,m,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function T(c,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,U,$){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return m.prototype[U].apply(A,re)}}function F(c){const m=c.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function M(c,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=c.length||0,$=A.length||0;c.length=U+$;for(let re=0;re<$;re++)c[U+re]=A[re]}else c.push(A)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var ee=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function x(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function b(c){f.setTimeout(()=>{throw c},0)}function P(){var c=me;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Xe{constructor(){this.h=this.g=null}add(m,v){const A=Ct.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ct=new q(()=>new xt,c=>c.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ne=!1,me=new Xe,se=()=>{const c=f.Promise.resolve(void 0);Se=()=>{c.then(O)}};var O=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(v){b(v)}var m=Ct;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c}();function Pe(c,m){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ee){e:{try{W(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}L(Pe,ge);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mr(c){this.src=c,this.g={},this.h=0}mr.prototype.add=function(c,m,v,A,U){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=Br(c,m,A,U);return-1<re?(m=c[re],v||(m.fa=!1)):(m=new $e(m,this.src,$,!!A,U),m.fa=v,c.push(m)),m};function ws(c,m){var v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(A,U,1),$&&(Tt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Br(c,m,v,A){for(var U=0;U<c.length;++U){var $=c[U];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==A)return U}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Es={};function $o(c,m,v,A,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)$o(c,m[$],v,A,U);return null}return v=Ho(v),c&&c[Fe]?c.K(m,v,g(A)?!!A.capture:!1,U):qo(c,m,v,!1,A,U)}function qo(c,m,v,A,U,$){if(!m)throw Error("Invalid event type");var re=g(U)?!!U.capture:!!U,je=As(c);if(je||(c[xi]=je=new mr(c)),v=je.add(m,v,A,re,$),v.proxy)return v;if(A=Rl(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)Re||(U=re),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(yr(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rl(){function c(v){return m.call(c.src,c.listener,v)}const m=Wo;return c}function Ts(c,m,v,A,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Ts(c,m[$],v,A,U);else A=g(A)?!!A.capture:!!A,v=Ho(v),c&&c[Fe]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],v=Br($,v,A,U),-1<v&&(Tt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=As(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Br(m,v,A,U)),(v=-1<c?m[c]:null)&&gr(v))}function gr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Fe])ws(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(yr(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=As(m))?(ws(v,c),v.h==0&&(v.src=null,m[xi]=null)):Tt(c)}}}function yr(c){return c in Es?Es[c]:Es[c]="on"+c}function Wo(c,m){if(c.da)c=!0;else{m=new Pe(m,this);var v=c.listener,A=c.ha||c.src;c.fa&&gr(c),c=v.call(A,m)}return c}function As(c){return c=c[xi],c instanceof mr?c:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(c){return typeof c=="function"?c:(c[Ss]||(c[Ss]=function(m){return c.handleEvent(m)}),c[Ss])}function mt(){K.call(this),this.i=new mr(this),this.M=this,this.F=null}L(mt,K),mt.prototype[Fe]=!0,mt.prototype.removeEventListener=function(c,m,v,A){Ts(this,c,m,v,A)};function gt(c,m){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new ge(m,c);else if(m instanceof ge)m.target=m.target||c;else{var U=m;m=new ge(A,c),V(m,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var re=m.g=v[$];U=_r(re,A,!0,m)&&U}if(re=m.g=c,U=_r(re,A,!0,m)&&U,U=_r(re,A,!1,m)&&U,v)for($=0;$<v.length;$++)re=m.g=v[$],U=_r(re,A,!1,m)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],A=0;A<v.length;A++)Tt(v[A]);delete c.g[m],c.h--}}this.F=null},mt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},mt.prototype.L=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function _r(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var re=m[$];if(re&&!re.da&&re.capture==v){var je=re.listener,yt=re.ha||re.src;re.fa&&ws(c.i,re),U=je.call(yt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ko(c,m,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(c,m||0)}function jr(c){c.g=Ko(()=>{c.g=null,c.i&&(c.i=!1,jr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ki extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(c){K.call(this),this.h=c,this.g={}}L(Vi,K);var Go=[];function Qo(c){ie(c.g,function(m,v){this.g.hasOwnProperty(v)&&gr(m)},c),c.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Qo(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=f.JSON.stringify,Yo=f.JSON.parse,Jo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Di(){}Di.prototype.h=null;function Is(c){return c.h||(c.h=c.i())}function Rs(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){ge.call(this,"d")}L(Yn,ge);function Ps(){ge.call(this,"c")}L(Ps,ge);var Jn={},Zo=null;function Ni(){return Zo=Zo||new mt}Jn.La="serverreachability";function ea(c){ge.call(this,Jn.La,c)}L(ea,ge);function vr(c){const m=Ni();gt(m,new ea(m))}Jn.STAT_EVENT="statevent";function ta(c,m){ge.call(this,Jn.STAT_EVENT,c),this.stat=m}L(ta,ge);function at(c){const m=Ni();gt(m,new ta(m,c))}Jn.Ma="timingevent";function Cs(c,m){ge.call(this,Jn.Ma,c),this.size=m}L(Cs,ge);function Dn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Li(c,m,v,A,U,$){c.info(function(){if(c.g)if($)for(var re="",je=$.split("&"),yt=0;yt<je.length;yt++){var Ne=je[yt].split("=");if(1<Ne.length){var At=Ne[0];Ne=Ne[1];var ht=At.split("_");re=2<=ht.length&&ht[1]=="type"?re+(At+"="+Ne+"&"):re+(At+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+re})}function xs(c,m,v,A,U,$,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+$+" "+re})}function Nn(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wc(c,v)+(A?" "+A:"")})}function na(c,m){c.info(function(){return"TIMEOUT: "+m})}Mi.prototype.info=function(){};function Wc(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Xo(v)}catch{return m}}var ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Oi(){}L(Oi,Di),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Mn=new Oi;function Ln(c,m,v,A){this.j=c,this.i=m,this.l=v,this.R=A||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var ra={},Vs={};function Ds(c,m,v){c.L=1,c.v=Hr(cn(m)),c.m=v,c.P=!0,ia(c,null)}function ia(c,m){c.F=Date.now(),qe(c),c.A=cn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Gr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Cl,c.g=Hl(c.j,v?m:null,!c.m),0<c.O&&(c.M=new ki(T(c.Y,c,c.g),c.O)),m=c.U,v=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Go[0]=U.toString()),U=Go);for(var $=0;$<U.length;$++){var re=$o(v,U[$],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),vr(),Li(c.i,c.u,c.A,c.l,c.R,c.m)}Ln.prototype.ca=function(c){c=c.target;const m=this.M;m&&en(c)==3?m.j():this.Y(c)},Ln.prototype.Y=function(c){try{if(c==this.g)e:{const ht=en(this.g);var m=this.g.Ba();const Tn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||ht!=4||m==7||(m==8||0>=Tn?vr(3):vr(2)),bi(this);var v=this.g.Z();this.X=v;t:if(xl(this)){var A=ca(this.g);c="";var U=A.length,$=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),zr(this);var re="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!($&&m==U-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,xs(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,yt=this.g;if((je=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Ne=je;break t}}Ne=null}if(v=Ne)Nn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,v);else{this.o=!1,this.s=3,at(12),wn(this),zr(this);break e}}if(this.P){v=!0;let fn;for(;!this.J&&this.C<re.length;)if(fn=Hc(this,re),fn==Vs){ht==4&&(this.s=4,at(14),v=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==ra){this.s=4,at(15),Nn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Nn(this.i,this.l,fn,null),sa(this,fn);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Nn(this.i,this.l,re,"[Invalid Chunked Response]"),wn(this),zr(this);else if(0<re.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),fa(At),At.M=!0,at(11))}}else Nn(this.i,this.l,re,null),sa(this,re);ht==4&&wn(this),this.o&&!this.J&&(ht==4?$s(this.j,this):(this.o=!1,qe(this)))}else Fs(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),wn(this),zr(this)}}}catch{}finally{}};function xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hc(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Vs:(v=Number(m.substring(v,A)),isNaN(v)?ra:(A+=1,A+v>m.length?Vs:(m=m.slice(A,A+v),c.C=A+v,m)))}Ln.prototype.cancel=function(){this.J=!0,wn(this)};function qe(c){c.S=Date.now()+c.I,kl(c,c.I)}function kl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dn(T(c.ba,c),m)}function bi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(na(this.i,this.A),this.L!=2&&(vr(),at(17)),wn(this),this.s=2,zr(this)):kl(this,this.S-c)};function zr(c){c.j.G==0||c.J||$s(c.j,c)}function wn(c){bi(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Qo(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function sa(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Kt(v.h,c))){if(!c.K&&Kt(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)zs(v),Bn(v);else break e;js(v),at(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Dn(T(v.Za,v),6e3));if(1>=Dl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Sr(v,11)}else if((c.K||v.g==c)&&zs(v),!X(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const At=Ne[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const ht=Ne[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const Tn=Ne[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(A=1.5*Tn,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const fn=c.g;if(fn){const qi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var $=A.h;$.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(oa($,$.h),$.h=null))}if(A.D){const Ws=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(A.ya=Ws,ze(A.I,A.D,Ws))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=c;if(A.qa=Wl(A,A.J?A.ia:null,A.W),re.K){Nl(A.h,re);var je=re,yt=A.L;yt&&(je.I=yt),je.B&&(bi(je),qe(je)),A.g=re}else $i(A);0<v.i.length&&nr(v)}else Ne[0]!="stop"&&Ne[0]!="close"||Sr(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Sr(v,7):Vt(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}vr(4)}catch{}}var Vl=class{constructor(c,m){this.g=c,this.map=m}};function Fi(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function oa(c,m){c.g?c.g.add(m):c.h=m}function Nl(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Fi.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return F(c.i)}function Ns(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],v=c.length,A=0;A<v;A++)m.push(c[A]);return m}m=[],v=0;for(A in c)m[v++]=c[A];return m}function Ms(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const A in c)m[v++]=A;return m}}}function $r(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Ms(c),A=Ns(c),U=A.length,$=0;$<U;$++)m.call(void 0,A[$],v&&v[$],c)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),U=null;if(0<=A){var $=c[v].substring(0,A);U=c[v].substring(A+1)}else $=c[v];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,Bi(this,c.j),this.o=c.o,this.g=c.g,qr(this,c.s),this.l=c.l;var m=c.i,v=new Zn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Wr(this,v),this.m=c.m}else c&&(m=String(c).match(Ui))?(this.h=!1,Bi(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),qr(this,m[4]),this.l=ke(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}wr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Kr(m,Ls,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Kr(m,Ls,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Kr(v,v.charAt(0)=="/"?bl:Ol,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Kr(v,aa)),c.join("")};function cn(c){return new wr(c)}function Bi(c,m,v){c.j=v?ke(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function qr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Wr(c,m,v){m instanceof Zn?(c.i=m,er(c.i,c.h)):(v||(m=Kr(m,Fl)),c.i=new Zn(m,c.h))}function ze(c,m,v){c.i.set(m,v)}function Hr(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ke(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Kr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Ll),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ll(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ls=/[#\/\?@]/g,Ol=/[#\?:]/g,bl=/[#\?]/g,Fl=/[#\?@]/g,aa=/#/g;function Zn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&Kc(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Zn.prototype,n.add=function(c,m){kt(this),this.i=null,c=En(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function On(c,m){kt(c),m=En(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function bn(c,m){return kt(c),m=En(c,m),c.g.has(m)}n.forEach=function(c,m){kt(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=c[A];for(let $=0;$<U.length;$++)v.push(m[A])}return v},n.V=function(c){kt(this);let m=[];if(typeof c=="string")bn(this,c)&&(m=m.concat(this.g.get(En(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return kt(this),this.i=null,c=En(this,c),bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Gr(c,m,v){On(c,m),0<v.length&&(c.i=null,c.g.set(En(c,m),F(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const $=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var U=$;re[A]!==""&&(U+="="+encodeURIComponent(String(re[A]))),c.push(U)}}return this.i=c.join("&")};function En(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function er(c,m){m&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(On(this,A),Gr(this,U,v))},c)),c.j=m}function Gc(c,m){const v=new Mi;if(f.Image){const A=new Image;A.onload=C(Zt,v,"TestLoadImage: loaded",!0,m,A),A.onerror=C(Zt,v,"TestLoadImage: error",!1,m,A),A.onabort=C(Zt,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=C(Zt,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Ul(c,m){const v=new Mi,A=new AbortController,U=setTimeout(()=>{A.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(U),$.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(v,"TestPingServer: error",!1,m)})}function Zt(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Qc(){this.g=new Jo}function Bl(c,m,v){const A=v||"";try{$r(c,function(U,$){let re=U;g(U)&&(re=Xo(U)),m.push(A+$+"="+encodeURIComponent(re))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Er,Di),Er.prototype.g=function(){return new ji(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function ji(c,m){mt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ji,mt),n=ji.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Un(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Fn(this):Un(this),this.readyState==3&&jl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Fn(this))},n.Qa=function(c){this.g&&(this.response=c,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Un(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tr(c){let m="";return ie(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Qr(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Tr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ze(c,m,v))}function Ye(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ye,mt);var Xc=/^https?$/i,la=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Is(this.o):Is(Mn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){zi(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(la,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){zi(this,$)}};function zi(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Os(c),hn(c)}function Os(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)Ko(c.Ea,0,c);else if(gt(c,"readystatechange"),en(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=re===0){var U=String(c.D).match(Ui)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),A=!Xc.test(U?U.toLowerCase():"")}v=A}if(v)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var $=2<en(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Os(c)}}finally{hn(c)}}}}function hn(c,m){if(c.g){bs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||gt(c,"ready");try{v.onreadystatechange=A}catch{}}}function bs(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Yo(m)}};function ca(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(c){const m={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(X(c[A]))continue;var v=N(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[U]||[];m[U]=$,$.push(v)}x(m,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ha(c){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,c),this.cb=tr("retryDelaySeedMs",1e4,c),this.Wa=tr("forwardChannelMaxRetries",2,c),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Qc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,A){at(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Wl(this,null,this.W),nr(this)};function Vt(c){if(Us(c),c.G==3){var m=c.U++,v=cn(c.I);if(ze(v,"SID",c.K),ze(v,"RID",m),ze(v,"TYPE","terminate"),Ar(c,v),m=new Ln(c,c.j,m),m.L=2,m.v=Hr(cn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Hl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}ql(c)}function Bn(c){c.g&&(fa(c),c.g.cancel(),c.g=null)}function Us(c){Bn(c),c.u&&(f.clearTimeout(c.u),c.u=null),zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function nr(c){if(!un(c.h)&&!c.s){c.s=!0;var m=c.Ga;Se||se(),ne||(Se(),ne=!0),me.add(m,c),c.B=0}}function Yc(c,m){return Dl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dn(T(c.Ga,c,m),$l(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Ln(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),V($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Xr(this,U,m),v=cn(this.I),ze(v,"RID",c),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Ar(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Tr($)))+"&"+m:this.m&&Qr(v,this.m,$)),oa(this.h,U),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",m),ze(v,"SID","null"),U.T=!0,Ds(U,v,null)):Ds(U,v,m),this.G=2}}else this.G==3&&(c?Bs(this,c):this.i.length==0||un(this.h)||Bs(this))};function Bs(c,m){var v;m?v=m.l:v=c.U++;const A=cn(c.I);ze(A,"SID",c.K),ze(A,"RID",v),ze(A,"AID",c.T),Ar(c,A),c.m&&c.o&&Qr(A,c.m,c.o),v=new Ln(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Xr(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oa(c.h,v),Ds(v,A,m)}function Ar(c,m){c.H&&ie(c.H,function(v,A){ze(m,A,v)}),c.l&&$r({},function(v,A){ze(m,A,v)})}function Xr(c,m,v){v=Math.min(c.i.length,v);var A=c.l?T(c.l.Na,c.l,c):null;e:{var U=c.i;let $=-1;for(;;){const re=["count="+v];$==-1?0<v?($=U[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let je=!0;for(let yt=0;yt<v;yt++){let Ne=U[yt].g;const At=U[yt].map;if(Ne-=$,0>Ne)$=Math.max(0,U[yt].g-100),je=!1;else try{Bl(At,re,"req"+Ne+"_")}catch{A&&A(At)}}if(je){A=re.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,A}function $i(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Se||se(),ne||(Se(),ne=!0),me.add(m,c),c.v=0}}function js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dn(T(c.Fa,c),$l(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Bn(this),zl(this))};function fa(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function zl(c){c.g=new Ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=cn(c.qa);ze(m,"RID","rpc"),ze(m,"SID",c.K),ze(m,"AID",c.T),ze(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(m,"TO",c.ja),ze(m,"TYPE","xmlhttp"),Ar(c,m),c.m&&c.o&&Qr(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Hr(cn(m)),v.m=null,v.P=!0,ia(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),js(this),at(19))};function zs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function $s(c,m){var v=null;if(c.g==m){zs(c),fa(c),c.g=null;var A=2}else if(Kt(c.h,m))v=m.D,Nl(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;A=Ni(),gt(A,new Cs(A,v)),nr(c)}else $i(c);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Yc(c,m)||A==2&&js(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function $l(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Sr(c,m){if(c.j.info("Error code "+m),m==2){var v=T(c.fb,c),A=c.Xa;const U=!A;A=new wr(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bi(A,"https"),Hr(A),U?Gc(A.toString(),v):Ul(A.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(m),ql(c),Us(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ql(c){if(c.G=0,c.ka=[],c.l){const m=Ml(c.h);(m.length!=0||c.i.length!=0)&&(M(c.ka,m),M(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Wl(c,m,v){var A=v instanceof wr?cn(v):new wr(v);if(A.g!="")m&&(A.g=m+"."+A.g),qr(A,A.s);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new wr(null);A&&Bi($,A),m&&($.g=m),U&&qr($,U),v&&($.l=v),A=$}return v=c.D,m=c.ya,v&&m&&ze(A,v,m),ze(A,"VER",c.la),Ar(c,A),A}function Hl(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new Er({eb:v})):new Ye(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}n=da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qs(){}qs.prototype.g=function(c,m){return new Gt(c,m)};function Gt(c,m){mt.call(this),this.g=new ha(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!X(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new rr(this)}L(Gt,mt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vt(this.g)},Gt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Xo(c),c=v);m.i.push(new Vl(m.Ya++,c)),m.G==3&&nr(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Gt.aa.N.call(this)};function Kl(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}L(Kl,Yn);function Gl(){Ps.call(this),this.status=1}L(Gl,Ps);function rr(c){this.g=c}L(rr,da),rr.prototype.ua=function(){gt(this.g,"a")},rr.prototype.ta=function(c){gt(this.g,new Kl(c))},rr.prototype.sa=function(c){gt(this.g,new Gl)},rr.prototype.ra=function(){gt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,DE=function(){return new qs},VE=function(){return Ni()},kE=Jn,pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,nc=ks,Pl.COMPLETE="complete",xE=Pl,Rs.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,$a=Rs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,CE=Ye}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new _E("@firebase/firestore");function fo(){return fs.logLevel}function le(n,...e){if(fs.logLevel<=Le.DEBUG){const t=e.map(mp);fs.debug(`Firestore (${Fo}): ${n}`,...t)}}function Fr(n,...e){if(fs.logLevel<=Le.ERROR){const t=e.map(mp);fs.error(`Firestore (${Fo}): ${n}`,...t)}}function xo(n,...e){if(fs.logLevel<=Le.WARN){const t=e.map(mp);fs.warn(`Firestore (${Fo}): ${n}`,...t)}}function mp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Be(n,e){n||Te()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new NE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qt(e)}}class bC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new bC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new UC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=jC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function ko(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new wt(0,0))}static max(){return new Ae(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=lr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=lr.isNumericId(e),o=lr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?lr.extractNumericId(e).compare(lr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Ge extends lr{construct(e,t,i){return new Ge(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const zC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends lr{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return zC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}function $C(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Ti(o,ye.empty(),e)}function qC(n){return new Ti(n.readTime,n.key,-1)}class Ti{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ti(Ae.min(),ye.empty(),-1)}static max(){return new Ti(Ae.max(),ye.empty(),-1)}}function WC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==HC)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,i)=>{t(e)})}static reject(e){return new H((t,i)=>{i(e)})}static waitFor(e){return new H((t,i)=>{let o=0,l=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++l,u&&l===o&&t()},p=>i(p))}),u=!0,l===o&&t()})}static or(e){let t=H.resolve(!1);for(const i of e)t=t.next(o=>o?H.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new H((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{u[g]=_,++f,f===l&&i(u)},_=>o(_))}})}static doWhile(e,t){return new H((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function GC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dc.oe=-1;function Nc(n){return n==null}function yc(n){return n===0&&1/n==-1/0}function QC(n){return typeof n=="number"&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=q_(e)),e=YC(n.get(t),e);return q_(e)}function YC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function q_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Et(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new OE("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const JC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(Be(!!n),typeof n=="string"){let e=0;const t=JC.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Mc(n){const e=n.mapValue.fields.__previous_value__;return gp(e)?Mc(e):e}function cl(n){const e=Ai(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,i,o,l,u,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}class hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gp(n)?4:tx(n)?9007199254740991:ex(n)?10:11:Te()}function pr(n,e){if(n===e)return!0;const t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Ai(o.timestampValue),f=Ai(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=ct(o.doubleValue),f=ct(l.doubleValue);return u===f?yc(u)===yc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return ko(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(W_(u)!==W_(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!pr(u[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function fl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;const t=Ii(n),i=Ii(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=ct(l.integerValue||l.doubleValue),p=ct(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return K_(n.timestampValue,e.timestampValue);case 4:return K_(cl(n),cl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,u){const f=Si(l),p=Si(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=Ve(f[g],p[g]);if(_!==0)return _}return Ve(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Ve(ct(l.latitude),ct(u.latitude));return f!==0?f:Ve(ct(l.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return G_(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,g,_;const w=l.fields||{},T=u.fields||{},C=(f=w.value)===null||f===void 0?void 0:f.arrayValue,L=(p=T.value)===null||p===void 0?void 0:p.arrayValue,F=Ve(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:G_(C,L)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Ku.mapValue&&u===Ku.mapValue)return 0;if(l===Ku.mapValue)return 1;if(u===Ku.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=Ve(p[w],_[w]);if(T!==0)return T;const C=Vo(f[p[w]],g[_[w]]);if(C!==0)return C}return Ve(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function K_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ai(n),i=Ai(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function G_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Vo(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function Do(n){return md(n)}function md(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ai(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=md(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${md(t.fields[u])}`;return o+"}"}(n.mapValue):Te()}function rc(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mc(n);return e?16+rc(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+rc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return gs(i.fields,(l,u)=>{o+=l.length+rc(u)}),o}(n.mapValue);default:throw Te()}}function Q_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gd(n){return!!n&&"integerValue"in n}function yp(n){return!!n&&"arrayValue"in n}function X_(n){return!!n&&"nullValue"in n}function Y_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ic(n){return!!n&&"mapValue"in n}function ex(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ya(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ya(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ya(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Ya(u):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){gs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Vn(Ya(this.value))}}function bE(n){const e=[];return gs(n.fields,(t,i)=>{const o=new Ot([t]);if(ic(i)){const l=bE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Vn.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ae.min(),Ae.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ae.min(),Ae.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.position=e,this.inclusive=t}}function J_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),t.key):i=Vo(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Z_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t="asc"){this.field=e,this.dir=t}}function nx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{}class pt extends FE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ix(e,t,i):t==="array-contains"?new ax(e,i):t==="in"?new lx(e,i):t==="not-in"?new ux(e,i):t==="array-contains-any"?new cx(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new sx(e,i):new ox(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends FE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xn(e,t)}matches(e){return UE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UE(n){return n.op==="and"}function BE(n){return rx(n)&&UE(n)}function rx(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function yd(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(BE(n))return n.filters.map(e=>yd(e)).join(",");{const e=n.filters.map(t=>yd(t)).join(",");return`${n.op}(${e})`}}function jE(n,e){return n instanceof pt?function(i,o){return o instanceof pt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)}(n,e):n instanceof Xn?function(i,o){return o instanceof Xn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,f)=>l&&jE(u,o.filters[f]),!0):!1}(n,e):void Te()}function zE(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(zE).join(" ,")+"}"}(n):"Filter"}class ix extends pt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class sx extends pt{constructor(e,t){super(e,"in",t),this.keys=$E("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ox extends pt{constructor(e,t){super(e,"not-in",t),this.keys=$E("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $E(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class ax extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yp(t)&&fl(t.arrayValue,this.value)}}class lx extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fl(this.value.arrayValue,t)}}class ux extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fl(this.value.arrayValue,t)}}class cx extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.ue=null}}function ev(n,e=null,t=[],i=[],o=null,l=null,u=null){return new hx(n,e,t,i,o,l,u)}function _p(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>yd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Nc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Do(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Do(i)).join(",")),e.ue=t}return e.ue}function vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Z_(n.startAt,e.startAt)&&Z_(n.endAt,e.endAt)}function _d(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fx(n,e,t,i,o,l,u,f){return new jo(n,e,t,i,o,l,u,f)}function wp(n){return new jo(n)}function tv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qE(n){return n.collectionGroup!==null}function Ja(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Et(Ot.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new dl(l,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new dl(Ot.keyField(),i))}return e.ce}function fr(n){const e=Ie(n);return e.le||(e.le=dx(e,Ja(n))),e.le}function dx(n,e){if(n.limitType==="F")return ev(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new dl(o.field,l)});const t=n.endAt?new _c(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _c(n.startAt.position,n.startAt.inclusive):null;return ev(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vd(n,e){const t=n.filters.concat([e]);return new jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wd(n,e,t){return new jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lc(n,e){return vp(fr(n),fr(e))&&n.limitType===e.limitType}function WE(n){return`${_p(fr(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>zE(o)).join(", ")}]`),Nc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${i})`}(fr(n))}; limitType=${n.limitType})`}function Oc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ja(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,p){const g=J_(u,f,p);return u.inclusive?g<=0:g<0}(i.startAt,Ja(i),o)||i.endAt&&!function(u,f,p){const g=J_(u,f,p);return u.inclusive?g>=0:g>0}(i.endAt,Ja(i),o))}(n,e)}function px(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HE(n){return(e,t)=>{let i=!1;for(const o of Ja(n)){const l=mx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function mx(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Vo(p,g):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new nt(ye.comparator);function Ur(){return gx}const KE=new nt(ye.comparator);function qa(...n){let e=KE;for(const t of n)e=e.insert(t.key,t);return e}function GE(n){let e=KE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ls(){return Za()}function QE(){return Za()}function Za(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const yx=new nt(ye.comparator),_x=new Et(ye.comparator);function xe(...n){let e=_x;for(const t of n)e=e.add(t);return e}const vx=new Et(Ve);function wx(){return vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function XE(n){return{integerValue:""+n}}function Ex(n,e){return QC(e)?XE(e):Ep(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function Tx(n,e,t){return n instanceof pl?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&gp(l)&&(l=Mc(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):n instanceof ml?JE(n,e):n instanceof gl?ZE(n,e):function(o,l){const u=YE(o,l),f=nv(u)+nv(o.Pe);return gd(u)&&gd(o.Pe)?XE(f):Ep(o.serializer,f)}(n,e)}function Ax(n,e,t){return n instanceof ml?JE(n,e):n instanceof gl?ZE(n,e):t}function YE(n,e){return n instanceof vc?function(i){return gd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class pl extends bc{}class ml extends bc{constructor(e){super(),this.elements=e}}function JE(n,e){const t=eT(e);for(const i of n.elements)t.some(o=>pr(o,i))||t.push(i);return{arrayValue:{values:t}}}class gl extends bc{constructor(e){super(),this.elements=e}}function ZE(n,e){let t=eT(e);for(const i of n.elements)t=t.filter(o=>!pr(o,i));return{arrayValue:{values:t}}}class vc extends bc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function nv(n){return ct(n.integerValue||n.doubleValue)}function eT(n){return yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.field=e,this.transform=t}}function Ix(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ml&&o instanceof ml||i instanceof gl&&o instanceof gl?ko(i.elements,o.elements,pr):i instanceof vc&&o instanceof vc?pr(i.Pe,o.Pe):i instanceof pl&&o instanceof pl}(n.transform,e.transform)}class Rx{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Fc{}function tT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rT(n.key,Lr.none()):new Tl(n.key,n.data,Lr.none());{const t=n.data,i=Vn.empty();let o=new Et(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new _s(n.key,i,new Gn(o.toArray()),Lr.none())}}function Px(n,e,t){n instanceof Tl?function(o,l,u){const f=o.value.clone(),p=iv(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(o,l,u){if(!sc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=iv(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(nT(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function el(n,e,t,i){return n instanceof Tl?function(l,u,f,p){if(!sc(l.precondition,u))return f;const g=l.value.clone(),_=sv(l.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof _s?function(l,u,f,p){if(!sc(l.precondition,u))return f;const g=sv(l.fieldTransforms,p,u),_=u.data;return _.setAll(nT(l)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,u,f){return sc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Cx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=YE(i.transform,o||null);l!=null&&(t===null&&(t=Vn.empty()),t.set(i.field,l))}return t||null}function rv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ko(i,o,(l,u)=>Ix(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tl extends Fc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Fc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function nT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function iv(n,e,t){const i=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,Ax(u,f,t[o]))}return i}function sv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);i.set(o.field,Tx(l,u,e))}return i}class rT extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xx extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Px(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=el(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=el(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=QE();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=tT(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,i)=>rv(t,i))&&ko(this.baseMutations,e.baseMutations,(t,i)=>rv(t,i))}}class Tp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length);let o=function(){return yx}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Tp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function Nx(n){switch(n){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function iT(n){if(n===void 0)return Fr("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new yi([4294967295,4294967295],0);function ov(n){const e=Mx().encode(n),t=new PE;return t.update(e),new Uint8Array(t.digest())}function av(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yi([t,i],0),new yi([o,l],0)]}class Ap{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(i<0)throw new Wa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=yi.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(yi.fromNumber(i)));return o.compare(Lx)===1&&(o=new yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ov(e),[i,o]=av(t);for(let l=0;l<this.hashCount;l++){const u=this.de(i,o,l);if(!this.Ee(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ap(l,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=ov(e),[i,o]=av(t);for(let l=0;l<this.hashCount;l++){const u=this.de(i,o,l);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Uc(Ae.min(),o,new nt(Ve),Ur(),xe())}}class Al{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Al(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class sT{constructor(e,t){this.targetId=e,this.me=t}}class oT{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class lv{constructor(){this.fe=0,this.ge=uv(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Al(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=uv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ox{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ur(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new nt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(_d(l))if(i===0){const u=new ye(l.path);this.We(t,u,Wt.newNoDocument(u,Ae.min()))}else Be(i===1);else{const u=this.Ze(t);if(u!==i){const f=this.Xe(e),p=f?this.et(f,e,u):1;if(p!==0){this.He(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=Si(i).toUint8Array()}catch(p){if(p instanceof OE)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ap(u,o,l)}catch(p){return xo(p instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const u=this.Be.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,u)=>{const f=this.Ye(u);if(f){if(l.current&&_d(f.target)){const p=new ye(f.target.path);this.st(p).has(u)||this.ot(u,p)||this.We(u,p,Wt.newNoDocument(p,e))}l.be&&(t.set(u,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const g=this.Ye(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,u)=>u.setReadTime(e));const o=new Uc(e,t,this.Ke,this.ke,i);return this.ke=Ur(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new nt(Ve),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new lv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new lv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Gu(){return new nt(ye.comparator)}function uv(){return new nt(ye.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ux={and:"AND",or:"OR"};class Bx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ed(n,e){return n.useProto3Json||Nc(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jx(n,e){return wc(n,e.toTimestamp())}function dr(n){return Be(!!n),Ae.fromTimestamp(function(t){const i=Ai(t);return new wt(i.seconds,i.nanos)}(n))}function Sp(n,e){return Td(n,e).canonicalString()}function Td(n,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lT(n){const e=Ge.fromString(n);return Be(dT(e)),e}function Ad(n,e){return Sp(n.databaseId,e.path)}function Uf(n,e){const t=lT(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(cT(t))}function uT(n,e){return Sp(n.databaseId,e)}function zx(n){const e=lT(n);return e.length===4?Ge.emptyPath():cT(e)}function Sd(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cT(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cv(n,e,t){return{name:Ad(n,e),fields:t.value.mapValue.fields}}function $x(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string"),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const _=g.code===void 0?G.UNKNOWN:iT(g.code);return new ce(_,g.message||"")}(u);t=new oT(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Uf(n,i.document.name),l=dr(i.document.updateTime),u=i.document.createTime?dr(i.document.createTime):Ae.min(),f=new Vn({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,u,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new oc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Uf(n,i.document),l=i.readTime?dr(i.readTime):Ae.min(),u=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new oc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Uf(n,i.document),l=i.removedTargetIds||[];t=new oc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new Dx(o,l),f=i.targetId;t=new sT(f,u)}}return t}function qx(n,e){let t;if(e instanceof Tl)t={update:cv(n,e.key,e.value)};else if(e instanceof rT)t={delete:Ad(n,e.key)};else if(e instanceof _s)t={update:cv(n,e.key,e.data),updateMask:Zx(e.fieldMask)};else{if(!(e instanceof xx))return Te();t={verify:Ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:jx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function Wx(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let u=o.updateTime?dr(o.updateTime):dr(l);return u.isEqual(Ae.min())&&(u=dr(l)),new Rx(u,o.transformResults||[])}(t,e))):[]}function Hx(n,e){return{documents:[uT(n,e.path)]}}function Kx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=uT(n,o);const l=function(g){if(g.length!==0)return fT(Xn.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:mo(T.field),direction:Xx(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Ed(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function Gx(n){let e=zx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=hT(w);return T instanceof Xn&&BE(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(L){return new dl(go(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Nc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,C=w.values||[];return new _c(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,C=w.values||[];return new _c(C,T)}(t.endAt)),fx(e,o,u,l,f,"F",p,g)}function Qx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=go(t.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=go(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(i=>hT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function Xx(n){return bx[n]}function Yx(n){return Fx[n]}function Jx(n){return Ux[n]}function mo(n){return{fieldPath:n.canonicalString()}}function go(n){return Ot.fromServerFormat(n.fieldPath)}function fT(n){return n instanceof pt?function(t){if(t.op==="=="){if(Y_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(X_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(X_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:Yx(t.op),value:t.value}}}(n):n instanceof Xn?function(t){const i=t.getFilters().map(o=>fT(o));return i.length===1?i[0]:{compositeFilter:{op:Jx(t.op),filters:i}}}(n):Te()}function Zx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,i,o,l=Ae.min(),u=Ae.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.ht=e}}function tk(n){const e=Gx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.ln=new rk}addToCollectionParentIndex(e,t){return this.ln.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Ti.min())}updateCollectionGroup(e,t,i){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Ge.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new No(0)}static Qn(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class ik{constructor(e){this.Gn=e,this.buffer=new Et(fv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Yn(3e5)})}}class ok{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Dc.oe);const i=new ik(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(hv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,u,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),fo()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function ak(n,e){return new ok(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?H.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&el(i.mutation,o,Gn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let u=qa();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let l=Ur();const u=Za(),f=function(){return Za()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof _s)?l=l.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),el(_.mutation,g,_.mutation.getFieldMask(),wt.now())):u.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>{var w;return f.set(g,new uk(_,(w=u.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Za();let o=new nt((u,f)=>u-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Gn.empty();_=f.applyToLocalView(g,_),i.set(p,_);const w=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,w=QE();_.forEach(T=>{if(!l.has(T)){const C=tT(t.get(T),i.get(T));C!==null&&w.set(T,C),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return H.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):H.resolve(ls());let f=-1,p=l;return u.next(g=>H.forEach(g,(_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(_)?H.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,xe())).next(_=>({batchId:f,changes:GE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let u=qa();return this.indexManager.getCollectionParents(e,l).next(f=>H.forEach(f,p=>{const g=function(w,T){return new jo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(u=>{l.forEach((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Wt.newInvalidDocument(_)))});let f=qa();return u.forEach((p,g)=>{const _=l.get(p);_!==void 0&&el(_.mutation,g,Gn.empty(),wt.now()),Oc(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return H.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:tk(o.bundledQuery),readTime:dr(o.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.overlays=new nt(ye.comparator),this.dr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ls();return H.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),H.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),H.resolve()}getOverlaysForCollection(e,t,i){const o=ls(),l=t.length+1,u=new ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=ls(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=ls(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=o)););return H.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Vx(t,i));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.Er=new Et(Pt.Ar),this.Rr=new Et(Pt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),l.push(u.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Pt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kx(l,t,i,o);this.mutationQueue.push(u);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(u)}lookupMutationBatch(e,t){return H.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],u=>{const f=this.Cr(u.br);l.push(f)}),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Ve);return t.forEach(o=>{const l=new Pt(o,0),u=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,u],f=>{i=i.add(f.br)})}),H.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const u=new Pt(new ye(l),0);let f=new Et(Ve);return this.vr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.br)),!0)},u),H.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return H.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.Nr=e,this.docs=function(){return new nt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return H.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),H.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ur();const u=t.path,f=new ye(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||WC(qC(_),i)<=0||(o.has(_.key)||Oc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Br(e,t){return H.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gk(this)}getSize(e){return H.resolve(this.size)}}class gk extends lk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),H.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.persistence=e,this.Lr=new ys(t=>_p(t),vp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ip,this.targetCount=0,this.Qr=No.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),H.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new No(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Un(t),H.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),H.waitFor(l).next(()=>o)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return H.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),H.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return H.resolve(i)}containsKey(e,t){return H.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Dc(0),this.Ur=!1,this.Ur=!0,this.Wr=new dk,this.referenceDelegate=e(this),this.Gr=new yk(this),this.indexManager=new nk,this.remoteDocumentCache=function(o){return new mk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new ek(t),this.jr=new hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new pk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new _k(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return H.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class _k extends KC{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Zr=new Ip,this.Xr=null}static ei(e){return new Rp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),H.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),H.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,i=>{const o=ye.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return H.or([()=>H.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ec{constructor(e,t){this.persistence=e,this.ri=new ys(i=>XC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ak(this,t)}static ei(e,t){return new Ec(e,t)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return H.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?H.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,u=>this.ir(e,u,t).next(f=>{f||(i++,l.removeEntry(u,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}ir(e,t,i){return H.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return H.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Pp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return v1()?8:GC(y1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new vk;return this.ts(e,t,u).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(fo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(fo()<=Le.DEBUG&&le("QueryEngine","Query:",po(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(fo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):H.resolve())}Xi(e,t){if(tv(t))return H.resolve(null);let i=fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wd(t,null,"F"),i=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=xe(...l);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.rs(t,f);return this.ss(t,g,u,p.readTime)?this.Xi(e,wd(t,null,"F")):this.os(e,g,t,p)}))})))}es(e,t,i,o){return tv(t)||o.isEqual(Ae.min())?H.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const u=this.rs(t,l);return this.ss(t,u,i,o)?H.resolve(null):(fo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.os(e,u,t,$C(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(HE(e));return t.forEach((o,l)=>{Oc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return fo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",po(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ti.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ve),this.cs=new ys(l=>_p(l),vp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Tk(n,e,t,i){return new Ek(n,e,t,i)}async function mT(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=xe();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:f}))})})}function Ak(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,_){const w=g.batch,T=w.keys();let C=H.resolve();return T.forEach(L=>{C=C.next(()=>_.getEntry(p,L)).next(F=>{const M=g.docVersions.get(L);Be(M!==null),F.version.compareTo(M)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function gT(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Sk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,w)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),o=o.insert(w,C),function(F,M,q){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,C,_)&&f.push(t.Gr.updateTargetData(l,C))});let p=Ur(),g=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(Ik(l,u,e.documentUpdates).next(_=>{p=_.Is,g=_.ds})),!i.isEqual(Ae.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return H.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.us=o,l))}function Ik(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Ur();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Is:u,ds:o}})}function Rk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Pk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,H.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new di(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Id(n,e,t){const i=Ie(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Bo(u))throw u;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function dv(n,e,t){const i=Ie(n);let o=Ae.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,_){const w=Ie(p),T=w.cs.get(_);return T!==void 0?H.resolve(w.us.get(T)):w.Gr.getTargetData(g,_)}(i,u,fr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?l:xe())).next(f=>(Ck(i,px(e),f),{documents:f,Es:l})))}function Ck(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class pv{constructor(){this.activeTargetIds=wx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this._o=new pv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new pv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Bf(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Nk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,u){const f=Bf(),p=this.No(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,l,u),this.Lo(t,p,g,o).then(_=>(le("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw xo("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,u,f){return this.Oo(t,i,o,l,u)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,u)=>t[u]=l),o&&o.headers.forEach((l,u)=>t[u]=l)}No(t,i){const o=Vk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=Bf();return new Promise((u,f)=>{const p=new CE;p.setWithCredentials(!0),p.listenOnce(xE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nc.NO_ERROR:const _=p.getResponseJson();le(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case nc.TIMEOUT:le(zt,`RPC '${e}' ${l} timed out`),f(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const w=p.getStatus();if(le(zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const L=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(q)>=0?q:G.UNKNOWN}(C.status);f(new ce(L,C.message))}else f(new ce(G.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ce(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);le(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,i,15)})}qo(e,t,i){const o=Bf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DE(),f=VE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");le(zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=u.createWebChannel(_,p);let T=!1,C=!1;const L=new Dk({Eo:M=>{C?le(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(le(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le(zt,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Ao:()=>w.close()}),F=(M,q,X)=>{M.listen(q,Q=>{try{X(Q)}catch(W){setTimeout(()=>{throw W},0)}})};return F(w,$a.EventType.OPEN,()=>{C||(le(zt,`RPC '${e}' stream ${o} transport opened.`),L.So())}),F(w,$a.EventType.CLOSE,()=>{C||(C=!0,le(zt,`RPC '${e}' stream ${o} transport closed`),L.Do())}),F(w,$a.EventType.ERROR,M=>{C||(C=!0,xo(zt,`RPC '${e}' stream ${o} transport errored:`,M),L.Do(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),F(w,$a.EventType.MESSAGE,M=>{var q;if(!C){const X=M.data[0];Be(!!X);const Q=X,W=(Q==null?void 0:Q.error)||((q=Q[0])===null||q===void 0?void 0:q.error);if(W){le(zt,`RPC '${e}' stream ${o} received error:`,W);const ee=W.status;let ie=function(R){const V=dt[R];if(V!==void 0)return iT(V)}(ee),x=W.message;ie===void 0&&(ie=G.INTERNAL,x="Unknown error status: "+ee+" with message "+W.message),C=!0,L.Do(new ce(ie,x)),w.close()}else le(zt,`RPC '${e}' stream ${o} received:`,X),L.vo(X)}}),F(f,kE.STAT_EVENT,M=>{M.stat===pd.PROXY?le(zt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===pd.NOPROXY&&le(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){return new Bx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,i,o,l,u,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ce(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mk extends _T{constructor(e,t,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=$x(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?dr(u.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Sd(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=_d(p)?{documents:Hx(l,p)}:{query:Kx(l,p).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=aT(l,u.resumeToken);const g=Ed(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ae.min())>0){f.readTime=wc(l,u.snapshotVersion.toTimestamp());const g=Ed(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=Qx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Sd(this.serializer),t.removeTarget=e,this.c_(t)}}class Lk extends _T{constructor(e,t,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Wx(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Sd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>qx(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Oo(e,Td(t,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(G.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,Td(t,i),o,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(G.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class bk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{vs(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.k_.add(4),await Sl(g),g.K_.set("Unknown"),g.k_.delete(4),await jc(g)}(this))})}),this.K_=new bk(i,o)}}async function jc(n){if(vs(n))for(const e of n.q_)await e(!0)}async function Sl(n){for(const e of n.q_)await e(!1)}function vT(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Vp(t)?kp(t):zo(t).s_()&&xp(t,e))}function Cp(n,e){const t=Ie(n),i=zo(t);t.L_.delete(e),i.s_()&&wT(t,e),t.L_.size===0&&(i.s_()?i.a_():vs(t)&&t.K_.set("Unknown"))}function xp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(n).V_(e)}function wT(n,e){n.U_.xe(e),zo(n).m_(e)}function kp(n){n.U_=new Ox({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),zo(n).start(),n.K_.F_()}function Vp(n){return vs(n)&&!zo(n).i_()&&n.L_.size>0}function vs(n){return Ie(n).k_.size===0}function ET(n){n.U_=void 0}async function Uk(n){n.K_.set("Online")}async function Bk(n){n.L_.forEach((e,t)=>{xp(n,e)})}async function jk(n,e){ET(n),Vp(n)?(n.K_.O_(e),kp(n)):n.K_.set("Unknown")}async function zk(n,e,t){if(n.K_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tc(n,i)}else if(e instanceof oc?n.U_.$e(e):e instanceof sT?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await gT(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.U_.it(u);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(g);_&&l.L_.set(g,_.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,g)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),wT(l,p);const w=new di(_.target,p,g,_.sequenceNumber);xp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Tc(n,i)}}async function Tc(n,e,t){if(!Bo(e))throw e;n.k_.add(1),await Sl(n),n.K_.set("Offline"),t||(t=()=>gT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await jc(n)})}function TT(n,e){return e().catch(t=>Tc(n,t,e))}async function zc(n){const e=Ie(n),t=Ri(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;$k(e);)try{const o=await Rk(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,qk(e,o)}catch(o){await Tc(e,o)}AT(e)&&ST(e)}function $k(n){return vs(n)&&n.B_.length<10}function qk(n,e){n.B_.push(e);const t=Ri(n);t.s_()&&t.f_&&t.g_(e.mutations)}function AT(n){return vs(n)&&!Ri(n).i_()&&n.B_.length>0}function ST(n){Ri(n).start()}async function Wk(n){Ri(n).w_()}async function Hk(n){const e=Ri(n);for(const t of n.B_)e.g_(t.mutations)}async function Kk(n,e,t){const i=n.B_.shift(),o=Tp.from(i,e,t);await TT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await zc(n)}async function Gk(n,e){e&&Ri(n).f_&&await async function(i,o){if(function(u){return Nx(u)&&u!==G.ABORTED}(o.code)){const l=i.B_.shift();Ri(i).__(),await TT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await zc(i)}}(n,e),AT(n)&&ST(n)}async function gv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=vs(t);t.k_.add(3),await Sl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await jc(t)}async function Qk(n,e){const t=Ie(n);e?(t.k_.delete(2),await jc(t)):e||(t.k_.add(2),await Sl(t),t.K_.set("Unknown"))}function zo(n){return n.W_||(n.W_=function(t,i,o){const l=Ie(t);return l.b_(),new Mk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Uk.bind(null,n),mo:Bk.bind(null,n),po:jk.bind(null,n),R_:zk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Vp(n)?kp(n):n.K_.set("Unknown")):(await n.W_.stop(),ET(n))})),n.W_}function Ri(n){return n.G_||(n.G_=function(t,i,o){const l=Ie(t);return l.b_(),new Lk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Wk.bind(null,n),po:Gk.bind(null,n),p_:Hk.bind(null,n),y_:Kk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await zc(n)):(await n.G_.stop(),n.B_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const u=Date.now()+i,f=new Dp(e,t,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),Bo(n))return new ce(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=qa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new To;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.z_=new nt(ye.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Mo{constructor(e,t,i,o,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Mo(e,t,To.emptySet(t),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Yk{constructor(){this.queries=_v(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=_v(),l.forEach((u,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function _v(){return new ys(n=>WE(n),Lc)}async function IT(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new Xk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Np(u,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Mp(t)}async function RT(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const u=l.J_.indexOf(e);u>=0&&(l.J_.splice(u,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Jk(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.J_)f.ta(o)&&(i=!0);u.H_=o}}i&&Mp(t)}function Zk(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Mp(n){n.X_.forEach(e=>{e.next()})}var Rd,vv;(vv=Rd||(Rd={})).na="default",vv.Cache="cache";class PT{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class eV{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=HE(e),this.ma=new To(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new yv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),C=Oc(this.query,w)?w:null,L=!!T&&this.mutatedKeys.has(T.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;T&&C?T.data.isEqual(C.data)?L!==F&&(i.track({type:3,doc:C}),M=!0):this.ya(T,C)||(i.track({type:2,doc:C}),M=!0,(p&&this.Va(C,p)>0||g&&this.Va(C,g)<0)&&(f=!0)):!T&&C?(i.track({type:0,doc:C}),M=!0):T&&!C&&(i.track({type:1,doc:T}),M=!0,(p||g)&&(f=!0)),M&&(C?(u=u.add(C),l=F?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:u,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,w)=>function(C,L){const F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return F(C)-F(L)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,g=p!==this.Aa;return this.Aa=p,u.length!==0||g?{snapshot:new Mo(this.query,e.ma,l,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new yv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new xT(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new CT(i))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Mo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class nV{constructor(e){this.key=e,this.Fa=!1}}class rV{constructor(e,t,i,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new ys(f=>WE(f),Lc),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ye.comparator),this.La=new Map,this.ka=new Ip,this.qa={},this.Qa=new Map,this.Ka=No.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function iV(n,e,t=!0){const i=LT(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await kT(i,e,t,!0),o}async function sV(n,e){const t=LT(n);await kT(t,e,!0,!1)}async function kT(n,e,t,i){const o=await Pk(n.localStore,fr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await oV(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&vT(n.remoteStore,o),f}async function oV(n,e,t,i,o){n.Ua=(w,T,C)=>async function(F,M,q,X){let Q=M.view.ga(q);Q.ss&&(Q=await dv(F.localStore,M.query,!1).then(({documents:x})=>M.view.ga(x,Q)));const W=X&&X.targetChanges.get(M.targetId),ee=X&&X.targetMismatches.get(M.targetId)!=null,ie=M.view.applyChanges(Q,F.isPrimaryClient,W,ee);return Ev(F,M.targetId,ie.ba),ie.snapshot}(n,w,T,C);const l=await dv(n.localStore,e,!0),u=new eV(e,l.Es),f=u.ga(l.documents),p=Al.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=u.applyChanges(f,n.isPrimaryClient,p);Ev(n,t,g.ba);const _=new tV(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function aV(n,e,t){const i=Ie(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(u=>!Lc(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Id(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Cp(i.remoteStore,o.targetId),Pd(i,o.targetId)}).catch(Uo)):(Pd(i,o.targetId),await Id(i.localStore,o.targetId,!0))}async function lV(n,e){const t=Ie(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cp(t.remoteStore,i.targetId))}async function uV(n,e,t){const i=gV(n);try{const o=await function(u,f){const p=Ie(u),g=wt.now(),_=f.reduce((C,L)=>C.add(L.key),xe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let L=Ur(),F=xe();return p.hs.getEntries(C,_).next(M=>{L=M,L.forEach((q,X)=>{X.isValidDocument()||(F=F.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,L)).next(M=>{w=M;const q=[];for(const X of f){const Q=Cx(X,w.get(X.key).overlayedDocument);Q!=null&&q.push(new _s(X.key,Q,bE(Q.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,q,f)}).next(M=>{T=M;const q=M.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(C,M.batchId,q)})}).then(()=>({batchId:T.batchId,changes:GE(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,p){let g=u.qa[u.currentUser.toKey()];g||(g=new nt(Ve)),g=g.insert(f,p),u.qa[u.currentUser.toKey()]=g}(i,o.batchId,t),await Il(i,o.changes),await zc(i.remoteStore)}catch(o){const l=Np(o,"Failed to persist write");t.reject(l)}}async function VT(n,e){const t=Ie(n);try{const i=await Sk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.La.get(l);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Be(u.Fa):o.removedDocuments.size>0&&(Be(u.Fa),u.Fa=!1))}),await Il(t,i,e)}catch(i){await Uo(i)}}function wv(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,u)=>{const f=u.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const p=Ie(u);p.onlineState=f;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(f)&&(g=!0)}),g&&Mp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cV(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let u=new nt(ye.comparator);u=u.insert(l,Wt.newNoDocument(l,Ae.min()));const f=xe().add(l),p=new Uc(Ae.min(),new Map,new nt(Ve),u,f);await VT(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),Lp(i)}else await Id(i.localStore,e,!1).then(()=>Pd(i,e,t)).catch(Uo)}async function hV(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await Ak(t.localStore,e);NT(t,i,null),DT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Il(t,o)}catch(o){await Uo(o)}}async function fV(n,e,t){const i=Ie(n);try{const o=await function(u,f){const p=Ie(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next(w=>(Be(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);NT(i,e,t),DT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Il(i,o)}catch(o){await Uo(o)}}function DT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function NT(n,e,t){const i=Ie(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Pd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||MT(n,i)})}function MT(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Cp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Lp(n))}function Ev(n,e,t){for(const i of t)i instanceof CT?(n.ka.addReference(i.key,e),dV(n,i)):i instanceof xT?(le("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||MT(n,i.key)):Te()}function dV(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(i),Lp(n))}function Lp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(Ge.fromString(e)),i=n.Ka.next();n.La.set(i,new nV(t)),n.Ba=n.Ba.insert(t,i),vT(n.remoteStore,new di(fr(wp(t.path)),i,"TargetPurposeLimboResolution",Dc.oe))}}async function Il(n,e,t){const i=Ie(n),o=[],l=[],u=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{u.push(i.Ua(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Pp.zi(p.targetId,g);l.push(w)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>H.forEach(g,T=>H.forEach(T.Wi,C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>H.forEach(T.Gi,C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!Bo(w))throw w;le("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const C=_.us.get(T),L=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(L);_.us=_.us.insert(T,F)}}}(i.localStore,l))}async function pV(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await mT(t.localStore,e);t.currentUser=e,function(l,u){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ce(G.CANCELLED,u))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Il(t,i.Ts)}}function mV(n,e){const t=Ie(n),i=t.La.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const u of l){const f=t.xa.get(u);o=o.unionWith(f.view.fa)}return o}}function LT(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cV.bind(null,e),e.Ma.R_=Jk.bind(null,e.eventManager),e.Ma.Wa=Zk.bind(null,e.eventManager),e}function gV(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fV.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Tk(this.persistence,new wk,e.initialUser,this.serializer)}ja(e){return new pT(Rp.ei,this.serializer)}za(e){return new xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class yV extends Ac{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof Ec);const i=this.persistence.referenceDelegate.garbageCollector;return new sk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new pT(i=>Ec.ei(i,t),this.serializer)}}class Cd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pV.bind(null,this.syncEngine),await Qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yk}()}createDatastore(e){const t=Bc(e.databaseInfo.databaseId),i=function(l){return new Nk(l)}(e.databaseInfo);return function(l,u,f,p){return new Ok(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,u,f){return new Fk(i,o,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>wv(this.syncEngine,t,0),function(){return mv.p()?new mv:new kk}())}createSyncEngine(e,t){return function(o,l,u,f,p,g,_){const w=new rV(o,l,u,f,p,g);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);le("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Sl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cd.provider={build:()=>new Cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{le("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Np(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zf(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await mT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Tv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vV(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>gv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>gv(e.remoteStore,o)),n._onlineComponents=e}async function vV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await zf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),await zf(n,new Ac)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await zf(n,new yV(void 0));return n._offlineComponents}async function bT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Tv(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Tv(n,new Cd))),n._onlineComponents}function wV(n){return bT(n).then(e=>e.syncEngine)}async function xd(n){const e=await bT(n),t=e.eventManager;return t.onListen=iV.bind(null,e.syncEngine),t.onUnlisten=aV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lV.bind(null,e.syncEngine),t}function EV(n,e,t={}){const i=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,g){const _=new OT({next:T=>{_.eu(),u.enqueueAndForget(()=>RT(l,w)),T.fromCache&&p.source==="server"?g.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new PT(f,_,{includeMetadataChanges:!0,ua:!0});return IT(l,w)}(await xd(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n,e,t){if(!t)throw new ce(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TV(n,e,t,i){if(e===!0&&i===!0)throw new ce(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sv(n){if(!ye.isDocumentKey(n))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iv(n){if(ye.isDocumentKey(n))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $c(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function cs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$c(n);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new MC;switch(i.type){case"firstParty":return new FC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Av.get(t);i&&(le("ComponentProvider","Removing Datastore"),Av.delete(t),i.terminate())}(this),Promise.resolve()}}function AV(n,e,t,i={}){var o;const l=(n=cs(n,qc))._getSettings(),u=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=gE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(g)}n._authCredentials=new LC(new NE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class vi extends Ci{constructor(e,t,i){super(e,t,wp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ye(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Ao(n,e,...t){if(n=Qn(n),UT("collection","path",e),n instanceof qc){const i=Ge.fromString(e,...t);return Iv(i),new vi(n,null,i)}{if(!(n instanceof _n||n instanceof vi))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Iv(i),new vi(n.firestore,null,i)}}function SV(n,e,...t){if(n=Qn(n),arguments.length===1&&(e=ME.newId()),UT("doc","path",e),n instanceof qc){const i=Ge.fromString(e,...t);return Sv(i),new _n(n,null,new ye(i))}{if(!(n instanceof _n||n instanceof vi))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Sv(i),new _n(n.firestore,n instanceof vi?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yT(this,"async_queue_retry"),this.fu=()=>{const i=jf();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=jf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=jf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new _i;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw Fr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Dp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function Cv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class yl extends qc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function IV(n,e){const t=typeof n=="object"?n:SE(),i=typeof n=="string"?n:"(default)",o=EE(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=pE("firestore");l&&AV(o,...l)}return o}function Op(n){if(n._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RV(n),n._firestoreClient}function RV(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,g,_){return new ZC(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,FT(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new _V(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(bt.fromBase64String(e))}catch(t){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class CV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}function BT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class jp{constructor(e,t,i,o,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(BT(this.Mu)&&PV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class xV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bc(e)}$u(e,t,i,o=!1){return new jp({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(n){const e=n._freezeSettings(),t=Bc(n._databaseId);return new xV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kV(n,e,t,i,o,l={}){const u=n.$u(l.merge||l.mergeFields?2:0,e,t,o);qT("Data must be an object, but it was:",u,i);const f=zT(i,u);let p,g;if(l.merge)p=new Gn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=DV(e,w,t);if(!u.contains(T))throw new ce(G.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);MV(_,T)||_.push(T)}p=new Gn(_),g=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=u.fieldTransforms;return new CV(new Vn(f),p,g)}class zp extends Fp{_toFieldTransform(e){return new Sx(e.path,new pl)}isEqual(e){return e instanceof zp}}function VV(n,e,t,i=!1){return $p(t,n.$u(i?4:3,e))}function $p(n,e){if($T(n=Qn(n)))return qT("Unsupported field value:",e,n),zT(n,e);if(n instanceof Fp)return function(i,o){if(!BT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let u=0;for(const f of i){let p=$p(f,o.ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Qn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ex(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:wc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wc(o.serializer,l)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Lo)return{bytesValue:aT(o.serializer,i._byteString)};if(i instanceof _n){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Bp)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Ep(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${$c(i)}`)}(n,e)}function zT(n,e){const t={};return LE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(n,(i,o)=>{const l=$p(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function $T(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Up||n instanceof Lo||n instanceof _n||n instanceof Fp||n instanceof Bp)}function qT(n,e,t){if(!$T(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=$c(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function DV(n,e,t){if((e=Qn(e))instanceof bp)return e._internalPath;if(typeof e=="string")return WT(n,e);throw Sc("Field path arguments must be of type string or ",n,!1,void 0,t)}const NV=new RegExp("[~\\*/\\[\\]]");function WT(n,e,t){if(e.search(NV)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bp(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sc(n,e,t,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new ce(G.INVALID_ARGUMENT,f+n+p)}function MV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LV extends HT{data(){return super.data()}}function qp(n,e){return typeof e=="string"?WT(n,e):e instanceof bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class GT extends Wp{}function kd(n,e,...t){let i=[];e instanceof Wp&&i.push(e),i=i.concat(t),function(l){const u=l.filter(p=>p instanceof Kp).length,f=l.filter(p=>p instanceof Hp).length;if(u>1||u>0&&f>0)throw new ce(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Hp extends GT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hp(e,t,i)}_apply(e){const t=this._parse(e);return QT(e._query,t),new Ci(e.firestore,e.converter,vd(e._query,t))}_parse(e){const t=jT(e.firestore);return function(l,u,f,p,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){kv(w,_);const C=[];for(const L of w)C.push(xv(p,l,L));T={arrayValue:{values:C}}}else T=xv(p,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||kv(w,_),T=VV(f,u,w,_==="in"||_==="not-in");return pt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Kp extends Wp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)QT(u,p),u=vd(u,p)}(e._query,t),new Ci(e.firestore,e.converter,vd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends GT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gp(e,t)}_apply(e){const t=function(o,l,u){if(o.startAt!==null)throw new ce(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dl(l,u)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new jo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Vd(n,e="asc"){const t=e,i=qp("orderBy",n);return Gp._create(i,t)}function xv(n,e,t){if(typeof(t=Qn(t))=="string"){if(t==="")throw new ce(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&t.indexOf("/")!==-1)throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ge.fromString(t));if(!ye.isDocumentKey(i))throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q_(n,new ye(i))}if(t instanceof _n)return Q_(n,t._key);throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(t)}.`)}function kv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QT(n,e){const t=function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OV{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return gs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>ct(u.doubleValue));return new Bp(l)}convertGeoPoint(e){return new Up(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Mc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ge.fromString(e);Be(dT(i));const o=new hl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends HT{constructor(e,t,i,o,l,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(qp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ac extends XT{data(e={}){return super.data(e)}}class YT{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ha(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ac(this._firestore,this._userDataWriter,i.key,i,new Ha(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const p=new ac(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ha(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new ac(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ha(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:FV(f.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class Qp extends OV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function UV(n){n=cs(n,Ci);const e=cs(n.firestore,yl),t=Op(e),i=new Qp(e);return KT(n._query),EV(t,n._query).then(o=>new YT(e,i,n,o))}function Ic(n,e){const t=cs(n.firestore,yl),i=SV(n),o=bV(n.converter,e);return BV(t,[kV(jT(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Lr.exists(!1))]).then(()=>i)}function JT(n,...e){var t,i,o;n=Qn(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Cv(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Cv(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(n instanceof _n)g=cs(n.firestore,yl),_=wp(n._key.path),p={next:w=>{e[u]&&e[u](jV(g,n,w))},error:e[u+1],complete:e[u+2]};else{const w=cs(n,Ci);g=cs(w.firestore,yl),_=w._query;const T=new Qp(g);p={next:C=>{e[u]&&e[u](new YT(g,T,w,C))},error:e[u+1],complete:e[u+2]},KT(n._query)}return function(T,C,L,F){const M=new OT(F),q=new PT(C,M,L);return T.asyncQueue.enqueueAndForget(async()=>IT(await xd(T),q)),()=>{M.eu(),T.asyncQueue.enqueueAndForget(async()=>RT(await xd(T),q))}}(Op(g),_,f,p)}function BV(n,e){return function(i,o){const l=new _i;return i.asyncQueue.enqueueAndForget(async()=>uV(await wV(i),o,l)),l.promise}(Op(n),e)}function jV(n,e,t){const i=t.docs.get(e._key),o=new Qp(n);return new XT(n,o,e._key,i,new Ha(t.hasPendingWrites,t.fromCache),e.converter)}function Rc(){return new zp("serverTimestamp")}(function(e,t=!0){(function(o){Fo=o})(TE),ll(new Co("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new yl(new OC(i.getProvider("auth-internal")),new BC(i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(g.options.projectId,_)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),gi($_,"4.7.6",e),gi($_,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebasestorage.googleapis.com",e0="storageBucket",zV=2*60*1e3,$V=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends ms{constructor(e,t,i=0){super($f(e),`Firebase Storage: ${t} (${$f(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function $f(n){return"storage/"+n}function Xp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(st.UNKNOWN,n)}function qV(n){return new ot(st.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function WV(n){return new ot(st.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(st.UNAUTHENTICATED,n)}function KV(){return new ot(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GV(n){return new ot(st.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function QV(){return new ot(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XV(){return new ot(st.CANCELED,"User canceled the upload/download.")}function YV(n){return new ot(st.INVALID_URL,"Invalid URL '"+n+"'.")}function JV(n){return new ot(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ZV(){return new ot(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e0+"' property when initializing the app?")}function eD(){return new ot(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tD(){return new ot(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nD(n){return new ot(st.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dd(n){return new ot(st.INVALID_ARGUMENT,n)}function t0(){return new ot(st.APP_DELETED,"The Firebase app was deleted.")}function rD(n){return new ot(st.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tl(n,e){return new ot(st.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ua(n){throw new ot(st.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(i.path==="")return i;throw JV(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${_}/b/${o}/o${T}`,"i"),L={bucket:1,path:3},F=t===ZT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",q=new RegExp(`^https?://${F}/${o}/${M}`,"i"),Q=[{regex:f,indices:p,postModify:l},{regex:C,indices:L,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<Q.length;W++){const ee=Q[W],ie=ee.regex.exec(e);if(ie){const x=ie[ee.indices.bucket];let S=ie[ee.indices.path];S||(S=""),i=new gn(x,S),ee.postModify(i);break}}if(i==null)throw YV(e);return i}}class iD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,e,t){let i=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function _(...M){g||(g=!0,e.apply(null,M))}function w(M){o=setTimeout(()=>{o=null,n(C,p())},M)}function T(){l&&clearTimeout(l)}function C(M,...q){if(g){T();return}if(M){T(),_.call(null,M,...q);return}if(p()||u){T(),_.call(null,M,...q);return}i<64&&(i*=2);let Q;f===1?(f=2,Q=0):Q=(i+Math.random())*1e3,w(Q)}let L=!1;function F(M){L||(L=!0,T(),!g&&(o!==null?(M||(f=2),clearTimeout(o),w(0)):M||(f=1)))}return w(0),l=setTimeout(()=>{u=!0,F(!0)},t),F}function oD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){return n!==void 0}function lD(n){return typeof n=="object"&&!Array.isArray(n)}function Yp(n){return typeof n=="string"||n instanceof String}function Vv(n){return Jp()&&n instanceof Blob}function Jp(){return typeof Blob<"u"}function Dv(n,e,t,i){if(i<e)throw Dd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Dd(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function n0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var hs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(hs||(hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,i,o,l,u,f,p,g,_,w,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,L)=>{this.resolve_=C,this.reject_=L,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Xu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===hs.NO_ERROR,p=l.getStatus();if(!f||uD(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===hs.ABORT;i(!1,new Xu(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Xu(g,l))})},t=(i,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());aD(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=Xp();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?t0():XV();u(p)}else{const p=QV();u(p)}};this.canceled_?t(!1,new Xu(!1,null,!0)):this.backoffId_=sD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function hD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function fD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function pD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function mD(n,e,t,i,o,l,u=!0){const f=n0(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return dD(g,e),hD(g,t),fD(g,l),pD(g,i),new cD(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yD(...n){const e=gD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Jp())return new Blob(n);throw new ot(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _D(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){if(typeof atob>"u")throw nD("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qf{constructor(e,t){this.data=e,this.contentType=t||null}}function wD(n,e){switch(n){case ur.RAW:return new qf(r0(e));case ur.BASE64:case ur.BASE64URL:return new qf(i0(n,e));case ur.DATA_URL:return new qf(TD(e),AD(e))}throw Xp()}function r0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=n.charCodeAt(++t);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function ED(n){let e;try{e=decodeURIComponent(n)}catch{throw tl(ur.DATA_URL,"Malformed data URL.")}return r0(e)}function i0(n,e){switch(n){case ur.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw tl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw tl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=vD(e)}catch(o){throw o.message.includes("polyfill")?o:tl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class s0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw tl(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=SD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function TD(n){const e=new s0(n);return e.base64?i0(ur.BASE64,e.rest):ED(e.rest)}function AD(n){return new s0(n).contentType}function SD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){let i=0,o="";Vv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Vv(this.data_)){const i=this.data_,o=_D(i,e,t);return o===null?null:new fi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new fi(i,!0)}}static getBlob(...e){if(Jp()){const t=e.map(i=>i instanceof fi?i.data_:i);return new fi(yD.apply(null,t))}else{const t=e.map(u=>Yp(u)?wD(ur.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new fi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n){let e;try{e=JSON.parse(n)}catch{return null}return lD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function a0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e){return e}class Yt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||PD}}let Yu=null;function CD(n){return!Yp(n)||n.length<2?n:a0(n)}function l0(){if(Yu)return Yu;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,u){return CD(u)}const t=new Yt("name");t.xform=e,n.push(t);function i(l,u){return u!==void 0?Number(u):u}const o=new Yt("size");return o.xform=i,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),Yu=n,Yu}function xD(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new gn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function kD(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];i[u.local]=u.xform(i,e[u.server])}return xD(i,n),i}function u0(n,e,t){const i=o0(e);return i===null?null:kD(n,i,t)}function VD(n,e,t,i){const o=o0(e);if(o===null||!Yp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,w=n.fullPath,T="/b/"+u(_)+"/o/"+u(w),C=Zp(T,t,i),L=n0({alt:"media",token:g});return C+L})[0]}function DD(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class c0{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n){if(!n)throw Xp()}function ND(n,e){function t(i,o){const l=u0(n,o,e);return h0(l!==null),l}return t}function MD(n,e){function t(i,o){const l=u0(n,o,e);return h0(l!==null),VD(l,o,n.host,n._protocol)}return t}function f0(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=KV():o=HV():t.getStatus()===402?o=WV(n.bucket):t.getStatus()===403?o=GV(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function LD(n){const e=f0(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=qV(n.path)),l.serverResponse=o.serverResponse,l}return t}function OD(n,e,t){const i=e.fullServerUrl(),o=Zp(i,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,f=new c0(o,l,MD(n,t),u);return f.errorHandler=LD(e),f}function bD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function FD(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=bD(null,e)),i}function UD(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let W=0;W<2;W++)Q=Q+Math.random().toString().slice(2);return Q}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=FD(e,i,o),_=DD(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",C=fi.getBlob(w,i,T);if(C===null)throw eD();const L={name:g.fullPath},F=Zp(l,n.host,n._protocol),M="POST",q=n.maxUploadRetryTime,X=new c0(F,M,ND(n,t),q);return X.urlParams=L,X.headers=u,X.body=C.uploadData(),X.errorHandler=f0(e),X}class BD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Ua("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ua("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ua("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ua("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ua("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jD extends BD{initXhr(){this.xhr_.responseType="text"}}function d0(){return new jD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ds(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a0(this._location.path)}get storage(){return this._service}get parent(){const e=ID(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new ds(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rD(e)}}function zD(n,e,t){n._throwIfRoot("uploadBytes");const i=UD(n.storage,n._location,l0(),new fi(e,!0),t);return n.storage.makeRequestWithTokens(i,d0).then(o=>({metadata:o,ref:n}))}function $D(n){n._throwIfRoot("getDownloadURL");const e=OD(n.storage,n._location,l0());return n.storage.makeRequestWithTokens(e,d0).then(t=>{if(t===null)throw tD();return t})}function qD(n,e){const t=RD(n._location.path,e),i=new gn(n._location.bucket,t);return new ds(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){return/^[A-Za-z]+:\/\//.test(n)}function HD(n,e){return new ds(n,e)}function p0(n,e){if(n instanceof em){const t=n;if(t._bucket==null)throw ZV();const i=new ds(t,t._bucket);return e!=null?p0(i,e):i}else return e!==void 0?qD(n,e):n}function KD(n,e){if(e&&WD(e)){if(n instanceof em)return HD(n,e);throw Dd("To use ref(service, url), the first argument must be a Storage instance.")}else return p0(n,e)}function Nv(n,e){const t=e==null?void 0:e[e0];return t==null?null:gn.makeFromBucketSpec(t,n)}function GD(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:gE(o,n.app.options.projectId))}class em{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=ZT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zV,this._maxUploadRetryTime=$V,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=Nv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=Nv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ds(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new iD(t0());{const u=mD(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Mv="@firebase/storage",Lv="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="storage";function QD(n,e,t){return n=Qn(n),zD(n,e,t)}function XD(n){return n=Qn(n),$D(n)}function YD(n,e){return n=Qn(n),KD(n,e)}function JD(n=SE(),e){n=Qn(n);const i=EE(n,m0).getImmediate({identifier:e}),o=pE("storage");return o&&ZD(i,...o),i}function ZD(n,e,t,i={}){GD(n,e,t,i)}function e2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new em(t,i,o,e,TE)}function t2(){ll(new Co(m0,e2,"PUBLIC").setMultipleInstances(!0)),gi(Mv,Lv,""),gi(Mv,Lv,"esm2017")}t2();const n2={apiKey:"AIzaSyDaEBKWvFiT3hMTKhz_DU5k9i2FCip0Mx4",authDomain:"imageboard-176a7.firebaseapp.com",projectId:"imageboard-176a7",storageBucket:"imageboard-176a7.firebasestorage.app",messagingSenderId:"848950340650",appId:"1:848950340650:web:fd52a1c2805a6829e56753"},g0=AE(n2),So=IV(g0),r2=JD(g0);function y0({postId:n}){const[e,t]=de.useState(""),[i,o]=de.useState(""),[l,u]=de.useState(""),f=async()=>{if(!n){console.error("Error: No postId provided for comment submission.");return}if(e.trim()){const p=i.trim()?i:"An0n",g={text:e,username:p,country:l,createdAt:Rc()};try{const _=Ao(So,`posts/${n}/comments`);await Ic(_,g),t(""),o(""),u("")}catch(_){console.error("Error submitting comment:",_)}}};return oe.jsxs("div",{className:"mt-4",children:[oe.jsx(hE,{username:i,setUsername:o,country:l,setCountry:u}),oe.jsx(Ov,{placeholder:"Write a comment...",value:e,onChange:p=>t(p.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),oe.jsx(Ju,{onClick:f,className:"w-full bg-purple-600 hover:bg-purple-500",children:"Submit"})]})}function i2({comment:n,postId:e}){const[t,i]=de.useState(!1),o=u=>{if(!u)return"Just now";const f=u.toDate?u.toDate():new Date(u);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(f)},l=async u=>{if(!e||!n.id)return;const f=Ao(So,`posts/${e}/comments/${n.id}/replies`),p={text:u.text,username:u.username||"An0n",country:u.country||"Unknown",createdAt:Rc()};try{await Ic(f,p),i(!1)}catch(g){console.error("Error adding reply:",g)}};return oe.jsxs(lc,{children:[oe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{className:"mr-2",children:n.country||"Unknown"}),oe.jsx("span",{className:"font-bold mr-2",children:n.username||"Anonymous"})]}),oe.jsx("span",{className:"text-gray-400 text-sm",children:n.createdAt?o(n.createdAt):"Just now"})]}),oe.jsx("p",{className:"text-white mb-2",children:n.text}),oe.jsx("button",{onClick:()=>i(u=>!u),className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Reply"}),t&&oe.jsx(y0,{postId:e,onCommentAdded:l}),n.replies&&n.replies.length>0&&oe.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:n.replies.map(u=>oe.jsxs(lc,{children:[oe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{className:"mr-2",children:u.country||"Unknown"}),oe.jsx("span",{className:"font-bold mr-2",children:u.username||"Anonymous"})]}),oe.jsx("span",{className:"text-gray-400 text-sm",children:u.createdAt?o(u.createdAt):"Just now"})]}),oe.jsx("p",{className:"text-white",children:u.text})]},u.id))})]})}function s2({postId:n}){const[e,t]=de.useState([]);return de.useEffect(()=>{if(!n)return;const i=Ao(So,`posts/${n}/comments`),o=kd(i,Vd("createdAt","asc")),l=JT(o,u=>{const f=u.docs.map(p=>{var g;return{id:p.id,...p.data(),createdAt:(g=p.data().createdAt)!=null&&g.toDate?p.data().createdAt.toDate():new Date}});t(f)});return()=>l()},[n]),oe.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:e.length>0?e.map(i=>oe.jsx(i2,{comment:i,postId:n},i.id)):oe.jsx("p",{className:"text-gray-400 text-sm",children:"No comments yet. Be the first to comment!"})})}function o2({onSubmit:n}){const[e,t]=de.useState(!1);return e?oe.jsx(y0,{onSubmit:i=>{n(i),t(!1)}}):oe.jsx("button",{onClick:()=>t(!0),className:"text-blue-400 text-sm underline hover:text-blue-300 mt-2",children:"Reply"})}function a2(){const[n,e]=de.useState([]),[t,i]=de.useState(""),[o,l]=de.useState(null),[u,f]=de.useState(""),[p,g]=de.useState(""),[_,w]=de.useState(!1),[T,C]=de.useState({}),L=Ao(So,"posts"),F=W=>{if(!W)return"Just now";const ee=W.toDate?W.toDate():new Date(W);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(ee)};de.useEffect(()=>{const W=JT(kd(L,Vd("createdAt","desc")),async ee=>{const ie=await Promise.all(ee.docs.map(async x=>{const S=x.data(),R=Ao(So,"posts",x.id,"comments"),V=await UV(kd(R,Vd("createdAt","asc")));return{id:x.id,...S,createdAt:S.createdAt?S.createdAt:new Date,comments:V.docs.map(N=>({id:N.id,...N.data()}))}}));e(ie)});return()=>W()},[]);const M=async()=>{if(t||o){const W=u.trim()?u:"An0n",ee={text:t,image:o,username:W,country:p,createdAt:Rc()};await Ic(L,ee),i(""),l(null),f(""),g(""),w(!1)}},q=async W=>{const ee=W.target.files[0];if(ee)try{const ie=YD(r2,`images/${ee.name}`);await QD(ie,ee);const x=await XD(ie);l(x),console.log("Uploaded Image URL:",x)}catch(ie){console.error("Error uploading image:",ie)}},X=async(W,ee)=>{if(!W){console.error("Error: No postId provided for comment submission.");return}const ie=Ao(So,"posts",W,"comments"),x={text:ee,username:u||"An0n",country:p||"Unknown",createdAt:Rc()};try{await Ic(ie,x)}catch(S){console.error("Error adding comment:",S)}},Q=W=>{C(ee=>({...ee,[W]:!ee[W]}))};return oe.jsx("div",{className:"min-h-screen bg-purple-900 text-white p-6 flex flex-col items-center",children:oe.jsxs("div",{className:"w-full max-w-2xl",children:[_?oe.jsxs(lc,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[oe.jsx(hE,{username:u,setUsername:f,country:p,setCountry:g}),oe.jsx(Ov,{placeholder:"What's on your mind?",value:t,onChange:W=>i(W.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),oe.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden",id:"upload"}),oe.jsxs("label",{htmlFor:"upload",className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white",children:[oe.jsx(MA,{size:20})," Upload Image"]}),o&&oe.jsx("img",{src:o,alt:"Preview",className:"mt-3 rounded-lg max-h-40"}),oe.jsx(Ju,{onClick:M,className:"w-full mt-4 bg-purple-600 hover:bg-purple-500",children:"Post"})]}):oe.jsx(Ju,{onClick:()=>w(!0),className:"w-full mb-4 bg-purple-600 hover:bg-purple-500",children:"Create a Post"}),oe.jsx("div",{className:"mt-6 space-y-4",children:n.map(W=>oe.jsx(s1.div,{initial:{opacity:0},animate:{opacity:1},children:oe.jsxs(lc,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{className:"mr-2",children:W.country}),oe.jsx("span",{className:"font-bold mr-2",children:W.username}),oe.jsx("span",{className:"text-gray-400 text-sm",children:W.createdAt?F(W.createdAt):"Just now"})]}),oe.jsx(Ju,{onClick:()=>Q(W.id),className:"bg-purple-600 hover:bg-purple-500",children:T[W.id]?"Hide Comments":"Show Comments"})]}),W.text&&oe.jsx("p",{className:"mb-2 text-white",children:W.text}),W.image&&oe.jsx("img",{src:W.image,alt:"Post",className:"rounded-lg max-h-60"}),T[W.id]&&oe.jsxs(oe.Fragment,{children:[oe.jsx(s2,{postId:W.id}),oe.jsx(o2,{onSubmit:ee=>X(W.id,ee)})]})]})},W.id))})]})})}CA.createRoot(document.getElementById("root")).render(oe.jsx(de.StrictMode,{children:oe.jsx(a2,{})}));
