(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var pf={exports:{}},Na={},mf={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function rS(){if(Gg)return Ce;Gg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function N(b,K,pe){this.props=b,this.context=K,this.refs=M,this.updater=pe||P}N.prototype.isReactComponent={},N.prototype.setState=function(b,K){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,K,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=N.prototype;function W(b,K,pe){this.props=b,this.context=K,this.refs=M,this.updater=pe||P}var G=W.prototype=new q;G.constructor=W,O(G,N.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,le={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(b,K,pe){var Re,Pe={},De=null,Fe=null;if(K!=null)for(Re in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)re.call(K,Re)&&!k.hasOwnProperty(Re)&&(Pe[Re]=K[Re]);var Ue=arguments.length-2;if(Ue===1)Pe.children=pe;else if(1<Ue){for(var $e=Array(Ue),Tt=0;Tt<Ue;Tt++)$e[Tt]=arguments[Tt+2];Pe.children=$e}if(b&&b.defaultProps)for(Re in Ue=b.defaultProps,Ue)Pe[Re]===void 0&&(Pe[Re]=Ue[Re]);return{$$typeof:n,type:b,key:De,ref:Fe,props:Pe,_owner:le.current}}function R(b,K){return{$$typeof:n,type:b.type,key:K,ref:b.ref,props:b.props,_owner:b._owner}}function V(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function L(b){var K={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(pe){return K[pe]})}var F=/\/+/g;function C(b,K){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):K.toString(36)}function Qe(b,K,pe,Re,Pe){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var Fe=!1;if(b===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(b.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=b,Pe=Pe(Fe),b=Re===""?"."+C(Fe,0):Re,ne(Pe)?(pe="",b!=null&&(pe=b.replace(F,"$&/")+"/"),Qe(Pe,K,pe,"",function(Tt){return Tt})):Pe!=null&&(V(Pe)&&(Pe=R(Pe,pe+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+b)),K.push(Pe)),1;if(Fe=0,Re=Re===""?".":Re+":",ne(b))for(var Ue=0;Ue<b.length;Ue++){De=b[Ue];var $e=Re+C(De,Ue);Fe+=Qe(De,K,pe,$e,Pe)}else if($e=T(b),typeof $e=="function")for(b=$e.call(b),Ue=0;!(De=b.next()).done;)De=De.value,$e=Re+C(De,Ue++),Fe+=Qe(De,K,pe,$e,Pe);else if(De==="object")throw K=String(b),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(b,K,pe){if(b==null)return b;var Re=[],Pe=0;return Qe(b,Re,"","",function(De){return K.call(pe,De,Pe++)}),Re}function xt(b){if(b._status===-1){var K=b._result;K=K(),K.then(function(pe){(b._status===0||b._status===-1)&&(b._status=1,b._result=pe)},function(pe){(b._status===0||b._status===-1)&&(b._status=2,b._result=pe)}),b._status===-1&&(b._status=0,b._result=K)}if(b._status===1)return b._result.default;throw b._result}var Ae={current:null},ee={transition:null},de={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ee,ReactCurrentOwner:le};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(b,K,pe){Ct(b,function(){K.apply(this,arguments)},pe)},count:function(b){var K=0;return Ct(b,function(){K++}),K},toArray:function(b){return Ct(b,function(K){return K})||[]},only:function(b){if(!V(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=N,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ce.act=ie,Ce.cloneElement=function(b,K,pe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Re=O({},b.props),Pe=b.key,De=b.ref,Fe=b._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=le.current),K.key!==void 0&&(Pe=""+K.key),b.type&&b.type.defaultProps)var Ue=b.type.defaultProps;for($e in K)re.call(K,$e)&&!k.hasOwnProperty($e)&&(Re[$e]=K[$e]===void 0&&Ue!==void 0?Ue[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Re.children=pe;else if(1<$e){Ue=Array($e);for(var Tt=0;Tt<$e;Tt++)Ue[Tt]=arguments[Tt+2];Re.children=Ue}return{$$typeof:n,type:b.type,key:Pe,ref:De,props:Re,_owner:Fe}},Ce.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ce.createElement=A,Ce.createFactory=function(b){var K=A.bind(null,b);return K.type=b,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=V,Ce.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:xt}},Ce.memo=function(b,K){return{$$typeof:y,type:b,compare:K===void 0?null:K}},Ce.startTransition=function(b){var K=ee.transition;ee.transition={};try{b()}finally{ee.transition=K}},Ce.unstable_act=ie,Ce.useCallback=function(b,K){return Ae.current.useCallback(b,K)},Ce.useContext=function(b){return Ae.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Ae.current.useDeferredValue(b)},Ce.useEffect=function(b,K){return Ae.current.useEffect(b,K)},Ce.useId=function(){return Ae.current.useId()},Ce.useImperativeHandle=function(b,K,pe){return Ae.current.useImperativeHandle(b,K,pe)},Ce.useInsertionEffect=function(b,K){return Ae.current.useInsertionEffect(b,K)},Ce.useLayoutEffect=function(b,K){return Ae.current.useLayoutEffect(b,K)},Ce.useMemo=function(b,K){return Ae.current.useMemo(b,K)},Ce.useReducer=function(b,K,pe){return Ae.current.useReducer(b,K,pe)},Ce.useRef=function(b){return Ae.current.useRef(b)},Ce.useState=function(b){return Ae.current.useState(b)},Ce.useSyncExternalStore=function(b,K,pe){return Ae.current.useSyncExternalStore(b,K,pe)},Ce.useTransition=function(){return Ae.current.useTransition()},Ce.version="18.3.1",Ce}var Qg;function Pd(){return Qg||(Qg=1,mf.exports=rS()),mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function iS(){if(Xg)return Na;Xg=1;var n=Pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var v,w={},T=null,P=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(P=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:T,ref:P,props:w,_owner:o.current}}return Na.Fragment=t,Na.jsx=c,Na.jsxs=c,Na}var Yg;function sS(){return Yg||(Yg=1,pf.exports=iS()),pf.exports}var me=sS(),fe=Pd(),Lu={},gf={exports:{}},an={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function oS(){return Jg||(Jg=1,function(n){function e(ee,de){var ie=ee.length;ee.push(de);e:for(;0<ie;){var b=ie-1>>>1,K=ee[b];if(0<o(K,de))ee[b]=de,ee[ie]=K,ie=b;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var de=ee[0],ie=ee.pop();if(ie!==de){ee[0]=ie;e:for(var b=0,K=ee.length,pe=K>>>1;b<pe;){var Re=2*(b+1)-1,Pe=ee[Re],De=Re+1,Fe=ee[De];if(0>o(Pe,ie))De<K&&0>o(Fe,Pe)?(ee[b]=Fe,ee[De]=ie,b=De):(ee[b]=Pe,ee[Re]=ie,b=Re);else if(De<K&&0>o(Fe,ie))ee[b]=Fe,ee[De]=ie,b=De;else break e}}return de}function o(ee,de){var ie=ee.sortIndex-de.sortIndex;return ie!==0?ie:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],v=1,w=null,T=3,P=!1,O=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ee){for(var de=t(y);de!==null;){if(de.callback===null)i(y);else if(de.startTime<=ee)i(y),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(y)}}function ne(ee){if(M=!1,G(ee),!O)if(t(p)!==null)O=!0,xt(re);else{var de=t(y);de!==null&&Ae(ne,de.startTime-ee)}}function re(ee,de){O=!1,M&&(M=!1,q(A),A=-1),P=!0;var ie=T;try{for(G(de),w=t(p);w!==null&&(!(w.expirationTime>de)||ee&&!L());){var b=w.callback;if(typeof b=="function"){w.callback=null,T=w.priorityLevel;var K=b(w.expirationTime<=de);de=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),G(de)}else i(p);w=t(p)}if(w!==null)var pe=!0;else{var Re=t(y);Re!==null&&Ae(ne,Re.startTime-de),pe=!1}return pe}finally{w=null,T=ie,P=!1}}var le=!1,k=null,A=-1,R=5,V=-1;function L(){return!(n.unstable_now()-V<R)}function F(){if(k!==null){var ee=n.unstable_now();V=ee;var de=!0;try{de=k(!0,ee)}finally{de?C():(le=!1,k=null)}}else le=!1}var C;if(typeof W=="function")C=function(){W(F)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ct=Qe.port2;Qe.port1.onmessage=F,C=function(){Ct.postMessage(null)}}else C=function(){N(F,0)};function xt(ee){k=ee,le||(le=!0,C())}function Ae(ee,de){A=N(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){O||P||(O=!0,xt(re))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var ie=T;T=de;try{return ee()}finally{T=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=T;T=ee;try{return de()}finally{T=ie}},n.unstable_scheduleCallback=function(ee,de,ie){var b=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?b+ie:b):ie=b,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,ee={id:v++,callback:de,priorityLevel:ee,startTime:ie,expirationTime:K,sortIndex:-1},ie>b?(ee.sortIndex=ie,e(y,ee),t(p)===null&&ee===t(y)&&(M?(q(A),A=-1):M=!0,Ae(ne,ie-b))):(ee.sortIndex=K,e(p,ee),O||P||(O=!0,xt(re))),ee},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ee){var de=T;return function(){var ie=T;T=de;try{return ee.apply(this,arguments)}finally{T=ie}}}}(_f)),_f}var Zg;function aS(){return Zg||(Zg=1,yf.exports=oS()),yf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function lS(){if(ey)return an;ey=1;var n=Pd(),e=aS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return p.call(w,r)?!0:p.call(v,r)?!1:y.test(r)?w[r]=!0:(v[r]=!0,!1)}function P(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||P(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,a,h,d,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,W);N[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,W);N[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,W);N[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,h){var d=N.hasOwnProperty(s)?N[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,h)&&(a=null),h||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),le=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,b;function K(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var pe=!1;function Re(r,s){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),g=h.stack.split(`
`),E=d.length-1,I=g.length-1;1<=E&&0<=I&&d[E]!==g[I];)I--;for(;1<=E&&0<=I;E--,I--)if(d[E]!==g[I]){if(E!==1||I!==1)do if(E--,I--,0>I||d[E]!==g[I]){var x=`
`+d[E].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=E&&0<=I);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case le:return"Portal";case R:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function gr(r){r._valueTracker||(r._valueTracker=Tt(r))}function vs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xi(r,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ws(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Uo(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Bo(r,s){Uo(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Es(r,s.type,a):s.hasOwnProperty("defaultValue")&&Es(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function wl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Es(r,s,a){(s!=="number"||Br(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function _r(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function jo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ts(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Ss(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function zo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var vr,$o=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function jr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vi=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(r){Vi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ki[s]=ki[r]})});function qo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ki.hasOwnProperty(r)&&ki[r]?(""+s).trim():s+"px"}function Wo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=qo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Ho=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(r,s){if(s){if(Ho[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Go(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function As(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,Tn=null,Xn=null;function Rs(r){if(r=_a(r)){if(typeof Is!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Xl(s),Is(r.stateNode,r.type,s))}}function Yn(r){Tn?Xn?Xn.push(r):Xn=[r]:Tn=r}function Qo(){if(Tn){var r=Tn,s=Xn;if(Xn=Tn=null,Rs(r),s)for(r=0;r<s.length;r++)Rs(s[r])}}function Ni(r,s){return r(s)}function Xo(){}var wr=!1;function Yo(r,s,a){if(wr)return r(s,a);wr=!0;try{return Ni(r,s,a)}finally{wr=!1,(Tn!==null||Xn!==null)&&(Xo(),Qo())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=Xl(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ps=!1;if(f)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ps=!1}function Mi(r,s,a,h,d,g,E,I,x){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(X){this.onError(X)}}var Li=!1,Cs=null,Ln=!1,Jo=null,jc={onError:function(r){Li=!0,Cs=r}};function xs(r,s,a,h,d,g,E,I,x){Li=!1,Cs=null,Mi.apply(jc,arguments)}function El(r,s,a,h,d,g,E,I,x){if(xs.apply(this,arguments),Li){if(Li){var z=Cs;Li=!1,Cs=null}else throw Error(t(198));Ln||(Ln=!0,Jo=z)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Oi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bn(r){if(On(r)!==r)throw Error(t(188))}function Tl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return bn(d),r;if(g===h)return bn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var E=!1,I=d.child;I;){if(I===a){E=!0,a=d,h=g;break}if(I===h){E=!0,h=d,a=g;break}I=I.sibling}if(!E){for(I=g.child;I;){if(I===a){E=!0,a=g,h=d;break}if(I===h){E=!0,h=g,a=d;break}I=I.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Zo(r){return r=Tl(r),r!==null?ks(r):null}function ks(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ks(r);if(s!==null)return s;r=r.sibling}return null}var Vs=e.unstable_scheduleCallback,ea=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,zc=e.unstable_requestPaint,qe=e.unstable_now,Al=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,zr=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ta=e.unstable_LowPriority,Il=e.unstable_IdlePriority,Fi=null,cn=null;function Rl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Cl,na=Math.log,Pl=Math.LN2;function Cl(r){return r>>>=0,r===0?32:31-(na(r)/Pl|0)|0}var Ds=64,Ns=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ui(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var I=E&~d;I!==0?h=$r(I):(g&=E,g!==0&&(h=$r(g)))}else E=a&~d,E!==0?h=$r(E):g!==0&&(h=$r(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function $c(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Kt(g),I=1<<E,x=d[E];x===-1?(!(I&a)||I&h)&&(d[E]=$c(I,s)):x<=s&&(r.expiredLanes|=I),g&=~I}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bi(){var r=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),r}function qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Wr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function Hr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Kr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var xl,Ms,kl,Vl,Dl,ra=!1,Jn=[],kt=null,Fn=null,Un=null,Gr=new Map,An=new Map,Zn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Gr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function Zt(r,s,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=_a(s),s!==null&&Ms(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Wc(r,s,a,h,d){switch(s){case"focusin":return kt=Zt(kt,r,s,a,h,d),!0;case"dragenter":return Fn=Zt(Fn,r,s,a,h,d),!0;case"mouseover":return Un=Zt(Un,r,s,a,h,d),!0;case"pointerover":var g=d.pointerId;return Gr.set(g,Zt(Gr.get(g)||null,r,s,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,An.set(g,Zt(An.get(g)||null,r,s,a,h,d)),!0}return!1}function Ml(r){var s=Wi(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=Oi(a),s!==null){r.blockedOn=s,Dl(r.priority,function(){kl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ls(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Di=h,a.target.dispatchEvent(h),Di=null}else return s=_a(a),s!==null&&Ms(s),r.blockedOn=a,!1;s.shift()}return!0}function ji(r,s,a){Tr(r)&&a.delete(s)}function Ll(){ra=!1,kt!==null&&Tr(kt)&&(kt=null),Fn!==null&&Tr(Fn)&&(Fn=null),Un!==null&&Tr(Un)&&(Un=null),Gr.forEach(ji),An.forEach(ji)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,ra||(ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ll)))}function jn(r){function s(d){return Bn(d,r)}if(0<Jn.length){Bn(Jn[0],r);for(var a=1;a<Jn.length;a++){var h=Jn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Bn(kt,r),Fn!==null&&Bn(Fn,r),Un!==null&&Bn(Un,r),Gr.forEach(s),An.forEach(s),a=0;a<Zn.length;a++)h=Zn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)Ml(a),a.blockedOn===null&&Zn.shift()}var Sr=ne.ReactCurrentBatchConfig,Qr=!0;function Xe(r,s,a,h){var d=ke,g=Sr.transition;Sr.transition=null;try{ke=1,ia(r,s,a,h)}finally{ke=d,Sr.transition=g}}function Hc(r,s,a,h){var d=ke,g=Sr.transition;Sr.transition=null;try{ke=4,ia(r,s,a,h)}finally{ke=d,Sr.transition=g}}function ia(r,s,a,h){if(Qr){var d=Ls(r,s,a,h);if(d===null)rh(r,s,h,zi,a),Nl(r,h);else if(Wc(d,r,s,a,h))h.stopPropagation();else if(Nl(r,h),s&4&&-1<qc.indexOf(r)){for(;d!==null;){var g=_a(d);if(g!==null&&xl(g),g=Ls(r,s,a,h),g===null&&rh(r,s,h,zi,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else rh(r,s,h,null,a)}}var zi=null;function Ls(r,s,a,h){if(zi=null,r=As(h),r=Wi(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Oi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return zi=r,null}function sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Al()){case bi:return 1;case zr:return 4;case Sn:case ta:return 16;case Il:return 536870912;default:return 16}default:return 16}}var fn=null,Os=null,en=null;function oa(){if(en)return en;var r,s=Os,a=s.length,h,d="value"in fn?fn.value:fn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[g-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function bs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function aa(){return!1}function Vt(r){function s(a,h,d,g,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:aa,this.isPropagationStopped=aa,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Vt(zn),tr=ie({},zn,{view:0,detail:0}),Kc=Vt(tr),Us,Ar,Xr,$i=ie({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xr&&(Xr&&r.type==="mousemove"?(Us=r.screenX-Xr.screenX,Ar=r.screenY-Xr.screenY):Ar=Us=0,Xr=r),Us)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),Bs=Vt($i),la=ie({},$i,{dataTransfer:0}),Ol=Vt(la),js=ie({},tr,{relatedTarget:0}),zs=Vt(js),bl=ie({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Vt(bl),Fl=ie({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ul=Vt(Fl),Bl=ie({},zn,{data:0}),ua=Vt(Bl),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jl[r])?!!s[r]:!1}function nr(){return zl}var u=ie({},tr,{key:function(r){if(r.key){var s=$s[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?bs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(u),_=ie({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Vt(_),U=ie({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),$=Vt(U),te=ie({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Vt(te),gt=ie({},$i,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(gt),St=[9,13,27,32],ht=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var dn=f&&"TextEvent"in window&&!In,qi=f&&(!ht||In&&8<In&&11>=In),qs=" ",zp=!1;function $p(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function t0(r,s){switch(r){case"compositionend":return qp(s);case"keypress":return s.which!==32?null:(zp=!0,qs);case"textInput":return r=s.data,r===qs&&zp?null:r;default:return null}}function n0(r,s){if(Ws)return r==="compositionend"||!ht&&$p(r,s)?(r=oa(),en=Os=fn=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qi&&s.locale!=="ko"?null:s.data;default:return null}}var r0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!r0[r.type]:s==="textarea"}function Hp(r,s,a,h){Yn(h),s=Kl(s,"onChange"),0<s.length&&(a=new Fs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ca=null,ha=null;function i0(r){cm(r,0)}function $l(r){var s=Xs(r);if(vs(s))return r}function s0(r,s){if(r==="change")return s}var Kp=!1;if(f){var Gc;if(f){var Qc="oninput"in document;if(!Qc){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Qc=typeof Gp.oninput=="function"}Gc=Qc}else Gc=!1;Kp=Gc&&(!document.documentMode||9<document.documentMode)}function Qp(){ca&&(ca.detachEvent("onpropertychange",Xp),ha=ca=null)}function Xp(r){if(r.propertyName==="value"&&$l(ha)){var s=[];Hp(s,ha,r,As(r)),Yo(i0,s)}}function o0(r,s,a){r==="focusin"?(Qp(),ca=s,ha=a,ca.attachEvent("onpropertychange",Xp)):r==="focusout"&&Qp()}function a0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $l(ha)}function l0(r,s){if(r==="click")return $l(s)}function u0(r,s){if(r==="input"||r==="change")return $l(s)}function c0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:c0;function fa(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jp(r,s){var a=Yp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Zp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function em(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Br(r.document)}return s}function Xc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function h0(r){var s=em(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zp(a.ownerDocument.documentElement,a)){if(h!==null&&Xc(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=Jp(a,g);var E=Jp(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var f0=f&&"documentMode"in document&&11>=document.documentMode,Hs=null,Yc=null,da=null,Jc=!1;function tm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jc||Hs==null||Hs!==Br(h)||(h=Hs,"selectionStart"in h&&Xc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),da&&fa(da,h)||(da=h,h=Kl(Yc,"onSelect"),0<h.length&&(s=new Fs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Hs)))}function ql(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ks={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},Zc={},nm={};f&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Wl(r){if(Zc[r])return Zc[r];if(!Ks[r])return r;var s=Ks[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in nm)return Zc[r]=s[a];return r}var rm=Wl("animationend"),im=Wl("animationiteration"),sm=Wl("animationstart"),om=Wl("transitionend"),am=new Map,lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(r,s){am.set(r,s),l(s,[r])}for(var eh=0;eh<lm.length;eh++){var th=lm[eh],d0=th.toLowerCase(),p0=th[0].toUpperCase()+th.slice(1);Yr(d0,"on"+p0)}Yr(rm,"onAnimationEnd"),Yr(im,"onAnimationIteration"),Yr(sm,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(om,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function um(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,El(h,s,void 0,r),r.currentTarget=null}function cm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var I=h[E],x=I.instance,z=I.currentTarget;if(I=I.listener,x!==g&&d.isPropagationStopped())break e;um(d,I,z),g=x}else for(E=0;E<h.length;E++){if(I=h[E],x=I.instance,z=I.currentTarget,I=I.listener,x!==g&&d.isPropagationStopped())break e;um(d,I,z),g=x}}}if(Ln)throw r=Jo,Ln=!1,Jo=null,r}function He(r,s){var a=s[uh];a===void 0&&(a=s[uh]=new Set);var h=r+"__bubble";a.has(h)||(hm(s,r,2,!1),a.add(h))}function nh(r,s,a){var h=0;s&&(h|=4),hm(a,r,h,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ma(r){if(!r[Hl]){r[Hl]=!0,i.forEach(function(a){a!=="selectionchange"&&(m0.has(a)||nh(a,!1,r),nh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,nh("selectionchange",!1,s))}}function hm(r,s,a,h){switch(sa(s)){case 1:var d=Xe;break;case 4:d=Hc;break;default:d=ia}a=d.bind(null,s,a,r),d=void 0,!Ps||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function rh(r,s,a,h,d){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;E=E.return}for(;I!==null;){if(E=Wi(I),E===null)return;if(x=E.tag,x===5||x===6){h=g=E;continue e}I=I.parentNode}}h=h.return}Yo(function(){var z=g,X=As(a),J=[];e:{var Q=am.get(r);if(Q!==void 0){var se=Fs,ue=r;switch(r){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=zs;break;case"focusout":ue="blur",se=zs;break;case"beforeblur":case"afterblur":se=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case rm:case im:case sm:se=Ir;break;case om:se=je;break;case"scroll":se=Kc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=S}var ce=(s&4)!==0,lt=!ce&&r==="scroll",B=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var D=z,j;D!==null;){j=D;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=at(D,B),Z!=null&&ce.push(ga(D,Z,j)))),lt)break;D=D.return}0<ce.length&&(Q=new se(Q,ue,null,a,X),J.push({event:Q,listeners:ce}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Q&&a!==Di&&(ue=a.relatedTarget||a.fromElement)&&(Wi(ue)||ue[Rr]))break e;if((se||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=z,ue=ue?Wi(ue):null,ue!==null&&(lt=On(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=z),se!==ue)){if(ce=Bs,Z="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ce=S,Z="onPointerLeave",B="onPointerEnter",D="pointer"),lt=se==null?Q:Xs(se),j=ue==null?Q:Xs(ue),Q=new ce(Z,D+"leave",se,a,X),Q.target=lt,Q.relatedTarget=j,Z=null,Wi(X)===z&&(ce=new ce(B,D+"enter",ue,a,X),ce.target=j,ce.relatedTarget=lt,Z=ce),lt=Z,se&&ue)t:{for(ce=se,B=ue,D=0,j=ce;j;j=Gs(j))D++;for(j=0,Z=B;Z;Z=Gs(Z))j++;for(;0<D-j;)ce=Gs(ce),D--;for(;0<j-D;)B=Gs(B),j--;for(;D--;){if(ce===B||B!==null&&ce===B.alternate)break t;ce=Gs(ce),B=Gs(B)}ce=null}else ce=null;se!==null&&fm(J,Q,se,ce,!1),ue!==null&&lt!==null&&fm(J,lt,ue,ce,!0)}}e:{if(Q=z?Xs(z):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var he=s0;else if(Wp(Q))if(Kp)he=u0;else{he=a0;var ye=o0}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(he=l0);if(he&&(he=he(r,z))){Hp(J,he,a,X);break e}ye&&ye(r,Q,z),r==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&Es(Q,"number",Q.value)}switch(ye=z?Xs(z):window,r){case"focusin":(Wp(ye)||ye.contentEditable==="true")&&(Hs=ye,Yc=z,da=null);break;case"focusout":da=Yc=Hs=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,tm(J,a,X);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":tm(J,a,X)}var _e;if(ht)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ws?$p(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(qi&&a.locale!=="ko"&&(Ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ws&&(_e=oa()):(fn=X,Os="value"in fn?fn.value:fn.textContent,Ws=!0)),ye=Kl(z,Ee),0<ye.length&&(Ee=new ua(Ee,r,null,a,X),J.push({event:Ee,listeners:ye}),_e?Ee.data=_e:(_e=qp(a),_e!==null&&(Ee.data=_e)))),(_e=dn?t0(r,a):n0(r,a))&&(z=Kl(z,"onBeforeInput"),0<z.length&&(X=new ua("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:z}),X.data=_e))}cm(J,s)})}function ga(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Kl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&h.unshift(ga(r,g,d)),g=at(r,s),g!=null&&h.push(ga(r,g,d))),r=r.return}return h}function Gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fm(r,s,a,h,d){for(var g=s._reactName,E=[];a!==null&&a!==h;){var I=a,x=I.alternate,z=I.stateNode;if(x!==null&&x===h)break;I.tag===5&&z!==null&&(I=z,d?(x=at(a,g),x!=null&&E.unshift(ga(a,x,I))):d||(x=at(a,g),x!=null&&E.push(ga(a,x,I)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var g0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function dm(r){return(typeof r=="string"?r:""+r).replace(g0,`
`).replace(y0,"")}function Gl(r,s,a){if(s=dm(s),dm(r)!==s&&a)throw Error(t(425))}function Ql(){}var ih=null,sh=null;function oh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(r){return pm.resolve(null).then(r).catch(w0)}:ah;function w0(r){setTimeout(function(){throw r})}function lh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),jn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);jn(s)}function Jr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function mm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),rr="__reactFiber$"+Qs,ya="__reactProps$"+Qs,Rr="__reactContainer$"+Qs,uh="__reactEvents$"+Qs,E0="__reactListeners$"+Qs,T0="__reactHandles$"+Qs;function Wi(r){var s=r[rr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rr]||a[rr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=mm(r);r!==null;){if(a=r[rr])return a;r=mm(r)}return s}r=a,a=r.parentNode}return null}function _a(r){return r=r[rr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Xl(r){return r[ya]||null}var ch=[],Ys=-1;function Zr(r){return{current:r}}function Ke(r){0>Ys||(r.current=ch[Ys],ch[Ys]=null,Ys--)}function We(r,s){Ys++,ch[Ys]=r.current,r.current=s}var ei={},Ft=Zr(ei),tn=Zr(!1),Hi=ei;function Js(r,s){var a=r.type.contextTypes;if(!a)return ei;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function Yl(){Ke(tn),Ke(Ft)}function gm(r,s,a){if(Ft.current!==ei)throw Error(t(168));We(Ft,s),We(tn,a)}function ym(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return ie({},a,h)}function Jl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ei,Hi=Ft.current,We(Ft,r),We(tn,tn.current),!0}function _m(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=ym(r,s,Hi),h.__reactInternalMemoizedMergedChildContext=r,Ke(tn),Ke(Ft),We(Ft,r)):Ke(tn),We(tn,a)}var Pr=null,Zl=!1,hh=!1;function vm(r){Pr===null?Pr=[r]:Pr.push(r)}function S0(r){Zl=!0,vm(r)}function ti(){if(!hh&&Pr!==null){hh=!0;var r=0,s=ke;try{var a=Pr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Pr=null,Zl=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),Vs(bi,ti),d}finally{ke=s,hh=!1}}return null}var Zs=[],eo=0,eu=null,tu=0,Rn=[],Pn=0,Ki=null,Cr=1,xr="";function Gi(r,s){Zs[eo++]=tu,Zs[eo++]=eu,eu=r,tu=s}function wm(r,s,a){Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Ki,Ki=r;var h=Cr;r=xr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var g=32-Kt(s)+d;if(30<g){var E=d-d%5;g=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Cr=1<<32-Kt(s)+d|a<<d|h,xr=g+r}else Cr=1<<g|a<<d|h,xr=r}function fh(r){r.return!==null&&(Gi(r,1),wm(r,1,0))}function dh(r){for(;r===eu;)eu=Zs[--eo],Zs[eo]=null,tu=Zs[--eo],Zs[eo]=null;for(;r===Ki;)Ki=Rn[--Pn],Rn[Pn]=null,xr=Rn[--Pn],Rn[Pn]=null,Cr=Rn[--Pn],Rn[Pn]=null}var pn=null,mn=null,Ye=!1,qn=null;function Em(r,s){var a=Vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Tm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=Jr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ki!==null?{id:Cr,overflow:xr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function ph(r){return(r.mode&1)!==0&&(r.flags&128)===0}function mh(r){if(Ye){var s=mn;if(s){var a=s;if(!Tm(r,s)){if(ph(r))throw Error(t(418));s=Jr(a.nextSibling);var h=pn;s&&Tm(r,s)?Em(h,a):(r.flags=r.flags&-4097|2,Ye=!1,pn=r)}}else{if(ph(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,pn=r}}}function Sm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function nu(r){if(r!==pn)return!1;if(!Ye)return Sm(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!oh(r.type,r.memoizedProps)),s&&(s=mn)){if(ph(r))throw Am(),Error(t(418));for(;s;)Em(r,s),s=Jr(s.nextSibling)}if(Sm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){mn=Jr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?Jr(r.stateNode.nextSibling):null;return!0}function Am(){for(var r=mn;r;)r=Jr(r.nextSibling)}function to(){mn=pn=null,Ye=!1}function gh(r){qn===null?qn=[r]:qn.push(r)}var A0=ne.ReactCurrentBatchConfig;function va(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var I=d.refs;E===null?delete I[g]:I[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ru(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Im(r){var s=r._init;return s(r._payload)}function Rm(r){function s(B,D){if(r){var j=B.deletions;j===null?(B.deletions=[D],B.flags|=16):j.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=ui(B,D),B.index=0,B.sibling=null,B}function g(B,D,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<D?(B.flags|=2,D):j):(B.flags|=2,D)):(B.flags|=1048576,D)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,D,j,Z){return D===null||D.tag!==6?(D=lf(j,B.mode,Z),D.return=B,D):(D=d(D,j),D.return=B,D)}function x(B,D,j,Z){var he=j.type;return he===k?X(B,D,j.props.children,Z,j.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Im(he)===D.type)?(Z=d(D,j.props),Z.ref=va(B,D,j),Z.return=B,Z):(Z=Pu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=va(B,D,j),Z.return=B,Z)}function z(B,D,j,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=uf(j,B.mode,Z),D.return=B,D):(D=d(D,j.children||[]),D.return=B,D)}function X(B,D,j,Z,he){return D===null||D.tag!==7?(D=ns(j,B.mode,Z,he),D.return=B,D):(D=d(D,j),D.return=B,D)}function J(B,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=lf(""+D,B.mode,j),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case re:return j=Pu(D.type,D.key,D.props,null,B.mode,j),j.ref=va(B,null,D),j.return=B,j;case le:return D=uf(D,B.mode,j),D.return=B,D;case xt:var Z=D._init;return J(B,Z(D._payload),j)}if(yr(D)||de(D))return D=ns(D,B.mode,j,null),D.return=B,D;ru(B,D)}return null}function Q(B,D,j,Z){var he=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:I(B,D,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return j.key===he?x(B,D,j,Z):null;case le:return j.key===he?z(B,D,j,Z):null;case xt:return he=j._init,Q(B,D,he(j._payload),Z)}if(yr(j)||de(j))return he!==null?null:X(B,D,j,Z,null);ru(B,j)}return null}function se(B,D,j,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,I(D,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case re:return B=B.get(Z.key===null?j:Z.key)||null,x(D,B,Z,he);case le:return B=B.get(Z.key===null?j:Z.key)||null,z(D,B,Z,he);case xt:var ye=Z._init;return se(B,D,j,ye(Z._payload),he)}if(yr(Z)||de(Z))return B=B.get(j)||null,X(D,B,Z,he,null);ru(D,Z)}return null}function ue(B,D,j,Z){for(var he=null,ye=null,_e=D,Ee=D=0,Rt=null;_e!==null&&Ee<j.length;Ee++){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var be=Q(B,_e,j[Ee],Z);if(be===null){_e===null&&(_e=Rt);break}r&&_e&&be.alternate===null&&s(B,_e),D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be,_e=Rt}if(Ee===j.length)return a(B,_e),Ye&&Gi(B,Ee),he;if(_e===null){for(;Ee<j.length;Ee++)_e=J(B,j[Ee],Z),_e!==null&&(D=g(_e,D,Ee),ye===null?he=_e:ye.sibling=_e,ye=_e);return Ye&&Gi(B,Ee),he}for(_e=h(B,_e);Ee<j.length;Ee++)Rt=se(_e,B,Ee,j[Ee],Z),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?Ee:Rt.key),D=g(Rt,D,Ee),ye===null?he=Rt:ye.sibling=Rt,ye=Rt);return r&&_e.forEach(function(ci){return s(B,ci)}),Ye&&Gi(B,Ee),he}function ce(B,D,j,Z){var he=de(j);if(typeof he!="function")throw Error(t(150));if(j=he.call(j),j==null)throw Error(t(151));for(var ye=he=null,_e=D,Ee=D=0,Rt=null,be=j.next();_e!==null&&!be.done;Ee++,be=j.next()){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var ci=Q(B,_e,be.value,Z);if(ci===null){_e===null&&(_e=Rt);break}r&&_e&&ci.alternate===null&&s(B,_e),D=g(ci,D,Ee),ye===null?he=ci:ye.sibling=ci,ye=ci,_e=Rt}if(be.done)return a(B,_e),Ye&&Gi(B,Ee),he;if(_e===null){for(;!be.done;Ee++,be=j.next())be=J(B,be.value,Z),be!==null&&(D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be);return Ye&&Gi(B,Ee),he}for(_e=h(B,_e);!be.done;Ee++,be=j.next())be=se(_e,B,Ee,be.value,Z),be!==null&&(r&&be.alternate!==null&&_e.delete(be.key===null?Ee:be.key),D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be);return r&&_e.forEach(function(nS){return s(B,nS)}),Ye&&Gi(B,Ee),he}function lt(B,D,j,Z){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case re:e:{for(var he=j.key,ye=D;ye!==null;){if(ye.key===he){if(he=j.type,he===k){if(ye.tag===7){a(B,ye.sibling),D=d(ye,j.props.children),D.return=B,B=D;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Im(he)===ye.type){a(B,ye.sibling),D=d(ye,j.props),D.ref=va(B,ye,j),D.return=B,B=D;break e}a(B,ye);break}else s(B,ye);ye=ye.sibling}j.type===k?(D=ns(j.props.children,B.mode,Z,j.key),D.return=B,B=D):(Z=Pu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=va(B,D,j),Z.return=B,B=Z)}return E(B);case le:e:{for(ye=j.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(B,D.sibling),D=d(D,j.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=uf(j,B.mode,Z),D.return=B,B=D}return E(B);case xt:return ye=j._init,lt(B,D,ye(j._payload),Z)}if(yr(j))return ue(B,D,j,Z);if(de(j))return ce(B,D,j,Z);ru(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,j),D.return=B,B=D):(a(B,D),D=lf(j,B.mode,Z),D.return=B,B=D),E(B)):a(B,D)}return lt}var no=Rm(!0),Pm=Rm(!1),iu=Zr(null),su=null,ro=null,yh=null;function _h(){yh=ro=su=null}function vh(r){var s=iu.current;Ke(iu),r._currentValue=s}function wh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function io(r,s){su=r,yh=ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(yh!==r)if(r={context:r,memoizedValue:s,next:null},ro===null){if(su===null)throw Error(t(308));ro=r,su.dependencies={lanes:0,firstContext:r}}else ro=ro.next=r;return s}var Qi=null;function Eh(r){Qi===null?Qi=[r]:Qi.push(r)}function Cm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Eh(s)):(a.next=d.next,d.next=a),s.interleaved=a,kr(r,h)}function kr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ni=!1;function Th(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ri(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Oe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,kr(r,a)}return d=h.interleaved,d===null?(s.next=s,Eh(h)):(s.next=d.next,d.next=s),h.interleaved=s,kr(r,a)}function ou(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}function km(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function au(r,s,a,h){var d=r.updateQueue;ni=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var x=I,z=x.next;x.next=null,E===null?g=z:E.next=z,E=x;var X=r.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==E&&(I===null?X.firstBaseUpdate=z:I.next=z,X.lastBaseUpdate=x))}if(g!==null){var J=d.baseState;E=0,X=z=x=null,I=g;do{var Q=I.lane,se=I.eventTime;if((h&Q)===Q){X!==null&&(X=X.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=r,ce=I;switch(Q=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(se,J,Q);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(se,J,Q):ue,Q==null)break e;J=ie({},J,Q);break e;case 2:ni=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else se={eventTime:se,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(z=X=se,x=J):X=X.next=se,E|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(X===null&&(x=J),d.baseState=x,d.firstBaseUpdate=z,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Ji|=E,r.lanes=E,r.memoizedState=J}}function Vm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var wa={},ir=Zr(wa),Ea=Zr(wa),Ta=Zr(wa);function Xi(r){if(r===wa)throw Error(t(174));return r}function Sh(r,s){switch(We(Ta,s),We(Ea,r),We(ir,wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ke(ir),We(ir,s)}function so(){Ke(ir),Ke(Ea),Ke(Ta)}function Dm(r){Xi(Ta.current);var s=Xi(ir.current),a=mt(s,r.type);s!==a&&(We(Ea,r),We(ir,a))}function Ah(r){Ea.current===r&&(Ke(ir),Ke(Ea))}var Ze=Zr(0);function lu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ih=[];function Rh(){for(var r=0;r<Ih.length;r++)Ih[r]._workInProgressVersionPrimary=null;Ih.length=0}var uu=ne.ReactCurrentDispatcher,Ph=ne.ReactCurrentBatchConfig,Yi=0,et=null,yt=null,At=null,cu=!1,Sa=!1,Aa=0,I0=0;function Ut(){throw Error(t(321))}function Ch(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function xh(r,s,a,h,d,g){if(Yi=g,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,uu.current=r===null||r.memoizedState===null?x0:k0,r=a(h,d),Sa){g=0;do{if(Sa=!1,Aa=0,25<=g)throw Error(t(301));g+=1,At=yt=null,s.updateQueue=null,uu.current=V0,r=a(h,d)}while(Sa)}if(uu.current=du,s=yt!==null&&yt.next!==null,Yi=0,At=yt=et=null,cu=!1,s)throw Error(t(300));return r}function kh(){var r=Aa!==0;return Aa=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=r:At=At.next=r,At}function xn(){if(yt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=At===null?et.memoizedState:At.next;if(s!==null)At=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?et.memoizedState=At=r:At=At.next=r}return At}function Ia(r,s){return typeof s=="function"?s(r):s}function Vh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=yt,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var I=E=null,x=null,z=g;do{var X=z.lane;if((Yi&X)===X)x!==null&&(x=x.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var J={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};x===null?(I=x=J,E=h):x=x.next=J,et.lanes|=X,Ji|=X}z=z.next}while(z!==null&&z!==g);x===null?E=h:x.next=I,$n(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,et.lanes|=g,Ji|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Dh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);$n(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Nm(){}function Mm(r,s){var a=et,h=xn(),d=s(),g=!$n(h.memoizedState,d);if(g&&(h.memoizedState=d,rn=!0),h=h.queue,Nh(bm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Ra(9,Om.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));Yi&30||Lm(a,s,d)}return d}function Lm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Om(r,s,a,h){s.value=a,s.getSnapshot=h,Fm(s)&&Um(r)}function bm(r,s,a){return a(function(){Fm(s)&&Um(r)})}function Fm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function Um(r){var s=kr(r,1);s!==null&&Gn(s,r,1,-1)}function Bm(r){var s=sr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:r},s.queue=r,r=r.dispatch=C0.bind(null,et,r),[s.memoizedState,r]}function Ra(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function jm(){return xn().memoizedState}function hu(r,s,a,h){var d=sr();et.flags|=r,d.memoizedState=Ra(1|s,a,void 0,h===void 0?null:h)}function fu(r,s,a,h){var d=xn();h=h===void 0?null:h;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,h!==null&&Ch(h,E.deps)){d.memoizedState=Ra(s,a,g,h);return}}et.flags|=r,d.memoizedState=Ra(1|s,a,g,h)}function zm(r,s){return hu(8390656,8,r,s)}function Nh(r,s){return fu(2048,8,r,s)}function $m(r,s){return fu(4,2,r,s)}function qm(r,s){return fu(4,4,r,s)}function Wm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hm(r,s,a){return a=a!=null?a.concat([r]):null,fu(4,4,Wm.bind(null,s,r),a)}function Mh(){}function Km(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Ch(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Gm(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Ch(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Qm(r,s,a){return Yi&21?($n(a,s)||(a=Bi(),et.lanes|=a,Ji|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function R0(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Ph.transition;Ph.transition={};try{r(!1),s()}finally{ke=a,Ph.transition=h}}function Xm(){return xn().memoizedState}function P0(r,s,a){var h=ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Ym(r))Jm(s,a);else if(a=Cm(r,s,a,h),a!==null){var d=Xt();Gn(a,r,h,d),Zm(a,s,h)}}function C0(r,s,a){var h=ai(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ym(r))Jm(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,I=g(E,a);if(d.hasEagerState=!0,d.eagerState=I,$n(I,E)){var x=s.interleaved;x===null?(d.next=d,Eh(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=Cm(r,s,d,h),a!==null&&(d=Xt(),Gn(a,r,h,d),Zm(a,s,h))}}function Ym(r){var s=r.alternate;return r===et||s!==null&&s===et}function Jm(r,s){Sa=cu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Zm(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}var du={readContext:Cn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},x0={readContext:Cn,useCallback:function(r,s){return sr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:zm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,hu(4194308,4,Wm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return hu(4194308,4,r,s)},useInsertionEffect:function(r,s){return hu(4,2,r,s)},useMemo:function(r,s){var a=sr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=sr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=P0.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=sr();return r={current:r},s.memoizedState=r},useState:Bm,useDebugValue:Mh,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=Bm(!1),s=r[0];return r=R0.bind(null,r[1]),sr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,d=sr();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));Yi&30||Lm(h,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,zm(bm.bind(null,h,g,r),[r]),h.flags|=2048,Ra(9,Om.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=sr(),s=It.identifierPrefix;if(Ye){var a=xr,h=Cr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Aa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=I0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},k0={readContext:Cn,useCallback:Km,useContext:Cn,useEffect:Nh,useImperativeHandle:Hm,useInsertionEffect:$m,useLayoutEffect:qm,useMemo:Gm,useReducer:Vh,useRef:jm,useState:function(){return Vh(Ia)},useDebugValue:Mh,useDeferredValue:function(r){var s=xn();return Qm(s,yt.memoizedState,r)},useTransition:function(){var r=Vh(Ia)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:Mm,useId:Xm,unstable_isNewReconciler:!1},V0={readContext:Cn,useCallback:Km,useContext:Cn,useEffect:Nh,useImperativeHandle:Hm,useInsertionEffect:$m,useLayoutEffect:qm,useMemo:Gm,useReducer:Dh,useRef:jm,useState:function(){return Dh(Ia)},useDebugValue:Mh,useDeferredValue:function(r){var s=xn();return yt===null?s.memoizedState=r:Qm(s,yt.memoizedState,r)},useTransition:function(){var r=Dh(Ia)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:Mm,useId:Xm,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Lh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ie({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var pu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),g=Vr(h,d);g.payload=s,a!=null&&(g.callback=a),s=ri(r,g,d),s!==null&&(Gn(s,r,d,h),ou(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),g=Vr(h,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ri(r,g,d),s!==null&&(Gn(s,r,d,h),ou(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=ai(r),d=Vr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ri(r,d,h),s!==null&&(Gn(s,r,h,a),ou(s,r,h))}};function eg(r,s,a,h,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!fa(a,h)||!fa(d,g):!0}function tg(r,s,a){var h=!1,d=ei,g=s.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(d=nn(s)?Hi:Ft.current,h=s.contextTypes,g=(h=h!=null)?Js(r,d):ei),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=pu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function ng(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&pu.enqueueReplaceState(s,s.state,null)}function Oh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Th(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=Cn(g):(g=nn(s)?Hi:Ft.current,d.context=Js(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Lh(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&pu.enqueueReplaceState(d,d.state,null),au(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function oo(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function bh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Fh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var D0=typeof WeakMap=="function"?WeakMap:Map;function rg(r,s,a){a=Vr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Eu||(Eu=!0,Zh=h),Fh(r,s)},a}function ig(r,s,a){a=Vr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Fh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Fh(r,s),typeof h!="function"&&(si===null?si=new Set([this]):si.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function sg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new D0;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=H0.bind(null,r,s,a),s.then(r,r))}function og(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ag(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Vr(-1,1),s.tag=2,ri(a,s,1))),a.lanes|=1),r)}var N0=ne.ReactCurrentOwner,rn=!1;function Qt(r,s,a,h){s.child=r===null?Pm(s,null,a,h):no(s,r.child,a,h)}function lg(r,s,a,h,d){a=a.render;var g=s.ref;return io(s,d),h=xh(r,s,a,h,g,d),a=kh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ye&&a&&fh(s),s.flags|=1,Qt(r,s,h,d),s.child)}function ug(r,s,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!af(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,cg(r,s,g,h,d)):(r=Pu(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:fa,a(E,h)&&r.ref===s.ref)return Dr(r,s,d)}return s.flags|=1,r=ui(g,h),r.ref=s.ref,r.return=s,s.child=r}function cg(r,s,a,h,d){if(r!==null){var g=r.memoizedProps;if(fa(g,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Dr(r,s,d)}return Uh(r,s,a,h,d)}function hg(r,s,a){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(lo,gn),gn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(lo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,We(lo,gn),gn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,We(lo,gn),gn|=h;return Qt(r,s,d,a),s.child}function fg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Uh(r,s,a,h,d){var g=nn(a)?Hi:Ft.current;return g=Js(s,g),io(s,d),a=xh(r,s,a,h,g,d),h=kh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ye&&h&&fh(s),s.flags|=1,Qt(r,s,a,d),s.child)}function dg(r,s,a,h,d){if(nn(a)){var g=!0;Jl(s)}else g=!1;if(io(s,d),s.stateNode===null)gu(r,s),tg(s,a,h),Oh(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,I=s.memoizedProps;E.props=I;var x=E.context,z=a.contextType;typeof z=="object"&&z!==null?z=Cn(z):(z=nn(a)?Hi:Ft.current,z=Js(s,z));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function";J||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==h||x!==z)&&ng(s,E,h,z),ni=!1;var Q=s.memoizedState;E.state=Q,au(s,h,E,d),x=s.memoizedState,I!==h||Q!==x||tn.current||ni?(typeof X=="function"&&(Lh(s,a,X,h),x=s.memoizedState),(I=ni||eg(s,a,I,h,Q,x,z))?(J||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),E.props=h,E.state=x,E.context=z,h=I):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,xm(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:Wn(s.type,I),E.props=z,J=s.pendingProps,Q=E.context,x=a.contextType,typeof x=="object"&&x!==null?x=Cn(x):(x=nn(a)?Hi:Ft.current,x=Js(s,x));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==J||Q!==x)&&ng(s,E,h,x),ni=!1,Q=s.memoizedState,E.state=Q,au(s,h,E,d);var ue=s.memoizedState;I!==J||Q!==ue||tn.current||ni?(typeof se=="function"&&(Lh(s,a,se,h),ue=s.memoizedState),(z=ni||eg(s,a,z,h,Q,ue,x)||!1)?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ue,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ue,x)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ue),E.props=h,E.state=ue,E.context=x,h=z):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),h=!1)}return Bh(r,s,a,h,g,d)}function Bh(r,s,a,h,d,g){fg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&_m(s,a,!1),Dr(r,s,g);h=s.stateNode,N0.current=s;var I=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=no(s,r.child,null,g),s.child=no(s,null,I,g)):Qt(r,s,I,g),s.memoizedState=h.state,d&&_m(s,a,!0),s.child}function pg(r){var s=r.stateNode;s.pendingContext?gm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&gm(r,s.context,!1),Sh(r,s.containerInfo)}function mg(r,s,a,h,d){return to(),gh(d),s.flags|=256,Qt(r,s,a,h),s.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function gg(r,s,a){var h=s.pendingProps,d=Ze.current,g=!1,E=(s.flags&128)!==0,I;if((I=E)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(Ze,d&1),r===null)return mh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Cu(E,h,0,null),r=ns(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=zh(a),s.memoizedState=jh,r):$h(s,E));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return M0(r,s,E,h,I,d,a);if(g){g=h.fallback,E=s.mode,d=r.child,I=d.sibling;var x={mode:"hidden",children:h.children};return!(E&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=ui(d,x),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?g=ui(I,g):(g=ns(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?zh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=jh,h}return g=r.child,r=g.sibling,h=ui(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function $h(r,s){return s=Cu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function mu(r,s,a,h){return h!==null&&gh(h),no(s,r.child,null,a),r=$h(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function M0(r,s,a,h,d,g,E){if(a)return s.flags&256?(s.flags&=-257,h=bh(Error(t(422))),mu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=Cu({mode:"visible",children:h.children},d,0,null),g=ns(g,d,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&no(s,r.child,null,E),s.child.memoizedState=zh(E),s.memoizedState=jh,g);if(!(s.mode&1))return mu(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,g=Error(t(419)),h=bh(g,h,void 0),mu(r,s,E,h)}if(I=(E&r.childLanes)!==0,rn||I){if(h=It,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|E)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,kr(r,d),Gn(h,r,d,-1))}return of(),h=bh(Error(t(421))),mu(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=K0.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,mn=Jr(d.nextSibling),pn=s,Ye=!0,qn=null,r!==null&&(Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Ki,Cr=r.id,xr=r.overflow,Ki=s),s=$h(s,h.children),s.flags|=4096,s)}function yg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),wh(r.return,s,a)}function qh(r,s,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function _g(r,s,a){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(Qt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yg(r,a,s);else if(r.tag===19)yg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&lu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),qh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&lu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}qh(s,!0,a,null,g);break;case"together":qh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ji|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ui(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ui(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function L0(r,s,a){switch(s.tag){case 3:pg(s),to();break;case 5:Dm(s);break;case 1:nn(s.type)&&Jl(s);break;case 4:Sh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(iu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?gg(r,s,a):(We(Ze,Ze.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return _g(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,hg(r,s,a)}return Dr(r,s,a)}var vg,Wh,wg,Eg;vg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Wh=function(){},wg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Xi(ir.current);var g=null;switch(a){case"input":d=xi(r,d),h=xi(r,h),g=[];break;case"select":d=ie({},d,{value:void 0}),h=ie({},h,{value:void 0}),g=[];break;case"textarea":d=jo(r,d),h=jo(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Ql)}Ko(a,h);var E;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(E in I)I.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var x=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&x!==I&&(x!=null||I!=null))if(z==="style")if(I){for(E in I)!I.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in x)x.hasOwnProperty(E)&&I[E]!==x[E]&&(a||(a={}),a[E]=x[E])}else a||(g||(g=[]),g.push(z,a)),a=x;else z==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(g=g||[]).push(z,x)):z==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(z,""+x):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(x!=null&&z==="onScroll"&&He("scroll",r),g||I===x||(g=[])):(g=g||[]).push(z,x))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Eg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Pa(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function O0(r,s,a){var h=s.pendingProps;switch(dh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&Yl(),Bt(s),null;case 3:return h=s.stateNode,so(),Ke(tn),Ke(Ft),Rh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(nu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qn!==null&&(nf(qn),qn=null))),Wh(r,s),Bt(s),null;case 5:Ah(s);var d=Xi(Ta.current);if(a=s.type,r!==null&&s.stateNode!=null)wg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Xi(ir.current),nu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[rr]=s,h[ya]=g,r=(s.mode&1)!==0,a){case"dialog":He("cancel",h),He("close",h);break;case"iframe":case"object":case"embed":He("load",h);break;case"video":case"audio":for(d=0;d<pa.length;d++)He(pa[d],h);break;case"source":He("error",h);break;case"img":case"image":case"link":He("error",h),He("load",h);break;case"details":He("toggle",h);break;case"input":ws(h,g),He("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},He("invalid",h);break;case"textarea":Ts(h,g),He("invalid",h)}Ko(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var I=g[E];E==="children"?typeof I=="string"?h.textContent!==I&&(g.suppressHydrationWarning!==!0&&Gl(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Gl(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(E)&&I!=null&&E==="onScroll"&&He("scroll",h)}switch(a){case"input":gr(h),wl(h,g,!0);break;case"textarea":gr(h),zo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Ql)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[rr]=s,r[ya]=h,vg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Go(a,h),a){case"dialog":He("cancel",r),He("close",r),d=h;break;case"iframe":case"object":case"embed":He("load",r),d=h;break;case"video":case"audio":for(d=0;d<pa.length;d++)He(pa[d],r);d=h;break;case"source":He("error",r),d=h;break;case"img":case"image":case"link":He("error",r),He("load",r),d=h;break;case"details":He("toggle",r),d=h;break;case"input":ws(r,h),d=xi(r,h),He("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ie({},h,{value:void 0}),He("invalid",r);break;case"textarea":Ts(r,h),d=jo(r,h),He("invalid",r);break;default:d=h}Ko(a,d),I=d;for(g in I)if(I.hasOwnProperty(g)){var x=I[g];g==="style"?Wo(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&$o(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&jr(r,x):typeof x=="number"&&jr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&He("scroll",r):x!=null&&G(r,g,x,E))}switch(a){case"input":gr(r),wl(r,h,!1);break;case"textarea":gr(r),zo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?_r(r,!!h.multiple,g,!1):h.defaultValue!=null&&_r(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Ql)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)Eg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Xi(Ta.current),Xi(ir.current),nu(s)){if(h=s.stateNode,a=s.memoizedProps,h[rr]=s,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:Gl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gl(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ke(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&mn!==null&&s.mode&1&&!(s.flags&128))Am(),to(),s.flags|=98560,g=!1;else if(g=nu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[rr]=s}else to(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),g=!1}else qn!==null&&(nf(qn),qn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?_t===0&&(_t=3):of())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return so(),Wh(r,s),r===null&&ma(s.stateNode.containerInfo),Bt(s),null;case 10:return vh(s.type._context),Bt(s),null;case 17:return nn(s.type)&&Yl(),Bt(s),null;case 19:if(Ke(Ze),g=s.memoizedState,g===null)return Bt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)Pa(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=lu(r),E!==null){for(s.flags|=128,Pa(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>uo&&(s.flags|=128,h=!0,Pa(g,!1),s.lanes=4194304)}else{if(!h)if(r=lu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Pa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ye)return Bt(s),null}else 2*qe()-g.renderingStartTime>uo&&a!==1073741824&&(s.flags|=128,h=!0,Pa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=Ze.current,We(Ze,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return sf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?gn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function b0(r,s){switch(dh(s),s.tag){case 1:return nn(s.type)&&Yl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return so(),Ke(tn),Ke(Ft),Rh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ah(s),null;case 13:if(Ke(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));to()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ze),null;case 4:return so(),null;case 10:return vh(s.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var yu=!1,jt=!1,F0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ao(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function Hh(r,s,a){try{a()}catch(h){rt(r,s,h)}}var Tg=!1;function U0(r,s){if(ih=Qr,r=em(),Xc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,I=-1,x=-1,z=0,X=0,J=r,Q=null;t:for(;;){for(var se;J!==a||d!==0&&J.nodeType!==3||(I=E+d),J!==g||h!==0&&J.nodeType!==3||(x=E+h),J.nodeType===3&&(E+=J.nodeValue.length),(se=J.firstChild)!==null;)Q=J,J=se;for(;;){if(J===r)break t;if(Q===a&&++z===d&&(I=E),Q===g&&++X===h&&(x=E),(se=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=se}a=I===-1||x===-1?null:{start:I,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(sh={focusedElem:r,selectionRange:a},Qr=!1,ae=s;ae!==null;)if(s=ae,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ae=r;else for(;ae!==null;){s=ae;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Wn(s.type,ce),lt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,ae=r;break}ae=s.return}return ue=Tg,Tg=!1,ue}function Ca(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Hh(s,a,g)}d=d.next}while(d!==h)}}function _u(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Kh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Sg(r){var s=r.alternate;s!==null&&(r.alternate=null,Sg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[rr],delete s[ya],delete s[uh],delete s[E0],delete s[T0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ag(r){return r.tag===5||r.tag===3||r.tag===4}function Ig(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ag(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ql));else if(h!==4&&(r=r.child,r!==null))for(Gh(r,s,a),r=r.sibling;r!==null;)Gh(r,s,a),r=r.sibling}function Qh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Qh(r,s,a),r=r.sibling;r!==null;)Qh(r,s,a),r=r.sibling}var Dt=null,Hn=!1;function ii(r,s,a){for(a=a.child;a!==null;)Rg(r,s,a),a=a.sibling}function Rg(r,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Fi,a)}catch{}switch(a.tag){case 5:jt||ao(a,s);case 6:var h=Dt,d=Hn;Dt=null,ii(r,s,a),Dt=h,Hn=d,Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?lh(r.parentNode,a):r.nodeType===1&&lh(r,a),jn(r)):lh(Dt,a.stateNode));break;case 4:h=Dt,d=Hn,Dt=a.stateNode.containerInfo,Hn=!0,ii(r,s,a),Dt=h,Hn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Hh(a,s,E),d=d.next}while(d!==h)}ii(r,s,a);break;case 1:if(!jt&&(ao(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){rt(a,s,I)}ii(r,s,a);break;case 21:ii(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,ii(r,s,a),jt=h):ii(r,s,a);break;default:ii(r,s,a)}}function Pg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new F0),s.forEach(function(h){var d=G0.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Kn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Hn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Hn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Hn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));Rg(g,E,d),Dt=null,Hn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(z){rt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cg(s,r),s=s.sibling}function Cg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),or(r),h&4){try{Ca(3,r,r.return),_u(3,r)}catch(ce){rt(r,r.return,ce)}try{Ca(5,r,r.return)}catch(ce){rt(r,r.return,ce)}}break;case 1:Kn(s,r),or(r),h&512&&a!==null&&ao(a,a.return);break;case 5:if(Kn(s,r),or(r),h&512&&a!==null&&ao(a,a.return),r.flags&32){var d=r.stateNode;try{jr(d,"")}catch(ce){rt(r,r.return,ce)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,I=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&Uo(d,g),Go(I,E);var z=Go(I,g);for(E=0;E<x.length;E+=2){var X=x[E],J=x[E+1];X==="style"?Wo(d,J):X==="dangerouslySetInnerHTML"?$o(d,J):X==="children"?jr(d,J):G(d,X,J,z)}switch(I){case"input":Bo(d,g);break;case"textarea":Ss(d,g);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?_r(d,!!g.multiple,se,!1):Q!==!!g.multiple&&(g.defaultValue!=null?_r(d,!!g.multiple,g.defaultValue,!0):_r(d,!!g.multiple,g.multiple?[]:"",!1))}d[ya]=g}catch(ce){rt(r,r.return,ce)}}break;case 6:if(Kn(s,r),or(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(ce){rt(r,r.return,ce)}}break;case 3:if(Kn(s,r),or(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(ce){rt(r,r.return,ce)}break;case 4:Kn(s,r),or(r);break;case 13:Kn(s,r),or(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Jh=qe())),h&4&&Pg(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||X,Kn(s,r),jt=z):Kn(s,r),or(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!X&&r.mode&1)for(ae=r,X=r.child;X!==null;){for(J=ae=X;ae!==null;){switch(Q=ae,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ca(4,Q,Q.return);break;case 1:ao(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){h=Q,a=Q.return;try{s=h,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){rt(h,a,ce)}}break;case 5:ao(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Vg(J);continue}}se!==null?(se.return=Q,ae=se):Vg(J)}X=X.sibling}e:for(X=null,J=r;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,z?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=J.stateNode,x=J.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=qo("display",E))}catch(ce){rt(r,r.return,ce)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ce){rt(r,r.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Kn(s,r),or(r),h&4&&Pg(r);break;case 21:break;default:Kn(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Ag(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(jr(d,""),h.flags&=-33);var g=Ig(r);Qh(r,g,d);break;case 3:case 4:var E=h.stateNode.containerInfo,I=Ig(r);Gh(r,I,E);break;default:throw Error(t(161))}}catch(x){rt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function B0(r,s,a){ae=r,xg(r)}function xg(r,s,a){for(var h=(r.mode&1)!==0;ae!==null;){var d=ae,g=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||yu;if(!E){var I=d.alternate,x=I!==null&&I.memoizedState!==null||jt;I=yu;var z=jt;if(yu=E,(jt=x)&&!z)for(ae=d;ae!==null;)E=ae,x=E.child,E.tag===22&&E.memoizedState!==null?Dg(d):x!==null?(x.return=E,ae=x):Dg(d);for(;g!==null;)ae=g,xg(g),g=g.sibling;ae=d,yu=I,jt=z}kg(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ae=g):kg(r)}}function kg(r){for(;ae!==null;){var s=ae;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||_u(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Wn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Vm(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Vm(s,E,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&jn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Kh(s)}catch(Q){rt(s,s.return,Q)}}if(s===r){ae=null;break}if(a=s.sibling,a!==null){a.return=s.return,ae=a;break}ae=s.return}}function Vg(r){for(;ae!==null;){var s=ae;if(s===r){ae=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ae=a;break}ae=s.return}}function Dg(r){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{_u(4,s)}catch(x){rt(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(x){rt(s,d,x)}}var g=s.return;try{Kh(s)}catch(x){rt(s,g,x)}break;case 5:var E=s.return;try{Kh(s)}catch(x){rt(s,E,x)}}}catch(x){rt(s,s.return,x)}if(s===r){ae=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ae=I;break}ae=s.return}}var j0=Math.ceil,vu=ne.ReactCurrentDispatcher,Xh=ne.ReactCurrentOwner,kn=ne.ReactCurrentBatchConfig,Oe=0,It=null,ft=null,Nt=0,gn=0,lo=Zr(0),_t=0,xa=null,Ji=0,wu=0,Yh=0,ka=null,sn=null,Jh=0,uo=1/0,Nr=null,Eu=!1,Zh=null,si=null,Tu=!1,oi=null,Su=0,Va=0,ef=null,Au=-1,Iu=0;function Xt(){return Oe&6?qe():Au!==-1?Au:Au=qe()}function ai(r){return r.mode&1?Oe&2&&Nt!==0?Nt&-Nt:A0.transition!==null?(Iu===0&&(Iu=Bi()),Iu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:sa(r.type)),r):1}function Gn(r,s,a,h){if(50<Va)throw Va=0,ef=null,Error(t(185));Wr(r,a,h),(!(Oe&2)||r!==It)&&(r===It&&(!(Oe&2)&&(wu|=a),_t===4&&li(r,Nt)),on(r,h),a===1&&Oe===0&&!(s.mode&1)&&(uo=qe()+500,Zl&&ti()))}function on(r,s){var a=r.callbackNode;Er(r,s);var h=Ui(r,r===It?Nt:0);if(h===0)a!==null&&ea(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ea(a),s===1)r.tag===0?S0(Mg.bind(null,r)):vm(Mg.bind(null,r)),v0(function(){!(Oe&6)&&ti()}),a=null;else{switch(Kr(h)){case 1:a=bi;break;case 4:a=zr;break;case 16:a=Sn;break;case 536870912:a=Il;break;default:a=Sn}a=zg(a,Ng.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ng(r,s){if(Au=-1,Iu=0,Oe&6)throw Error(t(327));var a=r.callbackNode;if(co()&&r.callbackNode!==a)return null;var h=Ui(r,r===It?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ru(r,h);else{s=h;var d=Oe;Oe|=2;var g=Og();(It!==r||Nt!==s)&&(Nr=null,uo=qe()+500,es(r,s));do try{q0();break}catch(I){Lg(r,I)}while(!0);_h(),vu.current=g,Oe=d,ft!==null?s=0:(It=null,Nt=0,s=_t)}if(s!==0){if(s===2&&(d=hn(r),d!==0&&(h=d,s=tf(r,d))),s===1)throw a=xa,es(r,0),li(r,h),on(r,qe()),a;if(s===6)li(r,h);else{if(d=r.current.alternate,!(h&30)&&!z0(d)&&(s=Ru(r,h),s===2&&(g=hn(r),g!==0&&(h=g,s=tf(r,g))),s===1))throw a=xa,es(r,0),li(r,h),on(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ts(r,sn,Nr);break;case 3:if(li(r,h),(h&130023424)===h&&(s=Jh+500-qe(),10<s)){if(Ui(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ah(ts.bind(null,r,sn,Nr),s);break}ts(r,sn,Nr);break;case 4:if(li(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-Kt(h);g=1<<E,E=s[E],E>d&&(d=E),h&=~g}if(h=d,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*j0(h/1960))-h,10<h){r.timeoutHandle=ah(ts.bind(null,r,sn,Nr),h);break}ts(r,sn,Nr);break;case 5:ts(r,sn,Nr);break;default:throw Error(t(329))}}}return on(r,qe()),r.callbackNode===a?Ng.bind(null,r):null}function tf(r,s){var a=ka;return r.current.memoizedState.isDehydrated&&(es(r,s).flags|=256),r=Ru(r,s),r!==2&&(s=sn,sn=a,s!==null&&nf(s)),r}function nf(r){sn===null?sn=r:sn.push.apply(sn,r)}function z0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!$n(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function li(r,s){for(s&=~Yh,s&=~wu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function Mg(r){if(Oe&6)throw Error(t(327));co();var s=Ui(r,0);if(!(s&1))return on(r,qe()),null;var a=Ru(r,s);if(r.tag!==0&&a===2){var h=hn(r);h!==0&&(s=h,a=tf(r,h))}if(a===1)throw a=xa,es(r,0),li(r,s),on(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ts(r,sn,Nr),on(r,qe()),null}function rf(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(uo=qe()+500,Zl&&ti())}}function Zi(r){oi!==null&&oi.tag===0&&!(Oe&6)&&co();var s=Oe;Oe|=1;var a=kn.transition,h=ke;try{if(kn.transition=null,ke=1,r)return r()}finally{ke=h,kn.transition=a,Oe=s,!(Oe&6)&&ti()}}function sf(){gn=lo.current,Ke(lo)}function es(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,_0(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(dh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yl();break;case 3:so(),Ke(tn),Ke(Ft),Rh();break;case 5:Ah(h);break;case 4:so();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:vh(h.type._context);break;case 22:case 23:sf()}a=a.return}if(It=r,ft=r=ui(r.current,null),Nt=gn=s,_t=0,xa=null,Yh=wu=Ji=0,sn=ka=null,Qi!==null){for(s=0;s<Qi.length;s++)if(a=Qi[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,h.next=E}a.pending=h}Qi=null}return r}function Lg(r,s){do{var a=ft;try{if(_h(),uu.current=du,cu){for(var h=et.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}cu=!1}if(Yi=0,At=yt=et=null,Sa=!1,Aa=0,Xh.current=null,a===null||a.return===null){_t=1,xa=s,ft=null;break}e:{var g=r,E=a.return,I=a,x=s;if(s=Nt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=x,X=I,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=og(E);if(se!==null){se.flags&=-257,ag(se,E,I,g,s),se.mode&1&&sg(g,z,s),s=se,x=z;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(x),s.updateQueue=ce}else ue.add(x);break e}else{if(!(s&1)){sg(g,z,s),of();break e}x=Error(t(426))}}else if(Ye&&I.mode&1){var lt=og(E);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),ag(lt,E,I,g,s),gh(oo(x,I));break e}}g=x=oo(x,I),_t!==4&&(_t=2),ka===null?ka=[g]:ka.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=rg(g,x,s);km(g,B);break e;case 1:I=x;var D=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(si===null||!si.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=ig(g,I,s);km(g,Z);break e}}g=g.return}while(g!==null)}Fg(a)}catch(he){s=he,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Og(){var r=vu.current;return vu.current=du,r===null?du:r}function of(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(Ji&268435455)&&!(wu&268435455)||li(It,Nt)}function Ru(r,s){var a=Oe;Oe|=2;var h=Og();(It!==r||Nt!==s)&&(Nr=null,es(r,s));do try{$0();break}catch(d){Lg(r,d)}while(!0);if(_h(),Oe=a,vu.current=h,ft!==null)throw Error(t(261));return It=null,Nt=0,_t}function $0(){for(;ft!==null;)bg(ft)}function q0(){for(;ft!==null&&!Sl();)bg(ft)}function bg(r){var s=jg(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Fg(r):ft=s,Xh.current=null}function Fg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=b0(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}else if(a=O0(a,s,gn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function ts(r,s,a){var h=ke,d=kn.transition;try{kn.transition=null,ke=1,W0(r,s,a,h)}finally{kn.transition=d,ke=h}return null}function W0(r,s,a,h){do co();while(oi!==null);if(Oe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ze(r,g),r===It&&(ft=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Tu||(Tu=!0,zg(Sn,function(){return co(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=kn.transition,kn.transition=null;var E=ke;ke=1;var I=Oe;Oe|=4,Xh.current=null,U0(r,a),Cg(a,r),h0(sh),Qr=!!ih,sh=ih=null,r.current=a,B0(a),zc(),Oe=I,ke=E,kn.transition=g}else r.current=a;if(Tu&&(Tu=!1,oi=r,Su=d),g=r.pendingLanes,g===0&&(si=null),Rl(a.stateNode),on(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Eu)throw Eu=!1,r=Zh,Zh=null,r;return Su&1&&r.tag!==0&&co(),g=r.pendingLanes,g&1?r===ef?Va++:(Va=0,ef=r):Va=0,ti(),null}function co(){if(oi!==null){var r=Kr(Su),s=kn.transition,a=ke;try{if(kn.transition=null,ke=16>r?16:r,oi===null)var h=!1;else{if(r=oi,oi=null,Su=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,ae=r.current;ae!==null;){var g=ae,E=g.child;if(ae.flags&16){var I=g.deletions;if(I!==null){for(var x=0;x<I.length;x++){var z=I[x];for(ae=z;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:Ca(8,X,g)}var J=X.child;if(J!==null)J.return=X,ae=J;else for(;ae!==null;){X=ae;var Q=X.sibling,se=X.return;if(Sg(X),X===z){ae=null;break}if(Q!==null){Q.return=se,ae=Q;break}ae=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}ae=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ae=E;else e:for(;ae!==null;){if(g=ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ca(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ae=B;break e}ae=g.return}}var D=r.current;for(ae=D;ae!==null;){E=ae;var j=E.child;if(E.subtreeFlags&2064&&j!==null)j.return=E,ae=j;else e:for(E=D;ae!==null;){if(I=ae,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:_u(9,I)}}catch(he){rt(I,I.return,he)}if(I===E){ae=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ae=Z;break e}ae=I.return}}if(Oe=d,ti(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Fi,r)}catch{}h=!0}return h}finally{ke=a,kn.transition=s}}return!1}function Ug(r,s,a){s=oo(a,s),s=rg(r,s,1),r=ri(r,s,1),s=Xt(),r!==null&&(Wr(r,1,s),on(r,s))}function rt(r,s,a){if(r.tag===3)Ug(r,r,a);else for(;s!==null;){if(s.tag===3){Ug(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))){r=oo(a,r),r=ig(s,r,1),s=ri(s,r,1),r=Xt(),s!==null&&(Wr(s,1,r),on(s,r));break}}s=s.return}}function H0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(_t===4||_t===3&&(Nt&130023424)===Nt&&500>qe()-Jh?es(r,0):Yh|=a),on(r,s)}function Bg(r,s){s===0&&(r.mode&1?(s=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):s=1);var a=Xt();r=kr(r,s),r!==null&&(Wr(r,s,a),on(r,a))}function K0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Bg(r,a)}function G0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Bg(r,a)}var jg;jg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,L0(r,s,a);rn=!!(r.flags&131072)}else rn=!1,Ye&&s.flags&1048576&&wm(s,tu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;gu(r,s),r=s.pendingProps;var d=Js(s,Ft.current);io(s,a),d=xh(null,s,h,r,d,a);var g=kh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(g=!0,Jl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Th(s),d.updater=pu,s.stateNode=d,d._reactInternals=s,Oh(s,h,r,a),s=Bh(null,s,h,!0,g,a)):(s.tag=0,Ye&&g&&fh(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(gu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=X0(h),r=Wn(h,r),d){case 0:s=Uh(null,s,h,r,a);break e;case 1:s=dg(null,s,h,r,a);break e;case 11:s=lg(null,s,h,r,a);break e;case 14:s=ug(null,s,h,Wn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Uh(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),dg(r,s,h,d,a);case 3:e:{if(pg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,d=g.element,xm(r,s),au(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=oo(Error(t(423)),s),s=mg(r,s,h,a,d);break e}else if(h!==d){d=oo(Error(t(424)),s),s=mg(r,s,h,a,d);break e}else for(mn=Jr(s.stateNode.containerInfo.firstChild),pn=s,Ye=!0,qn=null,a=Pm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(to(),h===d){s=Dr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Dm(s),r===null&&mh(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,E=d.children,oh(h,d)?E=null:g!==null&&oh(h,g)&&(s.flags|=32),fg(r,s),Qt(r,s,E,a),s.child;case 6:return r===null&&mh(s),null;case 13:return gg(r,s,a);case 4:return Sh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=no(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),lg(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,E=d.value,We(iu,h._currentValue),h._currentValue=E,g!==null)if($n(g.value,E)){if(g.children===d.children&&!tn.current){s=Dr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){E=g.child;for(var x=I.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=Vr(-1,a&-a),x.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?x.next=x:(x.next=X.next,X.next=x),z.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),wh(g.return,a,s),I.lanes|=a;break}x=x.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,I=E.alternate,I!==null&&(I.lanes|=a),wh(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,io(s,a),d=Cn(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=Wn(h,s.pendingProps),d=Wn(h.type,d),ug(r,s,h,d,a);case 15:return cg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),gu(r,s),s.tag=1,nn(h)?(r=!0,Jl(s)):r=!1,io(s,a),tg(s,h,d),Oh(s,h,d,a),Bh(null,s,h,!0,r,a);case 19:return _g(r,s,a);case 22:return hg(r,s,a)}throw Error(t(156,s.tag))};function zg(r,s){return Vs(r,s)}function Q0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,a,h){return new Q0(r,s,a,h)}function af(r){return r=r.prototype,!(!r||!r.isReactComponent)}function X0(r){if(typeof r=="function")return af(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ct)return 14}return 2}function ui(r,s){var a=r.alternate;return a===null?(a=Vn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Pu(r,s,a,h,d,g){var E=2;if(h=r,typeof r=="function")af(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return ns(a.children,d,g,s);case A:E=8,d|=8;break;case R:return r=Vn(12,a,s,d|2),r.elementType=R,r.lanes=g,r;case C:return r=Vn(13,a,s,d),r.elementType=C,r.lanes=g,r;case Qe:return r=Vn(19,a,s,d),r.elementType=Qe,r.lanes=g,r;case Ae:return Cu(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case L:E=9;break e;case F:E=11;break e;case Ct:E=14;break e;case xt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function ns(r,s,a,h){return r=Vn(7,r,h,s),r.lanes=a,r}function Cu(r,s,a,h){return r=Vn(22,r,h,s),r.elementType=Ae,r.lanes=a,r.stateNode={isHidden:!1},r}function lf(r,s,a){return r=Vn(6,r,null,s),r.lanes=a,r}function uf(r,s,a){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Y0(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function cf(r,s,a,h,d,g,E,I,x){return r=new Y0(r,s,a,I,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(g),r}function J0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function $g(r){if(!r)return ei;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return ym(r,a,s)}return s}function qg(r,s,a,h,d,g,E,I,x){return r=cf(a,h,!0,r,d,g,E,I,x),r.context=$g(null),a=r.current,h=Xt(),d=ai(a),g=Vr(h,d),g.callback=s??null,ri(a,g,d),r.current.lanes=d,Wr(r,d,h),on(r,h),r}function xu(r,s,a,h){var d=s.current,g=Xt(),E=ai(d);return a=$g(a),s.context===null?s.context=a:s.pendingContext=a,s=Vr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ri(d,s,E),r!==null&&(Gn(r,d,E,g),ou(r,d,E)),E}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Wg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function hf(r,s){Wg(r,s),(r=r.alternate)&&Wg(r,s)}var Hg=typeof reportError=="function"?reportError:function(r){console.error(r)};function ff(r){this._internalRoot=r}Vu.prototype.render=ff.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));xu(r,s,null,null)},Vu.prototype.unmount=ff.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zi(function(){xu(null,r,null,null)}),s[Rr]=null}};function Vu(r){this._internalRoot=r}Vu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Vl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Zn.length&&s!==0&&s<Zn[a].priority;a++);Zn.splice(a,0,r),a===0&&Ml(r)}};function df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Du(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function Z0(r,s,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var z=ku(E);g.call(z)}}var E=qg(s,h,r,0,null,!1,!1,"",Kg);return r._reactRootContainer=E,r[Rr]=E.current,ma(r.nodeType===8?r.parentNode:r),Zi(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=ku(x);I.call(z)}}var x=cf(r,0,!1,null,null,!1,!1,"",Kg);return r._reactRootContainer=x,r[Rr]=x.current,ma(r.nodeType===8?r.parentNode:r),Zi(function(){xu(s,x,a,h)}),x}function Nu(r,s,a,h,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var I=d;d=function(){var x=ku(E);I.call(x)}}xu(s,E,r,d)}else E=Z0(a,s,r,d,h);return ku(E)}xl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$r(s.pendingLanes);a!==0&&(Hr(s,a|1),on(s,qe()),!(Oe&6)&&(uo=qe()+500,ti()))}break;case 13:Zi(function(){var h=kr(r,1);if(h!==null){var d=Xt();Gn(h,r,1,d)}}),hf(r,1)}},Ms=function(r){if(r.tag===13){var s=kr(r,134217728);if(s!==null){var a=Xt();Gn(s,r,134217728,a)}hf(r,134217728)}},kl=function(r){if(r.tag===13){var s=ai(r),a=kr(r,s);if(a!==null){var h=Xt();Gn(a,r,s,h)}hf(r,s)}},Vl=function(){return ke},Dl=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},Is=function(r,s,a){switch(s){case"input":if(Bo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Xl(h);if(!d)throw Error(t(90));vs(h),Bo(h,d)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&_r(r,!!a.multiple,s,!1)}},Ni=rf,Xo=Zi;var eS={usingClientEntryPoint:!1,Events:[_a,Xs,Xl,Yn,Qo,rf]},Da={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tS={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Zo(r),r===null?null:r.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Fi=Mu.inject(tS),cn=Mu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(s))throw Error(t(200));return J0(r,s,null,a)},an.createRoot=function(r,s){if(!df(r))throw Error(t(299));var a=!1,h="",d=Hg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=cf(r,1,!1,null,null,a,!1,h,d),r[Rr]=s.current,ma(r.nodeType===8?r.parentNode:r),new ff(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Zo(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return Zi(r)},an.hydrate=function(r,s,a){if(!Du(s))throw Error(t(200));return Nu(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!df(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",E=Hg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=qg(s,null,r,1,a??null,d,!1,g,E),r[Rr]=s.current,ma(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Vu(s)},an.render=function(r,s,a){if(!Du(s))throw Error(t(200));return Nu(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Du(r))throw Error(t(40));return r._reactRootContainer?(Zi(function(){Nu(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},an.unstable_batchedUpdates=rf,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Du(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Nu(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var ty;function uS(){if(ty)return gf.exports;ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gf.exports=lS(),gf.exports}var ny;function cS(){if(ny)return Lu;ny=1;var n=uS();return Lu.createRoot=n.createRoot,Lu.hydrateRoot=n.hydrateRoot,Lu}var hS=cS();function jf({children:n}){return me.jsx("div",{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:n})}function Tv({children:n,onClick:e}){return me.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white",onClick:e,children:n})}function Sv({value:n,onChange:e,placeholder:t}){return me.jsx("textarea",{className:"w-full p-2 rounded-lg bg-purple-700 text-white resize-none",value:n,onChange:e,placeholder:t,rows:"4"})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Av=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},p)=>fe.createElement("svg",{ref:p,...dS,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Av("lucide",o),...f},[...c.map(([y,v])=>fe.createElement(y,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=(n,e)=>{const t=fe.forwardRef(({className:i,...o},l)=>fe.createElement(pS,{ref:l,iconNode:e,className:Av(`lucide-${fS(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],yS=mS("Upload",gS),Iv=fe.createContext({});function _S(n){const e=fe.useRef(null);return e.current===null&&(e.current=n()),e.current}const Cd=fe.createContext(null),Rv=fe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function vS(n=!0){const e=fe.useContext(Cd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=fe.useId();fe.useEffect(()=>{n&&o(l)},[n]);const c=fe.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const xd=typeof window<"u",wS=xd?fe.useLayoutEffect:fe.useEffect,vn=n=>n;let zf=vn;function kd(n){let e;return()=>(e===void 0&&(e=n()),e)}const To=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Mr=n=>n*1e3,Lr=n=>n/1e3,ES={skipAnimations:!1,useManualTiming:!1};function TS(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),n()),y(c)}const p={schedule:(y,v=!1,w=!1)=>{const P=w&&i?e:t;return v&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{t.delete(y),l.delete(y)},process:y=>{if(c=y,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const Ou=["read","resolveKeyframes","update","preRender","render","postRender"],SS=40;function Pv(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Ou.reduce((q,W)=>(q[W]=TS(l),q),{}),{read:f,resolveKeyframes:p,update:y,preRender:v,render:w,postRender:T}=c,P=()=>{const q=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,SS),1),o.timestamp=q,o.isProcessing=!0,f.process(o),p.process(o),y.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(P))},O=()=>{t=!0,i=!0,o.isProcessing||n(P)};return{schedule:Ou.reduce((q,W)=>{const G=c[W];return q[W]=(ne,re=!1,le=!1)=>(t||O(),G.schedule(ne,re,le)),q},{}),cancel:q=>{for(let W=0;W<Ou.length;W++)c[Ou[W]].cancel(q)},state:o,steps:c}}const{schedule:Ge,cancel:vi,state:Mt,steps:vf}=Pv(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0),Cv=fe.createContext({strict:!1}),ry={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const n in ry)So[n]={isEnabled:e=>ry[n].some(t=>!!e[t])};function AS(n){for(const e in n)So[e]={...So[e],...n[e]}}const IS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||IS.has(n)}let xv=n=>!tc(n);function RS(n){n&&(xv=e=>e.startsWith("on")?!tc(e):n(e))}try{RS(require("@emotion/is-prop-valid").default)}catch{}function PS(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(xv(o)||t===!0&&tc(o)||!e&&!tc(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function CS(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const vc=fe.createContext({});function Ja(n){return typeof n=="string"||Array.isArray(n)}function wc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Vd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dd=["initial",...Vd];function Ec(n){return wc(n.animate)||Dd.some(e=>Ja(n[e]))}function kv(n){return!!(Ec(n)||n.variants)}function xS(n,e){if(Ec(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ja(t)?t:void 0,animate:Ja(i)?i:void 0}}return n.inherit!==!1?e:{}}function kS(n){const{initial:e,animate:t}=xS(n,fe.useContext(vc));return fe.useMemo(()=>({initial:e,animate:t}),[iy(e),iy(t)])}function iy(n){return Array.isArray(n)?n.join(" "):n}const VS=Symbol.for("motionComponentSymbol");function go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function DS(n,e,t){return fe.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):go(t)&&(t.current=i))},[e])}const Nd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NS="framerAppearId",Vv="data-"+Nd(NS),{schedule:Md,cancel:QD}=Pv(queueMicrotask,!1),Dv=fe.createContext({});function MS(n,e,t,i,o){var l,c;const{visualElement:f}=fe.useContext(vc),p=fe.useContext(Cv),y=fe.useContext(Cd),v=fe.useContext(Rv).reducedMotion,w=fe.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,P=fe.useContext(Dv);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&LS(w.current,t,o,P);const O=fe.useRef(!1);fe.useInsertionEffect(()=>{T&&O.current&&T.update(t,y)});const M=t[Vv],N=fe.useRef(!!M&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,M))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,M)));return wS(()=>{T&&(O.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Md.render(T.render),N.current&&T.animationState&&T.animationState.animateChanges())}),fe.useEffect(()=>{T&&(!N.current&&T.animationState&&T.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,M)}),N.current=!1))}),T}function LS(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Nv(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&go(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}function Nv(n){if(n)return n.options.allowProjection!==!1?n.projection:Nv(n.parent)}function OS({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&AS(n);function f(y,v){let w;const T={...fe.useContext(Rv),...y,layoutId:bS(y)},{isStatic:P}=T,O=kS(y),M=i(y,P);if(!P&&xd){FS();const N=US(T);w=N.MeasureLayout,O.visualElement=MS(o,M,T,e,N.ProjectionNode)}return me.jsxs(vc.Provider,{value:O,children:[w&&O.visualElement?me.jsx(w,{visualElement:O.visualElement,...T}):null,t(o,y,DS(M,O.visualElement,v),M,P,O.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=fe.forwardRef(f);return p[VS]=o,p}function bS({layoutId:n}){const e=fe.useContext(Iv).id;return e&&n!==void 0?e+"-"+n:n}function FS(n,e){fe.useContext(Cv).strict}function US(n){const{drag:e,layout:t}=So;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const BS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ld(n){return typeof n!="string"||n.includes("-")?!1:!!(BS.indexOf(n)>-1||/[A-Z]/u.test(n))}function sy(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Od(n,e,t,i){if(typeof e=="function"){const[o,l]=sy(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=sy(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const $f=n=>Array.isArray(n),jS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),zS=n=>$f(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function Hu(n){const e=Ht(n)?n.get():n;return jS(e)?e.toValue():e}function $S({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:qS(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const Mv=n=>(e,t)=>{const i=fe.useContext(vc),o=fe.useContext(Cd),l=()=>$S(n,e,i,o);return t?l():_S(l)};function qS(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=Hu(l[T]);let{initial:c,animate:f}=n;const p=Ec(n),y=kv(n);e&&y&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const w=v?f:c;if(w&&typeof w!="boolean"&&!wc(w)){const T=Array.isArray(w)?w:[w];for(let P=0;P<T.length;P++){const O=Od(n,T[P]);if(O){const{transitionEnd:M,transition:N,...q}=O;for(const W in q){let G=q[W];if(Array.isArray(G)){const ne=v?G.length-1:0;G=G[ne]}G!==null&&(o[W]=G)}for(const W in M)o[W]=M[W]}}}return o}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(No),Lv=n=>e=>typeof e=="string"&&e.startsWith(n),bd=Lv("--"),WS=Lv("var(--"),Fd=n=>WS(n)?HS.test(n.split("/*")[0].trim()):!1,HS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ov=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Or=(n,e,t)=>t>e?e:t<n?n:t,Mo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Za={...Mo,transform:n=>Or(0,1,n)},bu={...Mo,default:1},fl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hi=fl("deg"),ur=fl("%"),we=fl("px"),KS=fl("vh"),GS=fl("vw"),oy={...ur,parse:n=>ur.parse(n)/100,transform:n=>ur.transform(n*100)},QS={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},XS={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:hi,skewX:hi,skewY:hi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Za,originX:oy,originY:oy,originZ:we},ay={...Mo,transform:Math.round},Ud={...QS,...XS,zIndex:ay,size:we,fillOpacity:Za,strokeOpacity:Za,numOctaves:ay},YS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JS=No.length;function ZS(n,e,t){let i="",o=!0;for(let l=0;l<JS;l++){const c=No[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const y=Ov(f,Ud[c]);if(!p){o=!1;const v=YS[c]||c;i+=`${v}(${y}) `}t&&(e[c]=y)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Bd(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const p in e){const y=e[p];if(ms.has(p)){c=!0;continue}else if(bd(p)){o[p]=y;continue}else{const v=Ov(y,Ud[p]);p.startsWith("origin")?(f=!0,l[p]=v):i[p]=v}}if(e.transform||(c||t?i.transform=ZS(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:y="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${y} ${v}`}}const eA={offset:"stroke-dashoffset",array:"stroke-dasharray"},tA={offset:"strokeDashoffset",array:"strokeDasharray"};function nA(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?eA:tA;n[l.offset]=we.transform(-i);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function ly(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function rA(n,e,t){const i=ly(e,n.x,n.width),o=ly(t,n.y,n.height);return`${i} ${o}`}function jd(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:p=0,...y},v,w){if(Bd(n,y,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:P,dimensions:O}=n;T.transform&&(O&&(P.transform=T.transform),delete T.transform),O&&(o!==void 0||l!==void 0||P.transform)&&(P.transformOrigin=rA(O,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),c!==void 0&&nA(T,c,f,p,!1)}const zd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bv=()=>({...zd(),attrs:{}}),$d=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Fv(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const Uv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bv(n,e,t,i){Fv(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(Uv.has(o)?o:Nd(o),e.attrs[o])}const el={};function iA(n){for(const e in n)el[e]=n[e],bd(e)&&(el[e].isCSSVariable=!0)}function jv(n,{layout:e,layoutId:t}){return ms.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!el[n]||n==="opacity")}function qd(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(Ht(o[c])||e.style&&Ht(e.style[c])||jv(c,n)||((i=t==null?void 0:t.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function zv(n,e,t){const i=qd(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=No.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function sA(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const uy=["x","y","width","height","cx","cy","r"],oA={useVisualState:Mv({scrapeMotionValuesFromProps:zv,createRenderState:bv,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(ms.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<uy.length;f++){const p=uy[f];n[p]!==e[p]&&(c=!0)}c&&Ge.read(()=>{sA(t,i),Ge.render(()=>{jd(i,o,$d(t.tagName),n.transformTemplate),Bv(t,i)})})}})},aA={useVisualState:Mv({scrapeMotionValuesFromProps:qd,createRenderState:zd})};function $v(n,e,t){for(const i in e)!Ht(e[i])&&!jv(i,t)&&(n[i]=e[i])}function lA({transformTemplate:n},e){return fe.useMemo(()=>{const t=zd();return Bd(t,e,n),Object.assign({},t.vars,t.style)},[e])}function uA(n,e){const t=n.style||{},i={};return $v(i,t,n),Object.assign(i,lA(n,e)),i}function cA(n,e){const t={},i=uA(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function hA(n,e,t,i){const o=fe.useMemo(()=>{const l=bv();return jd(l,e,$d(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};$v(l,n.style,n),o.style={...l,...o.style}}return o}function fA(n=!1){return(t,i,o,{latestValues:l},c)=>{const p=(Ld(t)?hA:cA)(i,l,c,t),y=PS(i,typeof t=="string",n),v=t!==fe.Fragment?{...y,...p,ref:o}:{},{children:w}=i,T=fe.useMemo(()=>Ht(w)?w.get():w,[w]);return fe.createElement(t,{...v,children:T})}}function dA(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Ld(i)?oA:aA,preloadedFeatures:n,useRender:fA(o),createVisualElement:e,Component:i};return OS(c)}}function qv(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Tc(n,e,t){const i=n.getProps();return Od(i,e,t!==void 0?t:i.custom,n)}const pA=kd(()=>window.ScrollTimeline!==void 0);class mA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(pA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gA extends mA{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Wd(n,e){return n?n[e]||n.default||n:void 0}const qf=2e4;function Wv(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<qf;)e+=t,i=n.next(e);return e>=qf?1/0:e}function Hd(n){return typeof n=="function"}function cy(n,e){n.timeline=e,n.onfinish=null}const Kd=n=>Array.isArray(n)&&typeof n[0]=="number",yA={linearEasing:void 0};function _A(n,e){const t=kd(n);return()=>{var i;return(i=yA[e])!==null&&i!==void 0?i:t()}}const nc=_A(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hv=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(To(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function Kv(n){return!!(typeof n=="function"&&nc()||!n||typeof n=="string"&&(n in Wf||nc())||Kd(n)||Array.isArray(n)&&n.every(Kv))}const Oa=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Wf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function Gv(n,e){if(n)return typeof n=="function"&&nc()?Hv(n,e):Kd(n)?Oa(n):Array.isArray(n)?n.map(t=>Gv(t,e)||Wf.easeOut):Wf[n]}const Qn={x:!1,y:!1};function Qv(){return Qn.x||Qn.y}function vA(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function Xv(n,e){const t=vA(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function hy(n){return!(n.pointerType==="touch"||Qv())}function wA(n,e,t={}){const[i,o,l]=Xv(n,t),c=f=>{if(!hy(f))return;const{target:p}=f,y=e(p,f);if(typeof y!="function"||!p)return;const v=w=>{hy(w)&&(y(w),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const Yv=(n,e)=>e?n===e?!0:Yv(n,e.parentElement):!1,Gd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,EA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TA(n){return EA.has(n.tagName)||n.tabIndex!==-1}const ba=new WeakSet;function fy(n){return e=>{e.key==="Enter"&&n(e)}}function wf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SA=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=fy(()=>{if(ba.has(t))return;wf(t,"down");const o=fy(()=>{wf(t,"up")}),l=()=>wf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function dy(n){return Gd(n)&&!Qv()}function AA(n,e,t={}){const[i,o,l]=Xv(n,t),c=f=>{const p=f.currentTarget;if(!dy(f)||ba.has(p))return;ba.add(p);const y=e(p,f),v=(P,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!dy(P)||!ba.has(p))&&(ba.delete(p),typeof y=="function"&&y(P,{success:O}))},w=P=>{v(P,t.useGlobalTarget||Yv(p,P.target))},T=P=>{v(P,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!TA(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",y=>SA(y,o),o)}),l}function IA(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}const Jv=new Set(["width","height","top","left","right","bottom",...No]);let Ku;function RA(){Ku=void 0}const cr={now:()=>(Ku===void 0&&cr.set(Mt.isProcessing||ES.useManualTiming?Mt.timestamp:performance.now()),Ku),set:n=>{Ku=n,queueMicrotask(RA)}};function Qd(n,e){n.indexOf(e)===-1&&n.push(e)}function Xd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Yd{constructor(){this.subscriptions=[]}add(e){return Qd(this.subscriptions,e),()=>Xd(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zv(n,e){return e?n*(1e3/e):0}const py=30,PA=n=>!isNaN(parseFloat(n));class CA{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=cr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Yd);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>py)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,py);return Zv(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tl(n,e){return new CA(n,e)}function xA(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tl(t))}function kA(n,e){const t=Tc(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=zS(l[c]);xA(n,c,f)}}function VA(n){return!!(Ht(n)&&n.add)}function Hf(n,e){const t=n.getValue("willChange");if(VA(t))return t.add(e)}function ew(n){return n.props[Vv]}const tw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,DA=1e-7,NA=12;function MA(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=tw(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>DA&&++f<NA);return c}function dl(n,e,t,i){if(n===e&&t===i)return vn;const o=l=>MA(l,0,1,n,t);return l=>l===0||l===1?l:tw(o(l),e,i)}const nw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rw=n=>e=>1-n(1-e),iw=dl(.33,1.53,.69,.99),Jd=rw(iw),sw=nw(Jd),ow=n=>(n*=2)<1?.5*Jd(n):.5*(2-Math.pow(2,-10*(n-1))),Zd=n=>1-Math.sin(Math.acos(n)),aw=rw(Zd),lw=nw(Zd),uw=n=>/^0[^.\s]+$/u.test(n);function LA(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||uw(n):!0}const $a=n=>Math.round(n*1e5)/1e5,ep=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OA(n){return n==null}const bA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tp=(n,e)=>t=>!!(typeof t=="string"&&bA.test(t)&&t.startsWith(n)||e&&!OA(t)&&Object.prototype.hasOwnProperty.call(t,e)),cw=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(ep);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},FA=n=>Or(0,255,n),Ef={...Mo,transform:n=>Math.round(FA(n))},as={test:tp("rgb","red"),parse:cw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Ef.transform(n)+", "+Ef.transform(e)+", "+Ef.transform(t)+", "+$a(Za.transform(i))+")"};function UA(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Kf={test:tp("#"),parse:UA,transform:as.transform},yo={test:tp("hsl","hue"),parse:cw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ur.transform($a(e))+", "+ur.transform($a(t))+", "+$a(Za.transform(i))+")"},$t={test:n=>as.test(n)||Kf.test(n)||yo.test(n),parse:n=>as.test(n)?as.parse(n):yo.test(n)?yo.parse(n):Kf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?as.transform(n):yo.transform(n)},BA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jA(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ep))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(BA))===null||t===void 0?void 0:t.length)||0)>0}const hw="number",fw="color",zA="var",$A="var(",my="${}",qA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(qA,p=>($t.test(p)?(i.color.push(l),o.push(fw),t.push($t.parse(p))):p.startsWith($A)?(i.var.push(l),o.push(zA),t.push(p)):(i.number.push(l),o.push(hw),t.push(parseFloat(p))),++l,my)).split(my);return{values:t,split:f,indexes:i,types:o}}function dw(n){return nl(n).values}function pw(n){const{split:e,types:t}=nl(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===hw?l+=$a(o[c]):f===fw?l+=$t.transform(o[c]):l+=o[c]}return l}}const WA=n=>typeof n=="number"?0:n;function HA(n){const e=dw(n);return pw(n)(e.map(WA))}const wi={test:jA,parse:dw,createTransformer:pw,getAnimatableNone:HA},KA=new Set(["brightness","contrast","saturate","opacity"]);function GA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(ep)||[];if(!i)return n;const o=t.replace(i,"");let l=KA.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const QA=/\b([a-z-]*)\(.*?\)/gu,Gf={...wi,getAnimatableNone:n=>{const e=n.match(QA);return e?e.map(GA).join(" "):n}},XA={...Ud,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Gf,WebkitFilter:Gf},np=n=>XA[n];function mw(n,e){let t=np(n);return t!==Gf&&(t=wi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const YA=new Set(["auto","none","0"]);function JA(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!YA.has(l)&&nl(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=mw(t,o)}const gy=n=>n===Mo||n===we,yy=(n,e)=>parseFloat(n.split(", ")[e]),_y=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return yy(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?yy(l[1],n):0}},ZA=new Set(["x","y","z"]),eI=No.filter(n=>!ZA.has(n));function tI(n){const e=[];return eI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Ao={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:_y(4,13),y:_y(5,14)};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const us=new Set;let Qf=!1,Xf=!1;function gw(){if(Xf){const n=Array.from(us).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=tI(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xf=!1,Qf=!1,us.forEach(n=>n.complete()),us.clear()}function yw(){us.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Xf=!0)})}function nI(){yw(),gw()}class rp{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(us.add(this),Qf||(Qf=!0,Ge.read(yw),Ge.resolveKeyframes(gw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),us.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,us.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _w=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),rI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iI(n){const e=rI.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function vw(n,e,t=1){const[i,o]=iI(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return _w(c)?parseFloat(c):c}return Fd(o)?vw(o,e,t+1):o}const ww=n=>e=>e.test(n),sI={test:n=>n==="auto",parse:n=>n},Ew=[Mo,we,ur,hi,GS,KS,sI],vy=n=>Ew.find(ww(n));class Tw extends rp{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let y=e[p];if(typeof y=="string"&&(y=y.trim(),Fd(y))){const v=vw(y,t.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Jv.has(i)||e.length!==2)return;const[o,l]=e,c=vy(o),f=vy(l);if(c!==f)if(gy(c)&&gy(f))for(let p=0;p<e.length;p++){const y=e[p];typeof y=="string"&&(e[p]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)LA(e[o])&&i.push(o);i.length&&JA(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ao[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=Ao[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,y])=>{t.getValue(p).set(y)}),this.resolveNoneKeyframes()}}const wy=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wi.test(n)||n==="0")&&!n.startsWith("url("));function oI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function aI(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=wy(o,e),f=wy(l,e);return!c||!f?!1:oI(n)||(t==="spring"||Hd(t))&&i}const lI=n=>n!==null;function Sc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(lI),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const uI=40;class Sw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=cr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:p,isGenerator:y}=this.options;if(!y&&!aI(e,i,o,l))if(c)this.options.duration=0;else{p&&p(Sc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function Tf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=Tf(p,f,n+1/3),l=Tf(p,f,n),c=Tf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function rc(n,e){return t=>t>0?e:n}const Sf=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},hI=[Kf,as,yo],fI=n=>hI.find(e=>e.test(n));function Ey(n){const e=fI(n);if(!e)return!1;let t=e.parse(n);return e===yo&&(t=cI(t)),t}const Ty=(n,e)=>{const t=Ey(n),i=Ey(e);if(!t||!i)return rc(n,e);const o={...t};return l=>(o.red=Sf(t.red,i.red,l),o.green=Sf(t.green,i.green,l),o.blue=Sf(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),as.transform(o))},dI=(n,e)=>t=>e(n(t)),pl=(...n)=>n.reduce(dI),Yf=new Set(["none","hidden"]);function pI(n,e){return Yf.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function mI(n,e){return t=>tt(n,e,t)}function ip(n){return typeof n=="number"?mI:typeof n=="string"?Fd(n)?rc:$t.test(n)?Ty:_I:Array.isArray(n)?Aw:typeof n=="object"?$t.test(n)?Ty:gI:rc}function Aw(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>ip(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function gI(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=ip(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function yI(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[c]++}return i}const _I=(n,e)=>{const t=wi.createTransformer(e),i=nl(n),o=nl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Yf.has(n)&&!o.values.length||Yf.has(e)&&!i.values.length?pI(n,e):pl(Aw(yI(i,o),o.values),t):rc(n,e)};function Iw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):ip(n)(n,e)}const vI=5;function Rw(n,e,t){const i=Math.max(e-vI,0);return Zv(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function wI({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,c=1-e;c=Or(it.minDamping,it.maxDamping,c),n=Or(it.minDuration,it.maxDuration,Lr(n)),c<1?(o=y=>{const v=y*c,w=v*n,T=v-t,P=Jf(y,c),O=Math.exp(-w);return Sy-T/P*O},l=y=>{const w=y*c*n,T=w*t+t,P=Math.pow(c,2)*Math.pow(y,2)*n,O=Math.exp(-w),M=Jf(Math.pow(y,2),c);return(-o(y)+Sy>0?-1:1)*((T-P)*O)/M}):(o=y=>{const v=Math.exp(-y*n),w=(y-t)*n+1;return-.001+v*w},l=y=>{const v=Math.exp(-y*n),w=(t-y)*(n*n);return v*w});const f=5/n,p=TI(o,l,f);if(n=Mr(n),isNaN(p))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const y=Math.pow(p,2)*i;return{stiffness:y,damping:c*2*Math.sqrt(i*y),duration:n}}}const EI=12;function TI(n,e,t){let i=t;for(let o=1;o<EI;o++)i=i-n(i)/e(i);return i}function Jf(n,e){return n*Math.sqrt(1-e*e)}const SI=["duration","bounce"],AI=["stiffness","damping","mass"];function Ay(n,e){return e.some(t=>n[t]!==void 0)}function II(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!Ay(n,AI)&&Ay(n,SI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Or(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=wI(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function Pw(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:y,mass:v,duration:w,velocity:T,isResolvedFromDuration:P}=II({...t,velocity:-Lr(t.velocity||0)}),O=T||0,M=y/(2*Math.sqrt(p*v)),N=c-l,q=Lr(Math.sqrt(p/v)),W=Math.abs(N)<5;i||(i=W?it.restSpeed.granular:it.restSpeed.default),o||(o=W?it.restDelta.granular:it.restDelta.default);let G;if(M<1){const re=Jf(q,M);G=le=>{const k=Math.exp(-M*q*le);return c-k*((O+M*q*N)/re*Math.sin(re*le)+N*Math.cos(re*le))}}else if(M===1)G=re=>c-Math.exp(-q*re)*(N+(O+q*N)*re);else{const re=q*Math.sqrt(M*M-1);G=le=>{const k=Math.exp(-M*q*le),A=Math.min(re*le,300);return c-k*((O+M*q*N)*Math.sinh(A)+re*N*Math.cosh(A))/re}}const ne={calculatedDuration:P&&w||null,next:re=>{const le=G(re);if(P)f.done=re>=w;else{let k=0;M<1&&(k=re===0?Mr(O):Rw(G,re,le));const A=Math.abs(k)<=i,R=Math.abs(c-le)<=o;f.done=A&&R}return f.value=f.done?c:le,f},toString:()=>{const re=Math.min(Wv(ne),qf),le=Hv(k=>ne.next(re*k).value,re,30);return re+"ms "+le}};return ne}function Iy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:y=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},P=A=>f!==void 0&&A<f||p!==void 0&&A>p,O=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let M=t*e;const N=w+M,q=c===void 0?N:c(N);q!==N&&(M=q-w);const W=A=>-M*Math.exp(-A/i),G=A=>q+W(A),ne=A=>{const R=W(A),V=G(A);T.done=Math.abs(R)<=y,T.value=T.done?q:V};let re,le;const k=A=>{P(T.value)&&(re=A,le=Pw({keyframes:[T.value,O(T.value)],velocity:Rw(G,A,T.value),damping:o,stiffness:l,restDelta:y,restSpeed:v}))};return k(0),{calculatedDuration:null,next:A=>{let R=!1;return!le&&re===void 0&&(R=!0,ne(A),k(A)),re!==void 0&&A>=re?le.next(A-re):(!R&&ne(A),T)}}}const RI=dl(.42,0,1,1),PI=dl(0,0,.58,1),Cw=dl(.42,0,.58,1),CI=n=>Array.isArray(n)&&typeof n[0]!="number",Ry={linear:vn,easeIn:RI,easeInOut:Cw,easeOut:PI,circIn:Zd,circInOut:lw,circOut:aw,backIn:Jd,backInOut:sw,backOut:iw,anticipate:ow},Py=n=>{if(Kd(n)){zf(n.length===4);const[e,t,i,o]=n;return dl(e,t,i,o)}else if(typeof n=="string")return zf(Ry[n]!==void 0),Ry[n];return n};function xI(n,e,t){const i=[],o=t||Iw,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||vn:e;f=pl(p,f)}i.push(f)}return i}function kI(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(zf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=xI(e,i,o),p=f.length,y=v=>{if(c&&v<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=To(n[w],n[w+1],v);return f[w](T)};return t?v=>y(Or(n[0],n[l-1],v)):y}function VI(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=To(0,e,i);n.push(tt(t,1,o))}}function DI(n){const e=[0];return VI(e,n.length-1),e}function NI(n,e){return n.map(t=>t*e)}function MI(n,e){return n.map(()=>e||Cw).splice(0,n.length-1)}function ic({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=CI(i)?i.map(Py):Py(i),l={done:!1,value:e[0]},c=NI(t&&t.length===e.length?t:DI(e),n),f=kI(c,e,{ease:Array.isArray(o)?o:MI(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const LI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ge.update(e,!0),stop:()=>vi(e),now:()=>Mt.isProcessing?Mt.timestamp:cr.now()}},OI={decay:Iy,inertia:Iy,tween:ic,keyframes:ic,spring:Pw},bI=n=>n/100;class sp extends Sw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||rp,f=(p,y)=>this.onKeyframesResolved(p,y);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=Hd(t)?t:OI[t]||ic;let p,y;f!==ic&&typeof e[0]!="number"&&(p=pl(bI,Iw(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});l==="mirror"&&(y=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Wv(v));const{calculatedDuration:w}=v,T=w+o,P=T*(i+1)-o;return{generator:v,mirroredGenerator:y,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:P}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:y,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:P,repeatType:O,repeatDelay:M,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-T*(this.speed>=0?1:-1),W=this.speed>=0?q<0:q>v;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let G=this.currentTime,ne=l;if(P){const A=Math.min(this.currentTime,v)/w;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,P+1),!!(R%2)&&(O==="reverse"?(V=1-V,M&&(V-=M/w)):O==="mirror"&&(ne=c)),G=Or(0,1,V)*w}const re=W?{done:!1,value:p[0]}:ne.next(G);f&&(re.value=f(re.value));let{done:le}=re;!W&&y!==null&&(le=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return k&&o!==void 0&&(re.value=Sc(p,this.options,o)),N&&N(re.value),k&&this.finish(),re}get duration(){const{resolved:e}=this;return e?Lr(e.calculatedDuration):0}get time(){return Lr(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LI,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FI=new Set(["opacity","clipPath","filter","transform"]);function UI(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:p}={}){const y={[e]:t};p&&(y.offset=p);const v=Gv(f,o);return Array.isArray(v)&&(y.easing=v),n.animate(y,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const BI=kd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sc=10,jI=2e4;function zI(n){return Hd(n.type)||n.type==="spring"||!Kv(n.ease)}function $I(n,e){const t=new sp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<jI;)i=t.sample(l),o.push(i.value),l+=sc;return{times:void 0,keyframes:o,duration:l-sc,ease:"linear"}}const xw={anticipate:ow,backInOut:sw,circInOut:lw};function qI(n){return n in xw}class Cy extends Sw{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Tw(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:p,startTime:y}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&nc()&&qI(l)&&(l=xw[l]),zI(this.options)){const{onComplete:w,onUpdate:T,motionValue:P,element:O,...M}=this.options,N=$I(e,M);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,o=N.times,l=N.ease,c="keyframes"}const v=UI(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return v.startTime=y??this.calcStartTime(),this.pendingTimeline?(cy(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;f.set(Sc(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Lr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Lr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return vn;const{animation:i}=t;cy(i,e)}return vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:y,onUpdate:v,onComplete:w,element:T,...P}=this.options,O=new sp({...P,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),M=Mr(this.time);y.setWithVelocity(O.sample(M-sc).value,O.sample(M).value,sc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=t.owner.getProps();return BI()&&i&&FI.has(i)&&!p&&!y&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const WI={type:"spring",stiffness:500,damping:25,restSpeed:10},HI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KI={type:"keyframes",duration:.8},GI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QI=(n,{keyframes:e})=>e.length>2?KI:ms.has(n)?n.startsWith("scale")?HI(e[1]):WI:GI;function XI({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:y,...v}){return!!Object.keys(v).length}const op=(n,e,t,i={},o,l)=>c=>{const f=Wd(i,n)||{},p=f.delay||i.delay||0;let{elapsed:y=0}=i;y=y-Mr(p);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};XI(f)||(v={...v,...QI(n,v)}),v.duration&&(v.duration=Mr(v.duration)),v.repeatDelay&&(v.repeatDelay=Mr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=Sc(v.keyframes,f);if(T!==void 0)return Ge.update(()=>{v.onUpdate(T),v.onComplete()}),new gA([])}return!l&&Cy.supports(v)?new Cy(v):new sp(v)};function YI({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function kw(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(c=i);const y=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),P=p[w];if(P===void 0||v&&YI(v,w))continue;const O={delay:t,...Wd(c||{},w)};let M=!1;if(window.MotionHandoffAnimation){const q=ew(n);if(q){const W=window.MotionHandoffAnimation(q,w,Ge);W!==null&&(O.startTime=W,M=!0)}}Hf(n,w),T.start(op(w,T,P,n.shouldReduceMotion&&Jv.has(w)?{type:!1}:O,n,M));const N=T.animation;N&&y.push(N)}return f&&Promise.all(y).then(()=>{Ge.update(()=>{f&&kA(n,f)})}),y}function Zf(n,e,t={}){var i;const o=Tc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(kw(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=l;return JI(n,e,v+y,w,T,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[y,v]=p==="beforeChildren"?[c,f]:[f,c];return y().then(()=>v())}else return Promise.all([c(),f(t.delay)])}function JI(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,p=o===1?(y=0)=>y*i:(y=0)=>f-y*i;return Array.from(n.variantChildren).sort(ZI).forEach((y,v)=>{y.notify("AnimationStart",e),c.push(Zf(y,e,{...l,delay:t+p(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(c)}function ZI(n,e){return n.sortNodePosition(e)}function eR(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Zf(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=Zf(n,e,t);else{const o=typeof e=="function"?Tc(n,e,t.custom):e;i=Promise.all(kw(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const tR=Dd.length;function Vw(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Vw(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<tR;t++){const i=Dd[t],o=n.props[i];(Ja(o)||o===!1)&&(e[i]=o)}return e}const nR=[...Vd].reverse(),rR=Vd.length;function iR(n){return e=>Promise.all(e.map(({animation:t,options:i})=>eR(n,t,i)))}function sR(n){let e=iR(n),t=xy(),i=!0;const o=p=>(y,v)=>{var w;const T=Tc(n,v,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:P,transitionEnd:O,...M}=T;y={...y,...M,...O}}return y};function l(p){e=p(n)}function c(p){const{props:y}=n,v=Vw(n.parent)||{},w=[],T=new Set;let P={},O=1/0;for(let N=0;N<rR;N++){const q=nR[N],W=t[q],G=y[q]!==void 0?y[q]:v[q],ne=Ja(G),re=q===p?W.isActive:null;re===!1&&(O=N);let le=G===v[q]&&G!==y[q]&&ne;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),W.protectedKeys={...P},!W.isActive&&re===null||!G&&!W.prevProp||wc(G)||typeof G=="boolean")continue;const k=oR(W.prevProp,G);let A=k||q===p&&W.isActive&&!le&&ne||N>O&&ne,R=!1;const V=Array.isArray(G)?G:[G];let L=V.reduce(o(q),{});re===!1&&(L={});const{prevResolvedValues:F={}}=W,C={...F,...L},Qe=Ae=>{A=!0,T.has(Ae)&&(R=!0,T.delete(Ae)),W.needsAnimating[Ae]=!0;const ee=n.getValue(Ae);ee&&(ee.liveStyle=!1)};for(const Ae in C){const ee=L[Ae],de=F[Ae];if(P.hasOwnProperty(Ae))continue;let ie=!1;$f(ee)&&$f(de)?ie=!qv(ee,de):ie=ee!==de,ie?ee!=null?Qe(Ae):T.add(Ae):ee!==void 0&&T.has(Ae)?Qe(Ae):W.protectedKeys[Ae]=!0}W.prevProp=G,W.prevResolvedValues=L,W.isActive&&(P={...P,...L}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(le&&k)||R)&&w.push(...V.map(Ae=>({animation:Ae,options:{type:q}})))}if(T.size){const N={};T.forEach(q=>{const W=n.getBaseTarget(q),G=n.getValue(q);G&&(G.liveStyle=!0),N[q]=W??null}),w.push({animation:N})}let M=!!w.length;return i&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(w):Promise.resolve()}function f(p,y){var v;if(t[p].isActive===y)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var P;return(P=T.animationState)===null||P===void 0?void 0:P.setActive(p,y)}),t[p].isActive=y;const w=c(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=xy(),i=!0}}}function oR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!qv(e,n):!1}function rs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xy(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aR extends Ri{constructor(e){super(e),e.animationState||(e.animationState=sR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lR=0;class uR extends Ri{constructor(){super(...arguments),this.id=lR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cR={animation:{Feature:aR},exit:{Feature:uR}};function rl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function ml(n){return{point:{x:n.pageX,y:n.pageY}}}const hR=n=>e=>Gd(e)&&n(e,ml(e));function qa(n,e,t,i){return rl(n,e,hR(t),i)}const ky=(n,e)=>Math.abs(n-e);function fR(n,e){const t=ky(n.x,e.x),i=ky(n.y,e.y);return Math.sqrt(t**2+i**2)}class Dw{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=If(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,P=fR(w.offset,{x:0,y:0})>=3;if(!T&&!P)return;const{point:O}=w,{timestamp:M}=Mt;this.history.push({...O,timestamp:M});const{onStart:N,onMove:q}=this.handlers;T||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Af(T,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:P,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=If(w.type==="pointercancel"?this.lastMoveEventInfo:Af(T,this.transformPagePoint),this.history);this.startEvent&&P&&P(w,N),O&&O(w,N)},!Gd(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=ml(e),f=Af(c,this.transformPagePoint),{point:p}=f,{timestamp:y}=Mt;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=t;v&&v(e,If(f,this.history)),this.removeListeners=pl(qa(this.contextWindow,"pointermove",this.handlePointerMove),qa(this.contextWindow,"pointerup",this.handlePointerUp),qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function Af(n,e){return e?{point:e(n.point)}:n}function Vy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function If({point:n},e){return{point:n,delta:Vy(n,Nw(e)),offset:Vy(n,dR(e)),velocity:pR(e,.1)}}function dR(n){return n[0]}function Nw(n){return n[n.length-1]}function pR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Nw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Mr(e)));)t--;if(!i)return{x:0,y:0};const l=Lr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Mw=1e-4,mR=1-Mw,gR=1+Mw,Lw=.01,yR=0-Lw,_R=0+Lw;function Jt(n){return n.max-n.min}function vR(n,e,t){return Math.abs(n-e)<=t}function Dy(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Jt(t)/Jt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=mR&&n.scale<=gR||isNaN(n.scale))&&(n.scale=1),(n.translate>=yR&&n.translate<=_R||isNaN(n.translate))&&(n.translate=0)}function Wa(n,e,t,i){Dy(n.x,e.x,t.x,i?i.originX:void 0),Dy(n.y,e.y,t.y,i?i.originY:void 0)}function Ny(n,e,t){n.min=t.min+e.min,n.max=n.min+Jt(e)}function wR(n,e,t){Ny(n.x,e.x,t.x),Ny(n.y,e.y,t.y)}function My(n,e,t){n.min=e.min-t.min,n.max=n.min+Jt(e)}function Ha(n,e,t){My(n.x,e.x,t.x),My(n.y,e.y,t.y)}function ER(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function Ly(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function TR(n,{top:e,left:t,bottom:i,right:o}){return{x:Ly(n.x,t,o),y:Ly(n.y,e,i)}}function Oy(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function SR(n,e){return{x:Oy(n.x,e.x),y:Oy(n.y,e.y)}}function AR(n,e){let t=.5;const i=Jt(n),o=Jt(e);return o>i?t=To(e.min,e.max-i,n.min):i>o&&(t=To(n.min,n.max-o,e.min)),Or(0,1,t)}function IR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ed=.35;function RR(n=ed){return n===!1?n=0:n===!0&&(n=ed),{x:by(n,"left","right"),y:by(n,"top","bottom")}}function by(n,e,t){return{min:Fy(n,e),max:Fy(n,t)}}function Fy(n,e){return typeof n=="number"?n:n[e]||0}const Uy=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Uy(),y:Uy()}),By=()=>({min:0,max:0}),ut=()=>({x:By(),y:By()});function Nn(n){return[n("x"),n("y")]}function Ow({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function PR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function CR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Rf(n){return n===void 0||n===1}function td({scale:n,scaleX:e,scaleY:t}){return!Rf(n)||!Rf(e)||!Rf(t)}function is(n){return td(n)||bw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function bw(n){return jy(n.x)||jy(n.y)}function jy(n){return n&&n!=="0%"}function oc(n,e,t){const i=n-t,o=e*i;return t+o}function zy(n,e,t,i,o){return o!==void 0&&(n=oc(n,o,i)),oc(n,t,i)+e}function nd(n,e=0,t=1,i,o){n.min=zy(n.min,e,t,i,o),n.max=zy(n.max,e,t,i,o)}function Fw(n,{x:e,y:t}){nd(n.x,e.translate,e.scale,e.originPoint),nd(n.y,t.translate,t.scale,t.originPoint)}const $y=.999999999999,qy=1.0000000000001;function xR(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Fw(n,c)),i&&is(l.latestValues)&&wo(n,l.latestValues))}e.x<qy&&e.x>$y&&(e.x=1),e.y<qy&&e.y>$y&&(e.y=1)}function vo(n,e){n.min=n.min+e,n.max=n.max+e}function Wy(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);nd(n,e,t,l,i)}function wo(n,e){Wy(n.x,e.x,e.scaleX,e.scale,e.originX),Wy(n.y,e.y,e.scaleY,e.scale,e.originY)}function Uw(n,e){return Ow(CR(n.getBoundingClientRect(),e))}function kR(n,e,t){const i=Uw(n,t),{scroll:o}=e;return o&&(vo(i.x,o.offset.x),vo(i.y,o.offset.y)),i}const Bw=({current:n})=>n?n.ownerDocument.defaultView:null,VR=new WeakMap;class DR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ml(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:P,onDragStart:O}=this.getProps();if(T&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IA(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(N=>{let q=this.getAxisMotionValue(N).get()||0;if(ur.test(q)){const{projection:W}=this.visualElement;if(W&&W.layout){const G=W.layout.layoutBox[N];G&&(q=Jt(G)*(parseFloat(q)/100))}}this.originPoint[N]=q}),O&&Ge.postRender(()=>O(v,w)),Hf(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},c=(v,w)=>{const{dragPropagation:T,dragDirectionLock:P,onDirectionLock:O,onDrag:M}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:N}=w;if(P&&this.currentDirection===null){this.currentDirection=NR(N),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,N),this.updateAxis("y",w.point,N),this.visualElement.render(),M&&M(v,w)},f=(v,w)=>this.stop(v,w),p=()=>Nn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Dw(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Bw(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ge.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!Fu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=ER(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=TR(o.layoutBox,t):this.constraints=!1,this.elastic=RR(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Nn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=IR(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!go(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=kR(i,o.root,this.visualElement.getTransformPagePoint());let c=SR(o.layout.layoutBox,l);if(t){const f=t(PR(c));this.hasMutatedConstraints=!!f,f&&(c=Ow(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},y=Nn(v=>{if(!Fu(v,t,this.currentDirection))return;let w=p[v]||{};c&&(w={min:0,max:0});const T=o?200:1e6,P=o?40:1e7,O={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,O)});return Promise.all(y).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Hf(this.visualElement,e),i.start(op(e,i,0,t,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nn(t=>{const{drag:i}=this.getProps();if(!Fu(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-tt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!go(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=AR({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(c=>{if(!Fu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:y}=this.constraints[c];f.set(tt(p,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;VR.set(this.visualElement,this);const e=this.visualElement.current,t=qa(e,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ge.read(i);const c=rl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Nn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=p[v].translate,w.set(w.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ed,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Fu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function NR(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MR extends Ri{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new DR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hy=n=>(e,t)=>{n&&Ge.postRender(()=>n(e,t))};class LR extends Ri{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new Dw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Hy(e),onStart:Hy(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Ge.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ky(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ma={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=Ky(n,e.target.x),i=Ky(n,e.target.y);return`${t}% ${i}%`}},OR={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=wi.parse(n);if(o.length>5)return i;const l=wi.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const y=tt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),l(o)}};class bR extends fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;iA(FR),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ge.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Md.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jw(n){const[e,t]=vS(),i=fe.useContext(Iv);return me.jsx(bR,{...n,layoutGroup:i,switchLayoutGroup:fe.useContext(Dv),isPresent:e,safeToRemove:t})}const FR={borderRadius:{...Ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ma,borderTopRightRadius:Ma,borderBottomLeftRadius:Ma,borderBottomRightRadius:Ma,boxShadow:OR};function UR(n,e,t){const i=Ht(n)?n:tl(n);return i.start(op("",i,e,t)),i.animation}function BR(n){return n instanceof SVGElement&&n.tagName!=="svg"}const jR=(n,e)=>n.depth-e.depth;class zR{constructor(){this.children=[],this.isDirty=!1}add(e){Qd(this.children,e),this.isDirty=!0}remove(e){Xd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jR),this.isDirty=!1,this.children.forEach(e)}}function $R(n,e){const t=cr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(vi(i),n(l-e))};return Ge.read(i,!0),()=>vi(i)}const zw=["TopLeft","TopRight","BottomLeft","BottomRight"],qR=zw.length,Gy=n=>typeof n=="string"?parseFloat(n):n,Qy=n=>typeof n=="number"||we.test(n);function WR(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,HR(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,KR(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<qR;c++){const f=`border${zw[c]}Radius`;let p=Xy(e,f),y=Xy(t,f);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||Qy(p)===Qy(y)?(n[f]=Math.max(tt(Gy(p),Gy(y),i),0),(ur.test(y)||ur.test(p))&&(n[f]+="%")):n[f]=y}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function Xy(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const HR=$w(0,.5,aw),KR=$w(.5,.95,vn);function $w(n,e,t){return i=>i<n?0:i>e?1:t(To(n,e,i))}function Yy(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){Yy(n.x,e.x),Yy(n.y,e.y)}function Jy(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Zy(n,e,t,i,o){return n-=e,n=oc(n,1/t,i),o!==void 0&&(n=oc(n,1/o,i)),n}function GR(n,e=0,t=1,i=.5,o,l=n,c=n){if(ur.test(e)&&(e=parseFloat(e),e=tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=tt(l.min,l.max,i);n===l&&(f-=e),n.min=Zy(n.min,e,t,f,o),n.max=Zy(n.max,e,t,f,o)}function e_(n,e,[t,i,o],l,c){GR(n,e[t],e[i],e[o],e.scale,l,c)}const QR=["x","scaleX","originX"],XR=["y","scaleY","originY"];function t_(n,e,t,i){e_(n.x,e,QR,t?t.x:void 0,i?i.x:void 0),e_(n.y,e,XR,t?t.y:void 0,i?i.y:void 0)}function n_(n){return n.translate===0&&n.scale===1}function qw(n){return n_(n.x)&&n_(n.y)}function r_(n,e){return n.min===e.min&&n.max===e.max}function YR(n,e){return r_(n.x,e.x)&&r_(n.y,e.y)}function i_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ww(n,e){return i_(n.x,e.x)&&i_(n.y,e.y)}function s_(n){return Jt(n.x)/Jt(n.y)}function o_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class JR{constructor(){this.members=[]}add(e){Qd(this.members,e),e.scheduleRender()}remove(e){if(Xd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZR(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:y,rotate:v,rotateX:w,rotateY:T,skewX:P,skewY:O}=t;y&&(i=`perspective(${y}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),P&&(i+=`skewX(${P}deg) `),O&&(i+=`skewY(${O}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fa=typeof window<"u"&&window.MotionDebug!==void 0,Pf=["","X","Y","Z"],e1={visibility:"hidden"},a_=1e3;let t1=0;function Cf(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Hw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ew(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ge,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Hw(i)}function Kw({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=t1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fa&&(ss.totalNodes=ss.resolvedTargetDeltas=ss.recalculatedProjection=0),this.nodes.forEach(i1),this.nodes.forEach(u1),this.nodes.forEach(c1),this.nodes.forEach(s1),Fa&&window.MotionDebug.record(ss)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new zR)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yd),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BR(c),this.instance=c;const{layoutId:p,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(y||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=$R(T,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(u_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||y)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeLayoutChanged:P,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||v.getDefaultTransition()||m1,{onLayoutAnimationStart:N,onLayoutAnimationComplete:q}=v.getProps(),W=!this.targetLayout||!Ww(this.targetLayout,O),G=!T&&P;if(this.options.layoutRoot||this.resumeFrom||G||T&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,G);const ne={...Wd(M,"layout"),onPlay:N,onComplete:q};(v.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else T||u_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h1),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l_);return}this.isUpdating||this.nodes.forEach(a1),this.isUpdating=!1,this.nodes.forEach(l1),this.nodes.forEach(n1),this.nodes.forEach(r1),this.clearAllSnapshots();const f=cr.now();Mt.delta=Or(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,vf.update.process(Mt),vf.preRender.process(Mt),vf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Md.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o1),this.sharedNodes.forEach(f1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!qw(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;c&&(f||is(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),g1(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(y1))){const{scroll:v}=this.root;v&&(vo(p.x,v.offset.x),vo(p.y,v.offset.y))}return p}removeElementScroll(c){var f;const p=ut();if(Dn(p,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Dn(p,c),vo(p.x,w.offset.x),vo(p.y,w.offset.y))}return p}applyTransform(c,f=!1){const p=ut();Dn(p,c);for(let y=0;y<this.path.length;y++){const v=this.path[y];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&wo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),is(v.latestValues)&&wo(p,v.latestValues)}return is(this.latestValues)&&wo(p,this.latestValues),p}removeTransform(c){const f=ut();Dn(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!is(y.latestValues))continue;td(y.latestValues)&&y.updateSnapshot();const v=ut(),w=y.measurePageBox();Dn(v,w),t_(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return is(this.latestValues)&&t_(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),Fw(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ha(this.relativeTargetOrigin,this.target,P.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fa&&ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||bw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(y=!1),y)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,P=this.treeScale.y;xR(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:O}=f;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jy(this.prevProjectionDelta.x,this.projectionDelta.x),Jy(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==P||!o_(this.projectionDelta.x,this.prevProjectionDelta.x)||!o_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),Fa&&ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,f=!1){const p=this.snapshot,y=p?p.latestValues:{},v={...this.latestValues},w=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ut(),P=p?p.source:void 0,O=this.layout?this.layout.source:void 0,M=P!==O,N=this.getStack(),q=!N||N.members.length<=1,W=!!(M&&!q&&this.options.crossfade===!0&&!this.path.some(p1));this.animationProgress=0;let G;this.mixTargetDelta=ne=>{const re=ne/1e3;c_(w.x,c.x,re),c_(w.y,c.y,re),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d1(this.relativeTarget,this.relativeTargetOrigin,T,re),G&&YR(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=ut()),Dn(G,this.relativeTarget)),M&&(this.animationValues=v,WR(v,y,this.latestValues,re,W,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Gu.hasAnimatedSinceResize=!0,this.currentAnimation=UR(0,a_,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:y,latestValues:v}=c;if(!(!f||!p||!y)){if(this!==c&&this.layout&&y&&Gw(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||ut();const w=Jt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const T=Jt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+T}Dn(f,p),wo(f,v),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JR),this.sharedNodes.get(c).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const y={};p.z&&Cf("z",c,y,this.animationValues);for(let v=0;v<Pf.length;v++)Cf(`rotate${Pf[v]}`,c,y,this.animationValues),Cf(`skew${Pf[v]}`,c,y,this.animationValues);c.render();for(const v in y)c.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);c.scheduleRender()}getProjectionStyles(c){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e1;const y={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=Hu(c==null?void 0:c.pointerEvents)||"",y.transform=v?v(this.latestValues,""):"none",y;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=Hu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!is(this.latestValues)&&(M.transform=v?v({},""):"none",this.hasProjected=!1),M}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),y.transform=ZR(this.projectionDeltaWithTransform,this.treeScale,T),v&&(y.transform=v(T,y.transform));const{x:P,y:O}=this.projectionDelta;y.transformOrigin=`${P.origin*100}% ${O.origin*100}% 0`,w.animationValues?y.opacity=w===this?(p=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:y.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const M in el){if(T[M]===void 0)continue;const{correct:N,applyTo:q,isCSSVariable:W}=el[M],G=y.transform==="none"?T[M]:N(T[M],w);if(q){const ne=q.length;for(let re=0;re<ne;re++)y[q[re]]=G}else W?this.options.visualElement.renderState.vars[M]=G:y[M]=G}return this.options.layoutId&&(y.pointerEvents=w===this?Hu(c==null?void 0:c.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(l_),this.root.sharedNodes.clear()}}}function n1(n){n.updateLayout()}function r1(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Nn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],P=Jt(T);T.min=i[w].min,T.max=T.min+P}):Gw(l,t.layoutBox,i)&&Nn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],P=Jt(i[w]);T.max=T.min+P,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+P)});const f=_o();Wa(f,i,t.layoutBox);const p=_o();c?Wa(p,n.applyTransform(o,!0),t.measuredBox):Wa(p,i,t.layoutBox);const y=!qw(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:P}=w;if(T&&P){const O=ut();Ha(O,t.layoutBox,T.layoutBox);const M=ut();Ha(M,i,P.layoutBox),Ww(O,M)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function i1(n){Fa&&ss.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function s1(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function o1(n){n.clearSnapshot()}function l_(n){n.clearMeasurements()}function a1(n){n.isLayoutDirty=!1}function l1(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function u_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function u1(n){n.resolveTargetDelta()}function c1(n){n.calcProjection()}function h1(n){n.resetSkewAndRotation()}function f1(n){n.removeLeadSnapshot()}function c_(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function h_(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function d1(n,e,t,i){h_(n.x,e.x,t.x,i),h_(n.y,e.y,t.y,i)}function p1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const m1={duration:.45,ease:[.4,0,.1,1]},f_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),d_=f_("applewebkit/")&&!f_("chrome/")?Math.round:vn;function p_(n){n.min=d_(n.min),n.max=d_(n.max)}function g1(n){p_(n.x),p_(n.y)}function Gw(n,e,t){return n==="position"||n==="preserve-aspect"&&!vR(s_(e),s_(t),.2)}function y1(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const _1=Kw({attachResizeListener:(n,e)=>rl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},Qw=Kw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xf.current){const n=new _1({});n.mount(window),n.setOptions({layoutScroll:!0}),xf.current=n}return xf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),v1={pan:{Feature:LR},drag:{Feature:MR,ProjectionNode:Qw,MeasureLayout:jw}};function m_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Ge.postRender(()=>l(e,ml(e)))}class w1 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=wA(e,(t,i)=>(m_(this.node,i,"Start"),o=>m_(this.node,o,"End"))))}unmount(){}}class E1 extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Ge.postRender(()=>l(e,ml(e)))}class T1 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=AA(e,(t,i)=>(g_(this.node,i,"Start"),(o,{success:l})=>g_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rd=new WeakMap,kf=new WeakMap,S1=n=>{const e=rd.get(n.target);e&&e(n)},A1=n=>{n.forEach(S1)};function I1({root:n,...e}){const t=n||document;kf.has(t)||kf.set(t,{});const i=kf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(A1,{root:n,...e})),i[o]}function R1(n,e,t){const i=I1(e);return rd.set(n,t),i.observe(n),()=>{rd.delete(n),i.unobserve(n)}}const P1={some:0,all:1};class C1 extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:P1[o]},f=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=y?v:w;T&&T(p)};return R1(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(x1(e,t))&&this.startObserver()}unmount(){}}function x1({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const k1={inView:{Feature:C1},tap:{Feature:T1},focus:{Feature:E1},hover:{Feature:w1}},V1={layout:{ProjectionNode:Qw,MeasureLayout:jw}},id={current:null},Xw={current:!1};function D1(){if(Xw.current=!0,!!xd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>id.current=n.matches;n.addListener(e),e()}else id.current=!1}const N1=[...Ew,$t,wi],M1=n=>N1.find(ww(n)),y_=new WeakMap;function L1(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,tl(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,tl(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const __=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O1{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const P=cr.now();this.renderScheduledAt<P&&(this.renderScheduledAt=P,Ge.render(this.render,!1,!0))};const{latestValues:p,renderState:y,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ec(t),this.isVariantNode=kv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const P in T){const O=T[P];p[P]!==void 0&&Ht(O)&&O.set(p[P],!1)}}mount(e){this.current=e,y_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Xw.current||D1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:id.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){y_.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ms.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in So){const t=So[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<__.length;i++){const o=__[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=L1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=tl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(_w(o)||uw(o))?o=parseFloat(o):!M1(o)&&wi.test(t)&&(o=mw(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=Od(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Yd),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Yw extends O1{constructor(){super(...arguments),this.KeyframeResolver=Tw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function b1(n){return window.getComputedStyle(n)}class F1 extends Yw{constructor(){super(...arguments),this.type="html",this.renderInstance=Fv}readValueFromInstance(e,t){if(ms.has(t)){const i=np(t);return i&&i.default||0}else{const i=b1(e),o=(bd(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Uw(e,t)}build(e,t,i){Bd(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return qd(e,t,i)}}class U1 extends Yw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ms.has(t)){const i=np(t);return i&&i.default||0}return t=Uv.has(t)?t:Nd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return zv(e,t,i)}build(e,t,i){jd(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Bv(e,t,i,o)}mount(e){this.isSVGTag=$d(e.tagName),super.mount(e)}}const B1=(n,e)=>Ld(n)?new U1(e):new F1(e,{allowProjection:n!==fe.Fragment}),j1=dA({...cR,...k1,...v1,...V1},B1),z1=CS(j1);function $1({type:n="text",...e}){return me.jsx("input",{type:n,className:"p-2 rounded bg-purple-700 text-white",...e})}function Jw({username:n,setUsername:e,country:t,setCountry:i}){return me.jsxs("div",{className:"mb-4",children:[me.jsx($1,{placeholder:"Select a temporary username (optional)",value:n,onChange:o=>e(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsxs("select",{value:t,onChange:o=>i(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white",children:[me.jsx("option",{value:"",children:"Select a country"}),me.jsx("option",{value:"🇺🇸",children:"United States"}),me.jsx("option",{value:"🇬🇧",children:"United Kingdom"}),me.jsx("option",{value:"🇩🇪",children:"Germany"}),me.jsx("option",{value:"🇫🇷",children:"France"}),me.jsx("option",{value:"🇯🇵",children:"Japan"}),me.jsx("option",{value:"🇮🇳",children:"India"})]})]})}function Zw({onSubmit:n}){const[e,t]=fe.useState(""),[i,o]=fe.useState(""),[l,c]=fe.useState(""),f=()=>{if(e.trim()){const p=i.trim()?i:"An0n";n({text:e,username:p,country:l,id:Date.now(),replies:[]}),t(""),o(""),c("")}};return me.jsxs("div",{className:"mt-4",children:[me.jsx(Jw,{username:i,setUsername:o,country:l,setCountry:c}),me.jsx(Sv,{placeholder:"Write a comment...",value:e,onChange:p=>t(p.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsx(Tv,{onClick:f,className:"w-full bg-purple-600 hover:bg-purple-500",children:"Submit"})]})}function q1({comment:n,addReply:e}){const[t,i]=fe.useState(!1),o=l=>{e(l),i(!1)};return me.jsxs(jf,{className:"p-4 bg-purple-700 rounded-lg mb-4",children:[me.jsxs("div",{className:"flex items-center mb-2",children:[me.jsx("span",{className:"mr-2",children:n.country}),me.jsx("span",{className:"font-bold",children:n.username})]}),me.jsx("p",{className:"text-white mb-2",children:n.text}),me.jsx("button",{onClick:()=>i(l=>!l),className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Reply"}),t&&me.jsx(Zw,{onSubmit:o}),me.jsx(eE,{comments:n.replies})]})}function eE({comments:n,addReply:e}){return me.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:n.map(t=>me.jsx(q1,{comment:t,addReply:i=>e(t.id,i)},t.id))})}function W1({onSubmit:n}){const[e,t]=fe.useState(!1);return e?me.jsx(Zw,{onSubmit:i=>{n(i),t(!1)}}):me.jsx("button",{onClick:()=>t(!0),className:"text-blue-400 text-sm underline hover:text-blue-300 mt-2",children:"Reply"})}var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},H1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,P=y&63;p||(P=64,c||(T=64)),i.push(t[v],t[w],t[T],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||w==null)throw new K1;const T=l<<2|f>>4;if(i.push(T),y!==64){const P=f<<4&240|y>>2;if(i.push(P),w!==64){const O=y<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(n){const e=tE(n);return nE.encodeByteArray(e,!0)},ac=function(n){return G1(n).replace(/\./g,"")},Q1=function(n){try{return nE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>X1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof v_>"u")return;const n=v_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q1(n[1]);return e&&JSON.parse(e)},ap=()=>{try{return Y1()||J1()||Z1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eP=n=>{var e,t;return(t=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rE=n=>{const e=eP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},iE=()=>{var n;return(n=ap())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ac(JSON.stringify(t)),ac(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rP(){var n;const e=(n=ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iP(){return!rP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sP(){try{return typeof indexedDB=="object"}catch{return!1}}function oP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="FirebaseError";class gs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=aP,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oE.prototype.create)}}class oE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?lP(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new gs(o,f,i)}}function lP(n,e){return n.replace(uP,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const uP=/\{\$([^}]+)}/g;function sd(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(w_(l)&&w_(c)){if(!sd(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function w_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new tP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fP(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hP(n){return n===os?void 0:n}function fP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const pP={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},mP=Le.INFO,gP={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=gP[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aE{constructor(e){this.name=e,this._logLevel=mP,this._logHandler=yP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _P=(n,e)=>e.some(t=>n instanceof t);let E_,T_;function vP(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,od=new WeakMap,uE=new WeakMap,Vf=new WeakMap,lp=new WeakMap;function EP(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(pi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lE.set(t,n)}).catch(()=>{}),lp.set(e,n),e}function TP(n){if(od.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});od.set(n,e)}let ad={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return od.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SP(n){ad=n(ad)}function AP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Df(this),e,...t);return uE.set(i,e.sort?e.sort():[e]),pi(i)}:wP().includes(n)?function(...e){return n.apply(Df(this),e),pi(lE.get(this))}:function(...e){return pi(n.apply(Df(this),e))}}function IP(n){return typeof n=="function"?AP(n):(n instanceof IDBTransaction&&TP(n),_P(n,vP())?new Proxy(n,ad):n)}function pi(n){if(n instanceof IDBRequest)return EP(n);if(Vf.has(n))return Vf.get(n);const e=IP(n);return e!==n&&(Vf.set(n,e),lp.set(e,n)),e}const Df=n=>lp.get(n);function RP(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=pi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(pi(c.result),p.oldVersion,p.newVersion,pi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const PP=["get","getKey","getAll","getAllKeys","count"],CP=["put","add","delete","clear"],Nf=new Map;function S_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=CP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||PP.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Nf.set(e,l),l}SP(n=>({...n,get:(e,t,i)=>S_(e,t)||n.get(e,t,i),has:(e,t)=>!!S_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ld="@firebase/app",A_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new aE("@firebase/app"),VP="@firebase/app-compat",DP="@firebase/analytics-compat",NP="@firebase/analytics",MP="@firebase/app-check-compat",LP="@firebase/app-check",OP="@firebase/auth",bP="@firebase/auth-compat",FP="@firebase/database",UP="@firebase/data-connect",BP="@firebase/database-compat",jP="@firebase/functions",zP="@firebase/functions-compat",$P="@firebase/installations",qP="@firebase/installations-compat",WP="@firebase/messaging",HP="@firebase/messaging-compat",KP="@firebase/performance",GP="@firebase/performance-compat",QP="@firebase/remote-config",XP="@firebase/remote-config-compat",YP="@firebase/storage",JP="@firebase/storage-compat",ZP="@firebase/firestore",eC="@firebase/vertexai",tC="@firebase/firestore-compat",nC="firebase",rC="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",iC={[ld]:"fire-core",[VP]:"fire-core-compat",[NP]:"fire-analytics",[DP]:"fire-analytics-compat",[LP]:"fire-app-check",[MP]:"fire-app-check-compat",[OP]:"fire-auth",[bP]:"fire-auth-compat",[FP]:"fire-rtdb",[UP]:"fire-data-connect",[BP]:"fire-rtdb-compat",[jP]:"fire-fn",[zP]:"fire-fn-compat",[$P]:"fire-iid",[qP]:"fire-iid-compat",[WP]:"fire-fcm",[HP]:"fire-fcm-compat",[KP]:"fire-perf",[GP]:"fire-perf-compat",[QP]:"fire-rc",[XP]:"fire-rc-compat",[YP]:"fire-gcs",[JP]:"fire-gcs-compat",[ZP]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,sC=new Map,cd=new Map;function I_(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function il(n){const e=n.name;if(cd.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;cd.set(e,n);for(const t of lc.values())I_(t,n);for(const t of sC.values())I_(t,n);return!0}function cE(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new oE("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=rC;function fE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ud,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=iE()),!t)throw mi.create("no-options");const l=lc.get(o);if(l){if(sd(t,l.options)&&sd(i,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const c=new dP(o);for(const p of cd.values())c.addComponent(p);const f=new aC(t,i,c);return lc.set(o,f),f}function dE(n=ud){const e=lc.get(n);if(!e&&n===ud&&iE())return fE();if(!e)throw mi.create("no-app",{appName:n});return e}function gi(n,e,t){var i;let o=(i=iC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}il(new Io(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-heartbeat-database",uC=1,sl="firebase-heartbeat-store";let Mf=null;function pE(){return Mf||(Mf=RP(lC,uC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),Mf}async function cC(n){try{const t=(await pE()).transaction(sl),i=await t.objectStore(sl).get(mE(n));return await t.done,i}catch(e){if(e instanceof gs)br.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function R_(n,e){try{const i=(await pE()).transaction(sl,"readwrite");await i.objectStore(sl).put(e,mE(n)),await i.done}catch(t){if(t instanceof gs)br.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(i.message)}}}function mE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,fC=30*24*60*60*1e3;class dC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=fC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:o}=pC(this._heartbeatsCache.heartbeats),l=ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function pC(n,e=hC){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),C_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),C_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sP()?oP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return R_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return R_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function C_(n){return ac(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n){il(new Io("platform-logger",e=>new xP(e),"PRIVATE")),il(new Io("heartbeat",e=>new dC(e),"PRIVATE")),gi(ld,A_,n),gi(ld,A_,"esm2017"),gi("fire-js","")}gC("");var yC="firebase",_C="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(yC,_C,"app");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,gE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(V,L,F){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return A.prototype[L].apply(V,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)V[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;16>L;++L)V[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],L=k.g[2];var F=k.g[3],C=A+(F^R&(L^F))+V[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=F+(L^A&(R^L))+V[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(R^F&(A^R))+V[2]+606105819&4294967295,L=F+(C<<17&4294967295|C>>>15),C=R+(A^L&(F^A))+V[3]+3250441966&4294967295,R=L+(C<<22&4294967295|C>>>10),C=A+(F^R&(L^F))+V[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(L^A&(R^L))+V[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(R^F&(A^R))+V[6]+2821735955&4294967295,L=F+(C<<17&4294967295|C>>>15),C=R+(A^L&(F^A))+V[7]+4249261313&4294967295,R=L+(C<<22&4294967295|C>>>10),C=A+(F^R&(L^F))+V[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(L^A&(R^L))+V[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(R^F&(A^R))+V[10]+4294925233&4294967295,L=F+(C<<17&4294967295|C>>>15),C=R+(A^L&(F^A))+V[11]+2304563134&4294967295,R=L+(C<<22&4294967295|C>>>10),C=A+(F^R&(L^F))+V[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(L^A&(R^L))+V[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(R^F&(A^R))+V[14]+2792965006&4294967295,L=F+(C<<17&4294967295|C>>>15),C=R+(A^L&(F^A))+V[15]+1236535329&4294967295,R=L+(C<<22&4294967295|C>>>10),C=A+(L^F&(R^L))+V[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^L&(A^R))+V[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^R&(F^A))+V[11]+643717713&4294967295,L=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(L^F))+V[0]+3921069994&4294967295,R=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(R^L))+V[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^L&(A^R))+V[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^R&(F^A))+V[15]+3634488961&4294967295,L=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(L^F))+V[4]+3889429448&4294967295,R=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(R^L))+V[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^L&(A^R))+V[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^R&(F^A))+V[3]+4107603335&4294967295,L=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(L^F))+V[8]+1163531501&4294967295,R=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(R^L))+V[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^L&(A^R))+V[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^R&(F^A))+V[7]+1735328473&4294967295,L=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(L^F))+V[12]+2368359562&4294967295,R=L+(C<<20&4294967295|C>>>12),C=A+(R^L^F)+V[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^L)+V[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^R)+V[11]+1839030562&4294967295,L=F+(C<<16&4294967295|C>>>16),C=R+(L^F^A)+V[14]+4259657740&4294967295,R=L+(C<<23&4294967295|C>>>9),C=A+(R^L^F)+V[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^L)+V[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^R)+V[7]+4139469664&4294967295,L=F+(C<<16&4294967295|C>>>16),C=R+(L^F^A)+V[10]+3200236656&4294967295,R=L+(C<<23&4294967295|C>>>9),C=A+(R^L^F)+V[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^L)+V[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^R)+V[3]+3572445317&4294967295,L=F+(C<<16&4294967295|C>>>16),C=R+(L^F^A)+V[6]+76029189&4294967295,R=L+(C<<23&4294967295|C>>>9),C=A+(R^L^F)+V[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^L)+V[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^R)+V[15]+530742520&4294967295,L=F+(C<<16&4294967295|C>>>16),C=R+(L^F^A)+V[2]+3299628645&4294967295,R=L+(C<<23&4294967295|C>>>9),C=A+(L^(R|~F))+V[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~L))+V[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~R))+V[14]+2878612391&4294967295,L=F+(C<<15&4294967295|C>>>17),C=R+(F^(L|~A))+V[5]+4237533241&4294967295,R=L+(C<<21&4294967295|C>>>11),C=A+(L^(R|~F))+V[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~L))+V[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~R))+V[10]+4293915773&4294967295,L=F+(C<<15&4294967295|C>>>17),C=R+(F^(L|~A))+V[1]+2240044497&4294967295,R=L+(C<<21&4294967295|C>>>11),C=A+(L^(R|~F))+V[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~L))+V[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~R))+V[6]+2734768916&4294967295,L=F+(C<<15&4294967295|C>>>17),C=R+(F^(L|~A))+V[13]+1309151649&4294967295,R=L+(C<<21&4294967295|C>>>11),C=A+(L^(R|~F))+V[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~L))+V[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~R))+V[2]+718787259&4294967295,L=F+(C<<15&4294967295|C>>>17),C=R+(F^(L|~A))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+F&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,V=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=R;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<A;)if(V[L++]=k.charCodeAt(F++),L==this.blockSize){o(this,V),L=0;break}}else for(;F<A;)if(V[L++]=k[F++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)k[R++]=this.g[A]>>>V&255;return k};function l(k,A){var R=f;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function c(k,A){this.h=A;for(var R=[],V=!0,L=k.length-1;0<=L;L--){var F=k[L]|0;V&&F==A||(R[L]=F,V=!1)}this.g=R}var f={};function p(k){return-128<=k&&128>k?l(k,function(A){return new c([A|0],0>A?-1:0)}):new c([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return N(y(-k));for(var A=[],R=1,V=0;k>=R;V++)A[V]=k/R|0,R*=4294967296;return new c(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return N(v(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),V=w,L=0;L<k.length;L+=8){var F=Math.min(8,k.length-L),C=parseInt(k.substring(L,L+F),A);8>F?(F=y(Math.pow(A,F)),V=V.j(F).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var w=p(0),T=p(1),P=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-N(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);k+=(0<=V?V:4294967296+V)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(M(this))return"-"+N(this).toString(k);for(var A=y(Math.pow(k,6)),R=this,V="";;){var L=ne(R,A).g;R=q(R,L.j(A));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=L,O(R))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function M(k){return k.h==-1}n.l=function(k){return k=q(this,k),M(k)?-1:O(k)?0:1};function N(k){for(var A=k.g.length,R=[],V=0;V<A;V++)R[V]=~k.g[V];return new c(R,~k.h).add(T)}n.abs=function(){return M(this)?N(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],V=0,L=0;L<=A;L++){var F=V+(this.i(L)&65535)+(k.i(L)&65535),C=(F>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);V=C>>>16,F&=65535,C&=65535,R[L]=C<<16|F}return new c(R,R[R.length-1]&-2147483648?-1:0)};function q(k,A){return k.add(N(A))}n.j=function(k){if(O(this)||O(k))return w;if(M(this))return M(k)?N(this).j(N(k)):N(N(this).j(k));if(M(k))return N(this.j(N(k)));if(0>this.l(P)&&0>k.l(P))return y(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<k.g.length;L++){var F=this.i(V)>>>16,C=this.i(V)&65535,Qe=k.i(L)>>>16,Ct=k.i(L)&65535;R[2*V+2*L]+=C*Ct,W(R,2*V+2*L),R[2*V+2*L+1]+=F*Ct,W(R,2*V+2*L+1),R[2*V+2*L+1]+=C*Qe,W(R,2*V+2*L+1),R[2*V+2*L+2]+=F*Qe,W(R,2*V+2*L+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new c(R,0)};function W(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function G(k,A){this.g=k,this.h=A}function ne(k,A){if(O(A))throw Error("division by zero");if(O(k))return new G(w,w);if(M(k))return A=ne(N(k),A),new G(N(A.g),N(A.h));if(M(A))return A=ne(k,N(A)),new G(N(A.g),A.h);if(30<k.g.length){if(M(k)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;0>=V.l(k);)R=re(R),V=re(V);var L=le(R,1),F=le(V,1);for(V=le(V,2),R=le(R,2);!O(V);){var C=F.add(V);0>=C.l(k)&&(L=L.add(R),F=C),V=le(V,1),R=le(R,1)}return A=q(k,L.j(A)),new G(L,A)}for(L=w;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=y(R),C=F.j(A);M(C)||0<C.l(k);)R-=V,F=y(R),C=F.j(A);O(F)&&(F=T),L=L.add(F),k=q(k,C)}return new G(L,k)}n.A=function(k){return ne(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&k.i(V);return new c(R,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|k.i(V);return new c(R,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^k.i(V);return new c(R,this.h^k.h)};function re(k){for(var A=k.g.length+1,R=[],V=0;V<A;V++)R[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(R,k.h)}function le(k,A){var R=A>>5;A%=32;for(var V=k.g.length-R,L=[],F=0;F<V;F++)L[F]=0<A?k.i(F+R)>>>A|k.i(F+R+1)<<32-A:k.i(F+R);return new c(L,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,yi=c}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yE,Ua,_E,Qu,hd,vE,wE,EE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,S=!1,U={next:function(){if(!S&&_<u.length){var $=_++;return{value:m($,u[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function P(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,U,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return m.prototype[U].apply(S,te)}}function M(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function N(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=u.length||0,$=S.length||0;u.length=U+$;for(let te=0;te<$;te++)u[U+te]=S[te]}else u.push(S)}}class q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function L(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){f.setTimeout(()=>{throw u},0)}function C(){var u=de;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Qe{constructor(){this.h=this.g=null}add(m,_){const S=Ct.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ct=new q(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ee=!1,de=new Qe,ie=()=>{const u=f.Promise.resolve(void 0);Ae=()=>{u.then(b)}};var b=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){F(_)}var m=Ct;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ee=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Pe(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(re){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,pe);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(u,m,_,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,m,_,S,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=Br(u,m,S,U);return-1<te?(m=u[te],_||(m.fa=!1)):(m=new $e(m,this.src,$,!!S,U),m.fa=_,u.push(m)),m};function vs(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(S,U,1),$&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,m,_,S){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==S)return U}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),ws={};function Uo(u,m,_,S,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Uo(u,m[$],_,S,U);return null}return _=zo(_),u&&u[Fe]?u.K(m,_,y(S)?!!S.capture:!1,U):Bo(u,m,_,!1,S,U)}function Bo(u,m,_,S,U,$){if(!m)throw Error("Invalid event type");var te=y(U)?!!U.capture:!!U,je=Ts(u);if(je||(u[xi]=je=new gr(u)),_=je.add(m,_,S,te,$),_.proxy)return _;if(S=wl(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Re||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(_r(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wl(){function u(_){return m.call(u.src,u.listener,_)}const m=jo;return u}function Es(u,m,_,S,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Es(u,m[$],_,S,U);else S=y(S)?!!S.capture:!!S,_=zo(_),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],_=Br($,_,S,U),-1<_&&(Tt($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,_,S,U)),(_=-1<u?m[u]:null)&&yr(_))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])vs(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(_r(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Ts(m))?(vs(_,u),_.h==0&&(_.src=null,m[xi]=null)):Tt(u)}}}function _r(u){return u in ws?ws[u]:ws[u]="on"+u}function jo(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&yr(u),u=_.call(S,m)}return u}function Ts(u){return u=u[xi],u instanceof gr?u:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(m){return u.handleEvent(m)}),u[Ss])}function pt(){K.call(this),this.i=new gr(this),this.M=this,this.F=null}O(pt,K),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(u,m,_,S){Es(this,u,m,_,S)};function mt(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var U=m;m=new pe(S,u),V(m,U)}if(U=!0,_)for(var $=_.length-1;0<=$;$--){var te=m.g=_[$];U=vr(te,S,!0,m)&&U}if(te=m.g=u,U=vr(te,S,!0,m)&&U,U=vr(te,S,!1,m)&&U,_)for($=0;$<_.length;$++)te=m.g=_[$],U=vr(te,S,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)Tt(_[S]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},pt.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function vr(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==_){var je=te.listener,gt=te.ha||te.src;te.fa&&vs(u.i,te),U=je.call(gt,S)!==!1&&U}}return U&&!S.defaultPrevented}function $o(u,m,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function jr(u){u.g=$o(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ki extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(u){K.call(this),this.h=u,this.g={}}O(Vi,K);var qo=[];function Wo(u){le(u.g,function(m,_){this.g.hasOwnProperty(_)&&yr(m)},u),u.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Wo(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=f.JSON.stringify,Ko=f.JSON.parse,Go=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Di(){}Di.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Is(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){pe.call(this,"d")}O(Xn,pe);function Rs(){pe.call(this,"c")}O(Rs,pe);var Yn={},Qo=null;function Ni(){return Qo=Qo||new pt}Yn.La="serverreachability";function Xo(u){pe.call(this,Yn.La,u)}O(Xo,pe);function wr(u){const m=Ni();mt(m,new Xo(m))}Yn.STAT_EVENT="statevent";function Yo(u,m){pe.call(this,Yn.STAT_EVENT,u),this.stat=m}O(Yo,pe);function at(u){const m=Ni();mt(m,new Yo(m,u))}Yn.Ma="timingevent";function Ps(u,m){pe.call(this,Yn.Ma,u),this.size=m}O(Ps,pe);function Mn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Li(u,m,_,S,U,$){u.info(function(){if(u.g)if($)for(var te="",je=$.split("&"),gt=0;gt<je.length;gt++){var Ne=je[gt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var ht=St.split("_");te=2<=ht.length&&ht[1]=="type"?te+(St+"="+Ne+"&"):te+(St+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+_+`
`+te})}function Cs(u,m,_,S,U,$,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+_+`
`+$+" "+te})}function Ln(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,_)+(S?" "+S:"")})}function Jo(u,m){u.info(function(){return"TIMEOUT: "+m})}Mi.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Ho(_)}catch{return m}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Oi(){}O(Oi,Di),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},On=new Oi;function bn(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}var Zo={},ks={};function Vs(u,m,_){u.L=1,u.v=Hr(hn(m)),u.m=_,u.P=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),qe(u),u.A=hn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Gr(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Tl,u.g=Bl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ki(T(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(qo[0]=U.toString()),U=qo);for(var $=0;$<U.length;$++){var te=Uo(_,U[$],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),Li(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=en(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||ht!=4||m==7||(m==8||0>=In?wr(3):wr(2)),bi(this);var _=this.g.Z();this.X=_;t:if(Sl(this)){var S=oa(this.g);u="";var U=S.length,$=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),zr(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!($&&m==U-1)});S.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Cs(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,gt=this.g;if((je=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(je)){var Ne=je;break t}}Ne=null}if(_=Ne)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,_);else{this.o=!1,this.s=3,at(12),Sn(this),zr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<te.length;)if(dn=zc(this,te),dn==ks){ht==4&&(this.s=4,at(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==Zo){this.s=4,at(15),Ln(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,dn,null),ta(this,dn);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||te.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,te,"[Invalid Chunked Response]"),Sn(this),zr(this);else if(0<te.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),la(St),St.M=!0,at(11))}}else Ln(this.i,this.l,te,null),ta(this,te);ht==4&&Sn(this),this.o&&!this.J&&(ht==4?zs(this.j,this):(this.o=!1,qe(this)))}else bs(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Sn(this),zr(this)}}}catch{}finally{}};function Sl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zc(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?ks:(_=Number(m.substring(_,S)),isNaN(_)?Zo:(S+=1,S+_>m.length?ks:(m=m.slice(S,S+_),u.C=S+_,m)))}bn.prototype.cancel=function(){this.J=!0,Sn(this)};function qe(u){u.S=Date.now()+u.I,Al(u,u.I)}function Al(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(T(u.ba,u),m)}function bi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jo(this.i,this.A),this.L!=2&&(wr(),at(17)),Sn(this),this.s=2,zr(this)):Al(this,this.S-u)};function zr(u){u.j.G==0||u.J||zs(u.j,u)}function Sn(u){bi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ta(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)js(_),zn(_);else break e;Bs(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mn(T(_.Za,_),6e3));if(1>=Rl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ir(_,11)}else if((u.K||_.g==u)&&js(_),!W(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const St=Ne[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const ht=Ne[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const In=Ne[5];In!=null&&typeof In=="number"&&0<In&&(S=1.5*In,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=u.g;if(dn){const qi=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var $=S.h;$.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(na($,$.h),$.h=null))}if(S.D){const qs=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(S.ya=qs,ze(S.I,S.D,qs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var te=u;if(S.qa=Ul(S,S.J?S.ia:null,S.W),te.K){Pl(S.h,te);var je=te,gt=S.L;gt&&(je.I=gt),je.B&&(bi(je),qe(je)),S.g=te}else $i(S);0<_.i.length&&tr(_)}else Ne[0]!="stop"&&Ne[0]!="close"||Ir(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ir(_,7):Vt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}wr(4)}catch{}}var Il=class{constructor(u,m){this.g=u,this.map=m}};function Fi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function na(u,m){u.g?u.g.add(m):u.h=m}function Pl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fi.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return M(u.i)}function Ds(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ns(u),S=Ds(u),U=S.length,$=0;$<U;$++)m.call(void 0,S[$],_&&_[$],u)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),U=null;if(0<=S){var $=u[_].substring(0,S);U=u[_].substring(S+1)}else $=u[_];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Er){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var m=u.i,_=new Jn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Wr(this,_),this.m=u.m}else u&&(m=String(u).match(Ui))?(this.h=!1,Bi(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),qr(this,m[4]),this.l=ke(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Er.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Kr(m,Ms,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Kr(m,Ms,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Kr(_,_.charAt(0)=="/"?Vl:kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Kr(_,ra)),u.join("")};function hn(u){return new Er(u)}function Bi(u,m,_){u.j=_?ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,_){m instanceof Jn?(u.i=m,Zn(u.i,u.h)):(_||(m=Kr(m,Dl)),u.i=new Jn(m,u.h))}function ze(u,m,_){u.i.set(m,_)}function Hr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,xl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ms=/[#\/\?@]/g,kl=/[#\?:]/g,Vl=/[#\?]/g,Dl=/[#\?@]/g,ra=/#/g;function Jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&$c(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Jn.prototype,n.add=function(u,m){kt(this),this.i=null,u=An(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Fn(u,m){kt(u),m=An(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Un(u,m){return kt(u),m=An(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(m,U,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const U=u[S];for(let $=0;$<U.length;$++)_.push(m[S])}return _},n.V=function(u){kt(this);let m=[];if(typeof u=="string")Un(this,u)&&(m=m.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return kt(this),this.i=null,u=An(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gr(u,m,_){Fn(u,m),0<_.length&&(u.i=null,u.g.set(An(u,m),M(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const $=encodeURIComponent(String(S)),te=this.V(S);for(S=0;S<te.length;S++){var U=$;te[S]!==""&&(U+="="+encodeURIComponent(String(te[S]))),u.push(U)}}return this.i=u.join("&")};function An(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zn(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Fn(this,S),Gr(this,U,_))},u)),u.j=m}function qc(u,m){const _=new Mi;if(f.Image){const S=new Image;S.onload=P(Zt,_,"TestLoadImage: loaded",!0,m,S),S.onerror=P(Zt,_,"TestLoadImage: error",!1,m,S),S.onabort=P(Zt,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=P(Zt,_,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Nl(u,m){const _=new Mi,S=new AbortController,U=setTimeout(()=>{S.abort(),Zt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(U),$.ok?Zt(_,"TestPingServer: ok",!0,m):Zt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,m)})}function Zt(u,m,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Wc(){this.g=new Go}function Ml(u,m,_){const S=_||"";try{$r(u,function(U,$){let te=U;y(U)&&(te=Ho(U)),m.push(S+$+"="+encodeURIComponent(te))})}catch(U){throw m.push(S+"type="+encodeURIComponent("_badmap")),U}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Tr,Di),Tr.prototype.g=function(){return new ji(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function ji(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ji,pt),n=ji.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bn(this):jn(this),this.readyState==3&&Ll(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sr(u){let m="";return le(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Qr(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Sr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ze(u,m,_))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,pt);var Hc=/^https?$/i,ia=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?As(this.o):As(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){zi(this,$);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ia,m,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of _)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch($){zi(this,$)}};function zi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ls(u),fn(u)}function Ls(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)$o(u.Ea,0,u);else if(mt(u,"readystatechange"),en(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=te===0){var U=String(u.D).match(Ui)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),S=!Hc.test(U?U.toLowerCase():"")}_=S}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var $=2<en(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ls(u)}}finally{fn(u)}}}}function fn(u,m){if(u.g){Os(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Os(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ko(m)}};function oa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(W(u[S]))continue;var _=L(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[U]||[];m[U]=$,$.push(_)}k(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function aa(u){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Da=new Wc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aa.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,S){at(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ul(this,null,this.W),tr(this)};function Vt(u){if(Fs(u),u.G==3){var m=u.U++,_=hn(u.I);if(ze(_,"SID",u.K),ze(_,"RID",m),ze(_,"TYPE","terminate"),Ar(u,_),m=new bn(u,u.j,m),m.L=2,m.v=Hr(hn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=Bl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}Fl(u)}function zn(u){u.g&&(la(u),u.g.cancel(),u.g=null)}function Fs(u){zn(u),u.u&&(f.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function tr(u){if(!cn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||ie(),ee||(Ae(),ee=!0),de.add(m,u),u.B=0}}function Kc(u,m){return Rl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(T(u.Ga,u,m),bl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new bn(this,this.j,u);let $=this.o;if(this.S&&($?($=A($),V($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Xr(this,U,m),_=hn(this.I),ze(_,"RID",u),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Ar(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(Sr($)))+"&"+m:this.m&&Qr(_,this.m,$)),na(this.h,U),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",m),ze(_,"SID","null"),U.T=!0,Vs(U,_,null)):Vs(U,_,m),this.G=2}}else this.G==3&&(u?Us(this,u):this.i.length==0||cn(this.h)||Us(this))};function Us(u,m){var _;m?_=m.l:_=u.U++;const S=hn(u.I);ze(S,"SID",u.K),ze(S,"RID",_),ze(S,"AID",u.T),Ar(u,S),u.m&&u.o&&Qr(S,u.m,u.o),_=new bn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),na(u.h,_),Vs(_,S,m)}function Ar(u,m){u.H&&le(u.H,function(_,S){ze(m,S,_)}),u.l&&$r({},function(_,S){ze(m,S,_)})}function Xr(u,m,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const te=["count="+_];$==-1?0<_?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let gt=0;gt<_;gt++){let Ne=U[gt].g;const St=U[gt].map;if(Ne-=$,0>Ne)$=Math.max(0,U[gt].g-100),je=!1;else try{Ml(St,te,"req"+Ne+"_")}catch{S&&S(St)}}if(je){S=te.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,S}function $i(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||ie(),ee||(Ae(),ee=!0),de.add(m,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(T(u.Fa,u),bl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),zn(this),Ol(this))};function la(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ol(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=hn(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),Ar(u,m),u.m&&u.o&&Qr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hr(hn(m)),_.m=null,_.P=!0,ea(_,u)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),Bs(this),at(19))};function js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function zs(u,m){var _=null;if(u.g==m){js(u),la(u),u.g=null;var S=2}else if(Kt(u.h,m))_=m.D,Pl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;S=Ni(),mt(S,new Ps(S,_)),tr(u)}else $i(u);else if(U=m.s,U==3||U==0&&0<m.X||!(S==1&&Kc(u,m)||S==2&&Bs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ir(u,5);break;case 4:Ir(u,10);break;case 3:Ir(u,6);break;default:Ir(u,2)}}}function bl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ir(u,m){if(u.j.info("Error code "+m),m==2){var _=T(u.fb,u),S=u.Xa;const U=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bi(S,"https"),Hr(S),U?qc(S.toString(),_):Nl(S.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(m),Fl(u),Fs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Fl(u){if(u.G=0,u.ka=[],u.l){const m=Cl(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Ul(u,m,_){var S=_ instanceof Er?hn(_):new Er(_);if(S.g!="")m&&(S.g=m+"."+S.g),qr(S,S.s);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new Er(null);S&&Bi($,S),m&&($.g=m),U&&qr($,U),_&&($.l=_),S=$}return _=u.D,m=u.ya,_&&m&&ze(S,_,m),ze(S,"VER",u.la),Ar(u,S),S}function Bl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new Tr({eb:_})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}n=ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){pt.call(this),this.g=new aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new nr(this)}O(Gt,pt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ho(u),u=_);m.i.push(new Il(m.Ya++,u)),m.G==3&&tr(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Gt.aa.N.call(this)};function jl(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(jl,Xn);function zl(){Rs.call(this),this.status=1}O(zl,Rs);function nr(u){this.g=u}O(nr,ua),nr.prototype.ua=function(){mt(this.g,"a")},nr.prototype.ta=function(u){mt(this.g,new jl(u))},nr.prototype.sa=function(u){mt(this.g,new zl)},nr.prototype.ra=function(){mt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,EE=function(){return new $s},wE=function(){return Ni()},vE=Yn,hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Qu=xs,El.COMPLETE="complete",_E=El,Is.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ua=Is,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,yE=Xe}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new aE("@firebase/firestore");function ho(){return ds.logLevel}function oe(n,...e){if(ds.logLevel<=Le.DEBUG){const t=e.map(up);ds.debug(`Firestore (${Lo}): ${n}`,...t)}}function Fr(n,...e){if(ds.logLevel<=Le.ERROR){const t=e.map(up);ds.error(`Firestore (${Lo}): ${n}`,...t)}}function Ro(n,...e){if(ds.logLevel<=Le.WARN){const t=e.map(up);ds.warn(`Firestore (${Lo}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Be(n,e){n||Te()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new TE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qt(e)}}class TC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class SC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new TC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new AC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=RC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function Po(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ar.isNumericId(e),o=ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Je extends ar{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ar{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}function CC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Ei(o,ve.empty(),e)}function xC(n){return new Ei(n.readTime,n.key,-1)}class Ei{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ei(Se.min(),ve.empty(),-1)}static max(){return new Ei(Se.max(),ve.empty(),-1)}}function kC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==VC)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,i)=>{t(e)})}static reject(e){return new H((t,i)=>{i(e)})}static waitFor(e){return new H((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=H.resolve(!1);for(const i of e)t=t.next(o=>o?H.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new H((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new H((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function NC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ac.oe=-1;function Ic(n){return n==null}function uc(n){return n===0&&1/n==-1/0}function MC(n){return typeof n=="number"&&Number.isInteger(n)&&!uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V_(e)),e=OC(n.get(t),e);return V_(e)}function OC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function V_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Et(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IE("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(n){if(Be(!!n),typeof n=="string"){let e=0;const t=bC.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rc(n){const e=n.mapValue.fields.__previous_value__;return cp(e)?Rc(e):e}function ol(n){const e=Ti(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,i,o,l,c,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:BC(n)?9007199254740991:UC(n)?10:11:Te()}function pr(n,e){if(n===e)return!0;const t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ti(o.timestampValue),f=Ti(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ct(o.doubleValue),f=ct(l.doubleValue);return c===f?uc(c)===uc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Po(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(D_(c)!==D_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!pr(c[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function ll(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Co(n,e){if(n===e)return 0;const t=Ai(n),i=Ai(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ct(l.integerValue||l.doubleValue),p=ct(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return M_(n.timestampValue,e.timestampValue);case 4:return M_(ol(n),ol(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Si(l),p=Si(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=Ve(f[y],p[y]);if(v!==0)return v}return Ve(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ve(ct(l.latitude),ct(c.latitude));return f!==0?f:Ve(ct(l.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return L_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,y,v;const w=l.fields||{},T=c.fields||{},P=(f=w.value)===null||f===void 0?void 0:f.arrayValue,O=(p=T.value)===null||p===void 0?void 0:p.arrayValue,M=Ve(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:L_(P,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===ju.mapValue&&c===ju.mapValue)return 0;if(l===ju.mapValue)return 1;if(c===ju.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=Ve(p[w],v[w]);if(T!==0)return T;const P=Co(f[p[w]],y[v[w]]);if(P!==0)return P}return Ve(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function M_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ti(n),i=Ti(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function L_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Co(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function xo(n){return fd(n)}function fd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ti(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=fd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${fd(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function Xu(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(n);return e?16+Xu(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Xu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Pi(i.fields,(l,c)=>{o+=l.length+Xu(c)}),o}(n.mapValue);default:throw Te()}}function dd(n){return!!n&&"integerValue"in n}function hp(n){return!!n&&"arrayValue"in n}function O_(n){return!!n&&"nullValue"in n}function b_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yu(n){return!!n&&"mapValue"in n}function UC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ka(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Ka(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Pi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new un(Ka(this.value))}}function RE(n){const e=[];return Pi(n.fields,(t,i)=>{const o=new Ot([t]);if(Yu(i)){const l=RE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.position=e,this.inclusive=t}}function F_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Co(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function U_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function jC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class vt extends PE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $C(e,t,i):t==="array-contains"?new HC(e,i):t==="in"?new KC(e,i):t==="not-in"?new GC(e,i):t==="array-contains-any"?new QC(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new qC(e,i):new WC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends PE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mr(e,t)}matches(e){return CE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CE(n){return n.op==="and"}function xE(n){return zC(n)&&CE(n)}function zC(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function pd(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+xo(n.value);if(xE(n))return n.filters.map(e=>pd(e)).join(",");{const e=n.filters.map(t=>pd(t)).join(",");return`${n.op}(${e})`}}function kE(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)}(n,e):n instanceof mr?function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&kE(c,o.filters[f]),!0):!1}(n,e):void Te()}function VE(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(VE).join(" ,")+"}"}(n):"Filter"}class $C extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class qC extends vt{constructor(e,t){super(e,"in",t),this.keys=DE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WC extends vt{constructor(e,t){super(e,"not-in",t),this.keys=DE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class HC extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hp(t)&&ll(t.arrayValue,this.value)}}class KC extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ll(this.value.arrayValue,t)}}class GC extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ll(this.value.arrayValue,t)}}class QC extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function B_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new XC(n,e,t,i,o,l,c)}function fp(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>pd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ic(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xo(i)).join(",")),e.ue=t}return e.ue}function dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U_(n.startAt,e.startAt)&&U_(n.endAt,e.endAt)}function md(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YC(n,e,t,i,o,l,c,f){return new Pc(n,e,t,i,o,l,c,f)}function pp(n){return new Pc(n)}function j_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JC(n){return n.collectionGroup!==null}function Ga(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Et(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new hc(l,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new hc(Ot.keyField(),i))}return e.ce}function hr(n){const e=Ie(n);return e.le||(e.le=ZC(e,Ga(n))),e.le}function ZC(n,e){if(n.limitType==="F")return B_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new hc(o.field,l)});const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return B_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function gd(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cc(n,e){return dp(hr(n),hr(e))&&n.limitType===e.limitType}function NE(n){return`${fp(hr(n))}|lt:${n.limitType}`}function fo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>VE(o)).join(", ")}]`),Ic(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${i})`}(hr(n))}; limitType=${n.limitType})`}function xc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ga(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const y=F_(c,f,p);return c.inclusive?y<=0:y<0}(i.startAt,Ga(i),o)||i.endAt&&!function(c,f,p){const y=F_(c,f,p);return c.inclusive?y>=0:y>0}(i.endAt,Ga(i),o))}(n,e)}function ex(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ME(n){return(e,t)=>{let i=!1;for(const o of Ga(n)){const l=tx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function tx(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Co(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new nt(ve.comparator);function Ur(){return nx}const LE=new nt(ve.comparator);function Ba(...n){let e=LE;for(const t of n)e=e.insert(t.key,t);return e}function OE(n){let e=LE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ls(){return Qa()}function bE(){return Qa()}function Qa(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const rx=new nt(ve.comparator),ix=new Et(ve.comparator);function xe(...n){let e=ix;for(const t of n)e=e.add(t);return e}const sx=new Et(Ve);function ox(){return sx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function FE(n){return{integerValue:""+n}}function ax(n,e){return MC(e)?FE(e):mp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function lx(n,e,t){return n instanceof fc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&cp(l)&&(l=Rc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof ul?BE(n,e):n instanceof cl?jE(n,e):function(o,l){const c=UE(o,l),f=z_(c)+z_(o.Pe);return dd(c)&&dd(o.Pe)?FE(f):mp(o.serializer,f)}(n,e)}function ux(n,e,t){return n instanceof ul?BE(n,e):n instanceof cl?jE(n,e):t}function UE(n,e){return n instanceof dc?function(i){return dd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class fc extends kc{}class ul extends kc{constructor(e){super(),this.elements=e}}function BE(n,e){const t=zE(e);for(const i of n.elements)t.some(o=>pr(o,i))||t.push(i);return{arrayValue:{values:t}}}class cl extends kc{constructor(e){super(),this.elements=e}}function jE(n,e){let t=zE(e);for(const i of n.elements)t=t.filter(o=>!pr(o,i));return{arrayValue:{values:t}}}class dc extends kc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function z_(n){return ct(n.integerValue||n.doubleValue)}function zE(n){return hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ul&&o instanceof ul||i instanceof cl&&o instanceof cl?Po(i.elements,o.elements,pr):i instanceof dc&&o instanceof dc?pr(i.Pe,o.Pe):i instanceof fc&&o instanceof fc}(n.transform,e.transform)}class hx{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vc{}function $E(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new WE(n.key,fr.none()):new gl(n.key,n.data,fr.none());{const t=n.data,i=un.empty();let o=new Et(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Ci(n.key,i,new yn(o.toArray()),fr.none())}}function fx(n,e,t){n instanceof gl?function(o,l,c){const f=o.value.clone(),p=q_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ci?function(o,l,c){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=q_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(qE(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Xa(n,e,t,i){return n instanceof gl?function(l,c,f,p){if(!Ju(l.precondition,c))return f;const y=l.value.clone(),v=W_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ci?function(l,c,f,p){if(!Ju(l.precondition,c))return f;const y=W_(l.fieldTransforms,p,c),v=c.data;return v.setAll(qE(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,f){return Ju(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function dx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=UE(i.transform,o||null);l!=null&&(t===null&&(t=un.empty()),t.set(i.field,l))}return t||null}function $_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Po(i,o,(l,c)=>cx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gl extends Vc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ci extends Vc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function q_(n,e,t){const i=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,ux(c,f,t[o]))}return i}function W_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,lx(l,c,e))}return i}class WE extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class px extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&fx(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bE();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=$E(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(t,i)=>$_(t,i))&&Po(this.baseMutations,e.baseMutations,(t,i)=>$_(t,i))}}class gp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length);let o=function(){return rx}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new gp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function _x(n){switch(n){default:return Te();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function HE(n){if(n===void 0)return Fr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case dt.OK:return Y.OK;case dt.CANCELLED:return Y.CANCELLED;case dt.UNKNOWN:return Y.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Y.INTERNAL;case dt.UNAVAILABLE:return Y.UNAVAILABLE;case dt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case dt.NOT_FOUND:return Y.NOT_FOUND;case dt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case dt.ABORTED:return Y.ABORTED;case dt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case dt.DATA_LOSS:return Y.DATA_LOSS;default:return Te()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new yi([4294967295,4294967295],0);function H_(n){const e=vx().encode(n),t=new gE;return t.update(e),new Uint8Array(t.digest())}function K_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yi([t,i],0),new yi([o,l],0)]}class yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ja(`Invalid padding: ${t}`);if(i<0)throw new ja(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ja(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=yi.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(yi.fromNumber(i)));return o.compare(wx)===1&&(o=new yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=H_(e),[i,o]=K_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new yp(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=H_(e),[i,o]=K_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dc(Se.min(),o,new nt(Ve),Ur(),xe())}}class yl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yl(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class KE{constructor(e,t){this.targetId=e,this.me=t}}class GE{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class G_{constructor(){this.fe=0,this.ge=Q_(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new yl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Q_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ex{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ur(),this.qe=zu(),this.Qe=zu(),this.Ke=new nt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(md(l))if(i===0){const c=new ve(l.path);this.We(t,c,Wt.newNoDocument(c,Se.min()))}else Be(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),p=f?this.et(f,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Si(i).toUint8Array()}catch(p){if(p instanceof IE)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new yp(c,o,l)}catch(p){return Ro(p instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Be.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&md(f.target)){const p=new ve(f.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Wt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Dc(e,t,this.Ke,this.ke,i);return this.ke=Ur(),this.qe=zu(),this.Qe=zu(),this.Ke=new nt(Ve),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new G_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new G_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function zu(){return new nt(ve.comparator)}function Q_(){return new nt(ve.comparator)}const Tx={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ax={and:"AND",or:"OR"};class Ix{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yd(n,e){return n.useProto3Json||Ic(e)?e:{value:e}}function pc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rx(n,e){return pc(n,e.toTimestamp())}function dr(n){return Be(!!n),Se.fromTimestamp(function(t){const i=Ti(t);return new wt(i.seconds,i.nanos)}(n))}function _p(n,e){return _d(n,e).canonicalString()}function _d(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XE(n){const e=Je.fromString(n);return Be(tT(e)),e}function vd(n,e){return _p(n.databaseId,e.path)}function Lf(n,e){const t=XE(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(JE(t))}function YE(n,e){return _p(n.databaseId,e)}function Px(n){const e=XE(n);return e.length===4?Je.emptyPath():JE(e)}function wd(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JE(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function X_(n,e,t){return{name:vd(n,e),fields:t.value.mapValue.fields}}function Cx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(Be(v===void 0||typeof v=="string"),bt.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array),bt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const v=y.code===void 0?Y.UNKNOWN:HE(y.code);return new ge(v,y.message||"")}(c);t=new GE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Lf(n,i.document.name),l=dr(i.document.updateTime),c=i.document.createTime?dr(i.document.createTime):Se.min(),f=new un({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,c,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Zu(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Lf(n,i.document),l=i.readTime?dr(i.readTime):Se.min(),c=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Zu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Lf(n,i.document),l=i.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new yx(o,l),f=i.targetId;t=new KE(f,c)}}return t}function xx(n,e){let t;if(e instanceof gl)t={update:X_(n,e.key,e.value)};else if(e instanceof WE)t={delete:vd(n,e.key)};else if(e instanceof Ci)t={update:X_(n,e.key,e.data),updateMask:Fx(e.fieldMask)};else{if(!(e instanceof px))return Te();t={verify:vd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof fc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Rx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function kx(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?dr(o.updateTime):dr(l);return c.isEqual(Se.min())&&(c=dr(l)),new hx(c,o.transformResults||[])}(t,e))):[]}function Vx(n,e){return{documents:[YE(n,e.path)]}}function Dx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=YE(n,o);const l=function(y){if(y.length!==0)return eT(mr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(T){return{field:po(T.field),direction:Lx(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=yd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function Nx(n){let e=Px(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const T=ZE(w);return T instanceof mr&&xE(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(O){return new hc(mo(O.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Ic(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,P=w.values||[];return new cc(P,T)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const T=!w.before,P=w.values||[];return new cc(P,T)}(t.endAt)),YC(e,o,c,l,f,"F",p,y)}function Mx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=mo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(i=>ZE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function Lx(n){return Tx[n]}function Ox(n){return Sx[n]}function bx(n){return Ax[n]}function po(n){return{fieldPath:n.canonicalString()}}function mo(n){return Ot.fromServerFormat(n.fieldPath)}function eT(n){return n instanceof vt?function(t){if(t.op==="=="){if(b_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(O_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(O_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:Ox(t.op),value:t.value}}}(n):n instanceof mr?function(t){const i=t.getFilters().map(o=>eT(o));return i.length===1?i[0]:{compositeFilter:{op:bx(t.op),filters:i}}}(n):Te()}function Fx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.ht=e}}function Bx(n){const e=Nx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ln=new zx}addToCollectionParentIndex(e,t){return this.ln.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Ei.min())}updateCollectionGroup(e,t,i){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ko(0)}static Qn(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class $x{constructor(e){this.Gn=e,this.buffer=new Et(J_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();J_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bo(t)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.Yn(3e5)})}}class Wx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Ac.oe);const i=new $x(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Y_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),ho()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Hx(n,e){return new Wx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?H.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Xa(i.mutation,o,yn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Ba();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=Ur();const c=Qa(),f=function(){return Qa()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Ci)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Xa(v.mutation,y,v.mutation.getFieldMask(),wt.now())):c.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var w;return f.set(y,new Gx(v,(w=c.get(y))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Qa();let o=new nt((c,f)=>c-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||yn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const w=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,w=bE();v.forEach(T=>{if(!l.has(T)){const P=$E(t.get(T),i.get(T));P!==null&&w.set(T,P),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return H.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):H.resolve(ls());let f=-1,p=l;return c.next(y=>H.forEach(y,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?H.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(v=>({batchId:f,changes:OE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=Ba();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ba();return this.indexManager.getCollectionParents(e,l).next(f=>H.forEach(f,p=>{const y=function(w,T){return new Pc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Wt.newInvalidDocument(v)))});let f=Ba();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&Xa(v.mutation,y,yn.empty(),wt.now()),xc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return H.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Bx(o.bundledQuery),readTime:dr(o.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.overlays=new nt(ve.comparator),this.dr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ls();return H.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),H.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),H.resolve()}getOverlaysForCollection(e,t,i){const o=ls(),l=t.length+1,c=new ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=ls(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=ls(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=o)););return H.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new gx(t,i));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Er=new Et(Pt.Ar),this.Rr=new Et(Pt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Pt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mx(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(c)}lookupMutationBatch(e,t){return H.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);l.push(f)}),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Ve);return t.forEach(o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{i=i.add(f.br)})}),H.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new ve(l),0);let f=new Et(Ve);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},c),H.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return H.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.Nr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return H.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),H.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ur();const c=t.path,f=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||kC(xC(v),i)<=0||(o.has(v.key)||xc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Br(e,t){return H.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tk(this)}getSize(e){return H.resolve(this.size)}}class tk extends Kx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),H.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.persistence=e,this.Lr=new ys(t=>fp(t),dp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new vp,this.targetCount=0,this.Qr=ko.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),H.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Un(t),H.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),H.waitFor(l).next(()=>o)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return H.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),H.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return H.resolve(i)}containsKey(e,t){return H.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ac(0),this.Ur=!1,this.Ur=!0,this.Wr=new Jx,this.referenceDelegate=e(this),this.Gr=new nk(this),this.indexManager=new jx,this.remoteDocumentCache=function(o){return new ek(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Ux(t),this.jr=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Zx(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new rk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return H.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class rk extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Zr=new vp,this.Xr=null}static ei(e){return new wp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),H.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),H.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return H.or([()=>H.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class mc{constructor(e,t){this.persistence=e,this.ri=new ys(i=>LC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Hx(this,t)}static ei(e,t){return new mc(e,t)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return H.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?H.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xu(e.data.value)),t}ir(e,t,i){return H.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return H.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ep(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return iP()?8:NC(nP())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ik;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(ho()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(ho()<=Le.DEBUG&&oe("QueryEngine","Query:",fo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(ho()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):H.resolve())}Xi(e,t){if(j_(t))return H.resolve(null);let i=hr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gd(t,null,"F"),i=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=xe(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,c,p.readTime)?this.Xi(e,gd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return j_(t)||o.isEqual(Se.min())?H.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?H.resolve(null):(ho()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.os(e,c,t,CC(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(ME(e));return t.forEach((o,l)=>{xc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return ho()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",fo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ei.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ve),this.cs=new ys(l=>fp(l),dp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function ak(n,e,t,i){return new ok(n,e,t,i)}async function rT(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=xe();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function lk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const w=y.batch,T=w.keys();let P=H.resolve();return T.forEach(O=>{P=P.next(()=>v.getEntry(p,O)).next(M=>{const N=y.docVersions.get(O);Be(N!==null),M.version.compareTo(N)<0&&(w.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),v.addEntry(M)))})}),P.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function iT(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function uk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;f.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,w)));let P=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),o=o.insert(w,P),function(M,N,q){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,P,v)&&f.push(t.Gr.updateTargetData(l,P))});let p=Ur(),y=xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(ck(l,c,e.documentUpdates).next(v=>{p=v.Is,y=v.ds})),!i.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return H.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function ck(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ur();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:c,ds:o}})}function hk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,H.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Ed(n,e,t){const i=Ie(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!bo(c))throw c;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Z_(n,e,t){const i=Ie(n);let o=Se.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const w=Ie(p),T=w.cs.get(v);return T!==void 0?H.resolve(w.us.get(T)):w.Gr.getTargetData(y,v)}(i,c,hr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:xe())).next(f=>(dk(i,ex(e),f),{documents:f,Es:l})))}function dk(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class ev{constructor(){this.activeTargetIds=ox()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pk{constructor(){this._o=new ev,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ev,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Of(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class _k extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const f=Of(),p=this.No(t,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,c),this.Lo(t,p,y,o).then(v=>(oe("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Ro("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,f){return this.Oo(t,i,o,l,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=gk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=Of();return new Promise((c,f)=>{const p=new yE;p.setWithCredentials(!0),p.listenOnce(_E.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qu.NO_ERROR:const v=p.getResponseJson();oe(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Qu.TIMEOUT:oe(zt,`RPC '${e}' ${l} timed out`),f(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const w=p.getStatus();if(oe(zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T==null?void 0:T.error;if(P&&P.status&&P.message){const O=function(N){const q=N.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(q)>=0?q:Y.UNKNOWN}(P.status);f(new ge(O,P.message))}else f(new ge(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(zt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);oe(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Of(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=EE(),f=wE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");oe(zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);let T=!1,P=!1;const O=new yk({Eo:N=>{P?oe(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(oe(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),oe(zt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Ao:()=>w.close()}),M=(N,q,W)=>{N.listen(q,G=>{try{W(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return M(w,Ua.EventType.OPEN,()=>{P||(oe(zt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),M(w,Ua.EventType.CLOSE,()=>{P||(P=!0,oe(zt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),M(w,Ua.EventType.ERROR,N=>{P||(P=!0,Ro(zt,`RPC '${e}' stream ${o} transport errored:`,N),O.Do(new ge(Y.UNAVAILABLE,"The operation could not be completed")))}),M(w,Ua.EventType.MESSAGE,N=>{var q;if(!P){const W=N.data[0];Be(!!W);const G=W,ne=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(ne){oe(zt,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let le=function(R){const V=dt[R];if(V!==void 0)return HE(V)}(re),k=ne.message;le===void 0&&(le=Y.INTERNAL,k="Unknown error status: "+re+" with message "+ne.message),P=!0,O.Do(new ge(le,k)),w.close()}else oe(zt,`RPC '${e}' stream ${o} received:`,W),O.vo(W)}}),M(f,vE.STAT_EVENT,N=>{N.stat===hd.PROXY?oe(zt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===hd.NOPROXY&&oe(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){return new Ix(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t,i,o,l,c,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new sT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vk extends oT{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Cx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?dr(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=wd(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=md(p)?{documents:Vx(l,p)}:{query:Dx(l,p).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=QE(l,c.resumeToken);const y=yd(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=pc(l,c.snapshotVersion.toTimestamp());const y=yd(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=Mx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=wd(this.serializer),t.removeTarget=e,this.c_(t)}}class wk extends oT{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=kx(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=wd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xx(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,_d(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,_d(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Y.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Tk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(t),this.C_=!1):oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{_s(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.k_.add(4),await _l(y),y.K_.set("Unknown"),y.k_.delete(4),await Mc(y)}(this))})}),this.K_=new Tk(i,o)}}async function Mc(n){if(_s(n))for(const e of n.q_)await e(!0)}async function _l(n){for(const e of n.q_)await e(!1)}function aT(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Ip(t)?Ap(t):Fo(t).s_()&&Sp(t,e))}function Tp(n,e){const t=Ie(n),i=Fo(t);t.L_.delete(e),i.s_()&&lT(t,e),t.L_.size===0&&(i.s_()?i.a_():_s(t)&&t.K_.set("Unknown"))}function Sp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(n).V_(e)}function lT(n,e){n.U_.xe(e),Fo(n).m_(e)}function Ap(n){n.U_=new Ex({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Fo(n).start(),n.K_.F_()}function Ip(n){return _s(n)&&!Fo(n).i_()&&n.L_.size>0}function _s(n){return Ie(n).k_.size===0}function uT(n){n.U_=void 0}async function Ak(n){n.K_.set("Online")}async function Ik(n){n.L_.forEach((e,t)=>{Sp(n,e)})}async function Rk(n,e){uT(n),Ip(n)?(n.K_.O_(e),Ap(n)):n.K_.set("Unknown")}async function Pk(n,e,t){if(n.K_.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gc(n,i)}else if(e instanceof Zu?n.U_.$e(e):e instanceof KE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await iT(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.L_.get(y);v&&l.L_.set(y,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const v=l.L_.get(p);if(!v)return;l.L_.set(p,v.withResumeToken(bt.EMPTY_BYTE_STRING,v.snapshotVersion)),lT(l,p);const w=new di(v.target,p,y,v.sequenceNumber);Sp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await gc(n,i)}}async function gc(n,e,t){if(!bo(e))throw e;n.k_.add(1),await _l(n),n.K_.set("Offline"),t||(t=()=>iT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Mc(n)})}function cT(n,e){return e().catch(t=>gc(n,t,e))}async function Lc(n){const e=Ie(n),t=Ii(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Ck(e);)try{const o=await hk(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,xk(e,o)}catch(o){await gc(e,o)}hT(e)&&fT(e)}function Ck(n){return _s(n)&&n.B_.length<10}function xk(n,e){n.B_.push(e);const t=Ii(n);t.s_()&&t.f_&&t.g_(e.mutations)}function hT(n){return _s(n)&&!Ii(n).i_()&&n.B_.length>0}function fT(n){Ii(n).start()}async function kk(n){Ii(n).w_()}async function Vk(n){const e=Ii(n);for(const t of n.B_)e.g_(t.mutations)}async function Dk(n,e,t){const i=n.B_.shift(),o=gp.from(i,e,t);await cT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Lc(n)}async function Nk(n,e){e&&Ii(n).f_&&await async function(i,o){if(function(c){return _x(c)&&c!==Y.ABORTED}(o.code)){const l=i.B_.shift();Ii(i).__(),await cT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Lc(i)}}(n,e),hT(n)&&fT(n)}async function nv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=_s(t);t.k_.add(3),await _l(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Mc(t)}async function Mk(n,e){const t=Ie(n);e?(t.k_.delete(2),await Mc(t)):e||(t.k_.add(2),await _l(t),t.K_.set("Unknown"))}function Fo(n){return n.W_||(n.W_=function(t,i,o){const l=Ie(t);return l.b_(),new vk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Ak.bind(null,n),mo:Ik.bind(null,n),po:Rk.bind(null,n),R_:Pk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ip(n)?Ap(n):n.K_.set("Unknown")):(await n.W_.stop(),uT(n))})),n.W_}function Ii(n){return n.G_||(n.G_=function(t,i,o){const l=Ie(t);return l.b_(),new wk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:kk.bind(null,n),po:Nk.bind(null,n),p_:Vk.bind(null,n),y_:Dk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Lc(n)):(await n.G_.stop(),n.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new Rp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),bo(n))return new ge(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Ba(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.z_=new nt(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vo{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Vo(e,t,Eo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Ok{constructor(){this.queries=iv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=iv(),l.forEach((c,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function iv(){return new ys(n=>NE(n),Cc)}async function bk(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new Lk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Pp(c,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Cp(t)}async function Fk(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Uk(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&Cp(t)}function Bk(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Cp(n){n.X_.forEach(e=>{e.next()})}var Td,sv;(sv=Td||(Td={})).na="default",sv.Cache="cache";class jk{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class zk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=ME(e),this.ma=new Eo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new rv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),P=xc(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let N=!1;T&&P?T.data.isEqual(P.data)?O!==M&&(i.track({type:3,doc:P}),N=!0):this.ya(T,P)||(i.track({type:2,doc:P}),N=!0,(p&&this.Va(P,p)>0||y&&this.Va(P,y)<0)&&(f=!0)):!T&&P?(i.track({type:0,doc:P}),N=!0):T&&!P&&(i.track({type:1,doc:T}),N=!0,(p||y)&&(f=!0)),N&&(P?(c=c.add(P),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,w)=>function(P,O){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return M(P)-M(O)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new Vo(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new rv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new pT(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new dT(i))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Vo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class $k{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qk{constructor(e){this.key=e,this.Fa=!1}}class Wk{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ys(f=>NE(f),Cc),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ve.comparator),this.La=new Map,this.ka=new vp,this.qa={},this.Qa=new Map,this.Ka=ko.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Hk(n,e,t=!0){const i=wT(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await mT(i,e,t,!0),o}async function Kk(n,e){const t=wT(n);await mT(t,e,!0,!1)}async function mT(n,e,t,i){const o=await fk(n.localStore,hr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Gk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&aT(n.remoteStore,o),f}async function Gk(n,e,t,i,o){n.Ua=(w,T,P)=>async function(M,N,q,W){let G=N.view.ga(q);G.ss&&(G=await Z_(M.localStore,N.query,!1).then(({documents:k})=>N.view.ga(k,G)));const ne=W&&W.targetChanges.get(N.targetId),re=W&&W.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(G,M.isPrimaryClient,ne,re);return av(M,N.targetId,le.ba),le.snapshot}(n,w,T,P);const l=await Z_(n.localStore,e,!0),c=new zk(e,l.Es),f=c.ga(l.documents),p=yl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);av(n,t,y.ba);const v=new $k(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Qk(n,e,t){const i=Ie(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Cc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Tp(i.remoteStore,o.targetId),Sd(i,o.targetId)}).catch(Oo)):(Sd(i,o.targetId),await Ed(i.localStore,o.targetId,!0))}async function Xk(n,e){const t=Ie(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Tp(t.remoteStore,i.targetId))}async function Yk(n,e,t){const i=iV(n);try{const o=await function(c,f){const p=Ie(c),y=wt.now(),v=f.reduce((P,O)=>P.add(O.key),xe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=Ur(),M=xe();return p.hs.getEntries(P,v).next(N=>{O=N,O.forEach((q,W)=>{W.isValidDocument()||(M=M.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(N=>{w=N;const q=[];for(const W of f){const G=dx(W,w.get(W.key).overlayedDocument);G!=null&&q.push(new Ci(W.key,G,RE(G.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,q,f)}).next(N=>{T=N;const q=N.applyToLocalDocumentSet(w,M);return p.documentOverlayCache.saveOverlays(P,N.batchId,q)})}).then(()=>({batchId:T.batchId,changes:OE(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let y=c.qa[c.currentUser.toKey()];y||(y=new nt(Ve)),y=y.insert(f,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await vl(i,o.changes),await Lc(i.remoteStore)}catch(o){const l=Pp(o,"Failed to persist write");t.reject(l)}}async function gT(n,e){const t=Ie(n);try{const i=await uk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.La.get(l);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Be(c.Fa):o.removedDocuments.size>0&&(Be(c.Fa),c.Fa=!1))}),await vl(t,i,e)}catch(i){await Oo(i)}}function ov(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Ie(c);p.onlineState=f;let y=!1;p.queries.forEach((v,w)=>{for(const T of w.J_)T.ea(f)&&(y=!0)}),y&&Cp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Jk(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let c=new nt(ve.comparator);c=c.insert(l,Wt.newNoDocument(l,Se.min()));const f=xe().add(l),p=new Dc(Se.min(),new Map,new nt(Ve),c,f);await gT(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),xp(i)}else await Ed(i.localStore,e,!1).then(()=>Sd(i,e,t)).catch(Oo)}async function Zk(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await lk(t.localStore,e);_T(t,i,null),yT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vl(t,o)}catch(o){await Oo(o)}}async function eV(n,e,t){const i=Ie(n);try{const o=await function(c,f){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(w=>(Be(w!==null),v=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);_T(i,e,t),yT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vl(i,o)}catch(o){await Oo(o)}}function yT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function _T(n,e,t){const i=Ie(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||vT(n,i)})}function vT(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Tp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),xp(n))}function av(n,e,t){for(const i of t)i instanceof dT?(n.ka.addReference(i.key,e),tV(n,i)):i instanceof pT?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||vT(n,i.key)):Te()}function tV(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.Na.add(i),xp(n))}function xp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(Je.fromString(e)),i=n.Ka.next();n.La.set(i,new qk(t)),n.Ba=n.Ba.insert(t,i),aT(n.remoteStore,new di(hr(pp(t.path)),i,"TargetPurposeLimboResolution",Ac.oe))}}async function vl(n,e,t){const i=Ie(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{c.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Ep.zi(p.targetId,y);l.push(w)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>H.forEach(y,T=>H.forEach(T.Wi,P=>v.persistence.referenceDelegate.addReference(w,T.targetId,P)).next(()=>H.forEach(T.Gi,P=>v.persistence.referenceDelegate.removeReference(w,T.targetId,P)))))}catch(w){if(!bo(w))throw w;oe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const P=v.us.get(T),O=P.snapshotVersion,M=P.withLastLimboFreeSnapshotVersion(O);v.us=v.us.insert(T,M)}}}(i.localStore,l))}async function nV(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await rT(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ge(Y.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vl(t,i.Ts)}}function rV(n,e){const t=Ie(n),i=t.La.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function wT(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,e),e.Ma.R_=Uk.bind(null,e.eventManager),e.Ma.Wa=Bk.bind(null,e.eventManager),e}function iV(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eV.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return ak(this.persistence,new sk,e.initialUser,this.serializer)}ja(e){return new nT(wp.ei,this.serializer)}za(e){return new pk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class sV extends yc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof mc);const i=this.persistence.referenceDelegate.garbageCollector;return new qx(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new nT(i=>mc.ei(i,t),this.serializer)}}class Ad{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,this.syncEngine),await Mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ok}()}createDatastore(e){const t=Nc(e.databaseInfo.databaseId),i=function(l){return new _k(l)}(e.databaseInfo);return function(l,c,f,p){return new Ek(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new Sk(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ov(this.syncEngine,t,0),function(){return tv.p()?new tv:new mk}())}createSyncEngine(e,t){return function(o,l,c,f,p,y,v){const w=new Wk(o,l,c,f,p,y);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);oe("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await _l(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ad.provider={build:()=>new Ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=SE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{oe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(oe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Pp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ff(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await rT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function lv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lV(n);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>nv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>nv(e.remoteStore,o)),n._onlineComponents=e}async function lV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await Ff(n,new yc)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Ff(n,new sV(void 0));return n._offlineComponents}async function ET(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await lv(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await lv(n,new Ad))),n._onlineComponents}function uV(n){return ET(n).then(e=>e.syncEngine)}async function uv(n){const e=await ET(n),t=e.eventManager;return t.onListen=Hk.bind(null,e.syncEngine),t.onUnlisten=Qk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Kk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Xk.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cV(n,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hv(n){if(!ve.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fv(n){if(ve.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kp(n);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vC;switch(i.type){case"firstParty":return new SC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=cv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),cv.delete(t),i.terminate())}(this),Promise.resolve()}}function hV(n,e,t,i={}){var o;const l=(n=hs(n,Oc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=sE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(y)}n._authCredentials=new wC(new TE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class _i extends bc{constructor(e,t,i){super(e,t,pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function fV(n,e,...t){if(n=En(n),ST("collection","path",e),n instanceof Oc){const i=Je.fromString(e,...t);return fv(i),new _i(n,null,i)}{if(!(n instanceof wn||n instanceof _i))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return fv(i),new _i(n.firestore,null,i)}}function AT(n,e,...t){if(n=En(n),arguments.length===1&&(e=SE.newId()),ST("doc","path",e),n instanceof Oc){const i=Je.fromString(e,...t);return hv(i),new wn(n,null,new ve(i))}{if(!(n instanceof wn||n instanceof _i))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return hv(i),new wn(n.firestore,n instanceof _i?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new sT(this,"async_queue_retry"),this.fu=()=>{const i=bf();i&&oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new cs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!bo(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Fr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Rp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function mv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class hl extends Oc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new pv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function dV(n,e){const t=typeof n=="object"?n:dE(),i=typeof n=="string"?n:"(default)",o=cE(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=rE("firestore");l&&hV(o,...l)}return o}function IT(n){if(n._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pV(n),n._firestoreClient}function pV(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,v){return new FC(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,TT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new aV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(bt.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Do(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^__.*__$/;class gV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}class RT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Mp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return _c(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(PT(this.Mu)&&mV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class yV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nc(e)}$u(e,t,i,o=!1){return new Mp({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(n){const e=n._freezeSettings(),t=Nc(n._databaseId);return new yV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _V(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Lp("Data must be an object, but it was:",c,i);const f=xT(i,c);let p,y;if(l.merge)p=new yn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=Id(e,w,t);if(!c.contains(T))throw new ge(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);VT(v,T)||v.push(T)}p=new yn(v),y=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=c.fieldTransforms;return new gV(new un(f),p,y)}class Uc extends Vp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function vV(n,e,t,i){const o=n.$u(1,e,t);Lp("Data must be an object, but it was:",o,i);const l=[],c=un.empty();Pi(i,(p,y)=>{const v=Op(e,p,t);y=En(y);const w=o.Lu(v);if(y instanceof Uc)l.push(v);else{const T=Bc(y,w);T!=null&&(l.push(v),c.set(v,T))}});const f=new yn(l);return new RT(c,f,o.fieldTransforms)}function wV(n,e,t,i,o,l){const c=n.$u(1,e,t),f=[Id(e,i,t)],p=[o];if(l.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Id(e,l[T])),p.push(l[T+1]);const y=[],v=un.empty();for(let T=f.length-1;T>=0;--T)if(!VT(y,f[T])){const P=f[T];let O=p[T];O=En(O);const M=c.Lu(P);if(O instanceof Uc)y.push(P);else{const N=Bc(O,M);N!=null&&(y.push(P),v.set(P,N))}}const w=new yn(y);return new RT(v,w,c.fieldTransforms)}function Bc(n,e){if(kT(n=En(n)))return Lp("Unsupported field value:",e,n),xT(n,e);if(n instanceof Vp)return function(i,o){if(!PT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=Bc(f,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=En(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ax(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:pc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pc(o.serializer,l)}}if(i instanceof Dp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Do)return{bytesValue:QE(o.serializer,i._byteString)};if(i instanceof wn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_p(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Np)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return mp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${kp(i)}`)}(n,e)}function xT(n,e){const t={};return AE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(n,(i,o)=>{const l=Bc(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function kT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Dp||n instanceof Do||n instanceof wn||n instanceof Vp||n instanceof Np)}function Lp(n,e,t){if(!kT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=kp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Id(n,e,t){if((e=En(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return Op(n,e);throw _c("Field path arguments must be of type string or ",n,!1,void 0,t)}const EV=new RegExp("[~\\*/\\[\\]]");function Op(n,e,t){if(e.search(EV)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _c(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(Y.INVALID_ARGUMENT,f+n+p)}function VT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(NT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TV extends DT{data(){return super.data()}}function NT(n,e){return typeof e=="string"?Op(n,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AV{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new Np(l)}convertGeoPoint(e){return new Dp(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=Ti(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);Be(tT(i));const o=new al(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MT extends DT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(NT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ec extends MT{data(e={}){return super.data(e)}}class RV{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new za(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ec(this._firestore,this._userDataWriter,i.key,i,new za(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new za(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new za(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:PV(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class LT extends AV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function CV(n,e,t,...i){n=hs(n,wn);const o=hs(n.firestore,hl),l=CT(o);let c;return c=typeof(e=En(e))=="string"||e instanceof Fc?wV(l,"updateDoc",n._key,e,t,i):vV(l,"updateDoc",n._key,e),OT(o,[c.toMutation(n._key,fr.exists(!0))])}function xV(n,e){const t=hs(n.firestore,hl),i=AT(n),o=IV(n.converter,e);return OT(t,[_V(CT(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,fr.exists(!1))]).then(()=>i)}function kV(n,...e){var t,i,o;n=En(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||mv(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(mv(e[c])){const w=e[c];e[c]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,y,v;if(n instanceof wn)y=hs(n.firestore,hl),v=pp(n._key.path),p={next:w=>{e[c]&&e[c](VV(y,n,w))},error:e[c+1],complete:e[c+2]};else{const w=hs(n,bc);y=hs(w.firestore,hl),v=w._query;const T=new LT(y);p={next:P=>{e[c]&&e[c](new RV(y,T,w,P))},error:e[c+1],complete:e[c+2]},SV(n._query)}return function(T,P,O,M){const N=new oV(M),q=new jk(P,N,O);return T.asyncQueue.enqueueAndForget(async()=>bk(await uv(T),q)),()=>{N.eu(),T.asyncQueue.enqueueAndForget(async()=>Fk(await uv(T),q))}}(IT(y),v,f,p)}function OT(n,e){return function(i,o){const l=new cs;return i.asyncQueue.enqueueAndForget(async()=>Yk(await uV(i),o,l)),l.promise}(IT(n),e)}function VV(n,e,t){const i=t.docs.get(e._key),o=new LT(n);return new MT(n,o,e._key,i,new za(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(hE),il(new Io("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new hl(new EC(i.getProvider("auth-internal")),new IC(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),gi(k_,"4.7.6",e),gi(k_,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebasestorage.googleapis.com",FT="storageBucket",DV=2*60*1e3,NV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends gs{constructor(e,t,i=0){super(Uf(e),`Firebase Storage: ${t} (${Uf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function Uf(n){return"storage/"+n}function bp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(st.UNKNOWN,n)}function MV(n){return new ot(st.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function LV(n){return new ot(st.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(st.UNAUTHENTICATED,n)}function bV(){return new ot(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FV(n){return new ot(st.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function UV(){return new ot(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BV(){return new ot(st.CANCELED,"User canceled the upload/download.")}function jV(n){return new ot(st.INVALID_URL,"Invalid URL '"+n+"'.")}function zV(n){return new ot(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $V(){return new ot(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FT+"' property when initializing the app?")}function qV(){return new ot(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WV(){return new ot(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HV(n){return new ot(st.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rd(n){return new ot(st.INVALID_ARGUMENT,n)}function UT(){return new ot(st.APP_DELETED,"The Firebase app was deleted.")}function KV(n){return new ot(st.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ya(n,e){return new ot(st.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function La(n){throw new ot(st.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=_n.makeFromUrl(e,t)}catch{return new _n(e,"")}if(i.path==="")return i;throw zV(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",P=new RegExp(`^https?://${w}/${v}/b/${o}/o${T}`,"i"),O={bucket:1,path:3},M=t===bT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",q=new RegExp(`^https?://${M}/${o}/${N}`,"i"),G=[{regex:f,indices:p,postModify:l},{regex:P,indices:O,postModify:y},{regex:q,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<G.length;ne++){const re=G[ne],le=re.regex.exec(e);if(le){const k=le[re.indices.bucket];let A=le[re.indices.path];A||(A=""),i=new _n(k,A),re.postModify(i);break}}if(i==null)throw jV(e);return i}}class GV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(n,e,t){let i=1,o=null,l=null,c=!1,f=0;function p(){return f===2}let y=!1;function v(...N){y||(y=!0,e.apply(null,N))}function w(N){o=setTimeout(()=>{o=null,n(P,p())},N)}function T(){l&&clearTimeout(l)}function P(N,...q){if(y){T();return}if(N){T(),v.call(null,N,...q);return}if(p()||c){T(),v.call(null,N,...q);return}i<64&&(i*=2);let G;f===1?(f=2,G=0):G=(i+Math.random())*1e3,w(G)}let O=!1;function M(N){O||(O=!0,T(),!y&&(o!==null?(N||(f=2),clearTimeout(o),w(0)):N||(f=1)))}return w(0),l=setTimeout(()=>{c=!0,M(!0)},t),M}function XV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n){return n!==void 0}function JV(n){return typeof n=="object"&&!Array.isArray(n)}function Fp(n){return typeof n=="string"||n instanceof String}function gv(n){return Up()&&n instanceof Blob}function Up(){return typeof Blob<"u"}function yv(n,e,t,i){if(i<e)throw Rd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Rd(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function BT(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var fs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,i,o,l,c,f,p,y,v,w,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,O)=>{this.resolve_=P,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new qu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===fs.NO_ERROR,p=l.getStatus();if(!f||ZV(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===fs.ABORT;i(!1,new qu(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new qu(y,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());YV(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=bp();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(o.canceled){const p=this.appDelete_?UT():BV();c(p)}else{const p=UV();c(p)}};this.canceled_?t(!1,new qu(!1,null,!0)):this.backoffId_=QV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function iD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sD(n,e,t,i,o,l,c=!0){const f=BT(n.urlParams),p=n.url+f,y=Object.assign({},n.headers);return rD(y,e),tD(y,t),nD(y,l),iD(y,i),new eD(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aD(...n){const e=oD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Up())return new Blob(n);throw new ot(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){if(typeof atob>"u")throw HV("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bf{constructor(e,t){this.data=e,this.contentType=t||null}}function cD(n,e){switch(n){case lr.RAW:return new Bf(jT(e));case lr.BASE64:case lr.BASE64URL:return new Bf(zT(n,e));case lr.DATA_URL:return new Bf(fD(e),dD(e))}throw bp()}function jT(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function hD(n){let e;try{e=decodeURIComponent(n)}catch{throw Ya(lr.DATA_URL,"Malformed data URL.")}return jT(e)}function zT(n,e){switch(n){case lr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Ya(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Ya(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=uD(e)}catch(o){throw o.message.includes("polyfill")?o:Ya(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class $T{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ya(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=pD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function fD(n){const e=new $T(n);return e.base64?zT(lr.BASE64,e.rest):hD(e.rest)}function dD(n){return new $T(n).contentType}function pD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){let i=0,o="";gv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(gv(this.data_)){const i=this.data_,o=lD(i,e,t);return o===null?null:new fi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new fi(i,!0)}}static getBlob(...e){if(Up()){const t=e.map(i=>i instanceof fi?i.data_:i);return new fi(aD.apply(null,t))}else{const t=e.map(c=>Fp(c)?cD(lr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)o[l++]=c[f]}),new fi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n){let e;try{e=JSON.parse(n)}catch{return null}return JV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function gD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function WT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e){return e}class Yt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||yD}}let Wu=null;function _D(n){return!Fp(n)||n.length<2?n:WT(n)}function HT(){if(Wu)return Wu;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,c){return _D(c)}const t=new Yt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Yt("size");return o.xform=i,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),Wu=n,Wu}function vD(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new _n(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function wD(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return vD(i,n),i}function KT(n,e,t){const i=qT(e);return i===null?null:wD(n,i,t)}function ED(n,e,t,i){const o=qT(e);if(o===null||!Fp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,w=n.fullPath,T="/b/"+c(v)+"/o/"+c(w),P=Bp(T,t,i),O=BT({alt:"media",token:y});return P+O})[0]}function TD(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class GT{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){if(!n)throw bp()}function SD(n,e){function t(i,o){const l=KT(n,o,e);return QT(l!==null),l}return t}function AD(n,e){function t(i,o){const l=KT(n,o,e);return QT(l!==null),ED(l,o,n.host,n._protocol)}return t}function XT(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=bV():o=OV():t.getStatus()===402?o=LV(n.bucket):t.getStatus()===403?o=FV(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function ID(n){const e=XT(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=MV(n.path)),l.serverResponse=o.serverResponse,l}return t}function RD(n,e,t){const i=e.fullServerUrl(),o=Bp(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new GT(o,l,AD(n,t),c);return f.errorHandler=ID(e),f}function PD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function CD(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=PD(null,e)),i}function xD(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let ne=0;ne<2;ne++)G=G+Math.random().toString().slice(2);return G}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const y=CD(e,i,o),v=TD(y,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+p+"--",P=fi.getBlob(w,i,T);if(P===null)throw qV();const O={name:y.fullPath},M=Bp(l,n.host,n._protocol),N="POST",q=n.maxUploadRetryTime,W=new GT(M,N,SD(n,t),q);return W.urlParams=O,W.headers=c,W.body=P.uploadData(),W.errorHandler=XT(e),W}class kD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw La("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw La("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw La("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw La("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw La("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VD extends kD{initXhr(){this.xhr_.responseType="text"}}function YT(){return new VD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t){this._service=e,t instanceof _n?this._location=t:this._location=_n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ps(e,t)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WT(this._location.path)}get storage(){return this._service}get parent(){const e=mD(this._location.path);if(e===null)return null;const t=new _n(this._location.bucket,e);return new ps(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KV(e)}}function DD(n,e,t){n._throwIfRoot("uploadBytes");const i=xD(n.storage,n._location,HT(),new fi(e,!0),t);return n.storage.makeRequestWithTokens(i,YT).then(o=>({metadata:o,ref:n}))}function ND(n){n._throwIfRoot("getDownloadURL");const e=RD(n.storage,n._location,HT());return n.storage.makeRequestWithTokens(e,YT).then(t=>{if(t===null)throw WV();return t})}function MD(n,e){const t=gD(n._location.path,e),i=new _n(n._location.bucket,t);return new ps(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){return/^[A-Za-z]+:\/\//.test(n)}function OD(n,e){return new ps(n,e)}function JT(n,e){if(n instanceof jp){const t=n;if(t._bucket==null)throw $V();const i=new ps(t,t._bucket);return e!=null?JT(i,e):i}else return e!==void 0?MD(n,e):n}function bD(n,e){if(e&&LD(e)){if(n instanceof jp)return OD(n,e);throw Rd("To use ref(service, url), the first argument must be a Storage instance.")}else return JT(n,e)}function _v(n,e){const t=e==null?void 0:e[FT];return t==null?null:_n.makeFromBucketSpec(t,n)}function FD(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:sE(o,n.app.options.projectId))}class jp{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=bT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DV,this._maxUploadRetryTime=NV,this._requests=new Set,o!=null?this._bucket=_n.makeFromBucketSpec(o,this._host):this._bucket=_v(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=_v(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ps(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new GV(UT());{const c=sD(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const vv="@firebase/storage",wv="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="storage";function UD(n,e,t){return n=En(n),DD(n,e,t)}function BD(n){return n=En(n),ND(n)}function jD(n,e){return n=En(n),bD(n,e)}function zD(n=dE(),e){n=En(n);const i=cE(n,ZT).getImmediate({identifier:e}),o=rE("storage");return o&&$D(i,...o),i}function $D(n,e,t,i={}){FD(n,e,t,i)}function qD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new jp(t,i,o,e,hE)}function WD(){il(new Io(ZT,qD,"PUBLIC").setMultipleInstances(!0)),gi(vv,wv,""),gi(vv,wv,"esm2017")}WD();const HD={apiKey:"AIzaSyDaEBKWvFiT3hMTKhz_DU5k9i2FCip0Mx4",authDomain:"imageboard-176a7.firebaseapp.com",projectId:"imageboard-176a7",storageBucket:"imageboard-176a7.appspot.com",messagingSenderId:"848950340650",appId:"1:848950340650:web:fd52a1c2805a6829e56753"},e0=fE(HD),Ev=dV(e0),KD=zD(e0);function GD(){const[n,e]=fe.useState([]),[t,i]=fe.useState(""),[o,l]=fe.useState(null),[c,f]=fe.useState(!1),[p,y]=fe.useState(""),[v,w]=fe.useState(""),T=fV(Ev,"posts");fe.useEffect(()=>{const M=kV(T,N=>{const q=N.docs.map(W=>({id:W.id,...W.data()}));e(q)});return()=>M()},[]);const P=async M=>{const N=M.target.files[0];if(N){f(!0);const q=jD(KD,`images/${N.name}`);try{await UD(q,N);const W=await BD(q);l(W),console.log("Image uploaded successfully:",W)}catch(W){console.error("Error uploading image:",W)}finally{f(!1)}}},O=async()=>{if(t||o){const M=p.trim()?p:"An0n",N={text:t,image:o,username:M,country:v,comments:[],createdAt:new Date().toISOString()};try{await xV(T,N),i(""),l(null),y(""),w("")}catch(q){console.error("Error posting to Firestore:",q)}}};return me.jsx("div",{className:"min-h-screen bg-purple-900 text-white p-6 flex flex-col items-center",children:me.jsxs("div",{className:"w-full max-w-2xl",children:[me.jsxs(jf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[me.jsx(Jw,{username:p,setUsername:y,country:v,setCountry:w}),me.jsx(Sv,{placeholder:"What's on your mind?",value:t,onChange:M=>i(M.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",id:"upload"}),me.jsxs("label",{htmlFor:"upload",className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white",children:[me.jsx(yS,{size:20})," ",c?"Uploading...":"Upload Image"]}),o&&me.jsx("img",{src:o,alt:"Preview",className:"mt-3 rounded-lg max-h-40"}),me.jsx(Tv,{onClick:O,disabled:c,className:"w-full mt-4 bg-purple-600 hover:bg-purple-500",children:"Post"})]}),me.jsx("div",{className:"mt-6 space-y-4",children:n.map(M=>me.jsx(z1.div,{initial:{opacity:0},animate:{opacity:1},children:me.jsxs(jf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[me.jsxs("div",{className:"flex items-center mb-2",children:[me.jsx("span",{className:"mr-2",children:M.country}),me.jsx("span",{className:"font-bold",children:M.username})]}),M.text&&me.jsx("p",{className:"mb-2 text-white",children:M.text}),M.image&&me.jsx("img",{src:M.image,alt:"Post",className:"rounded-lg max-h-60"}),me.jsx(eE,{comments:M.comments,addReply:(N,q)=>{const W=M.comments.map(G=>G.id===N?{...G,replies:[...G.replies,q]}:G);e(G=>G.map(ne=>ne.id===M.id?{...ne,comments:W}:ne))}}),me.jsx(W1,{onSubmit:N=>{const q=AT(Ev,"posts",M.id),W={...M,comments:[...M.comments,N]};CV(q,W).catch(console.error)}})]})},M.id))})]})})}hS.createRoot(document.getElementById("root")).render(me.jsx(fe.StrictMode,{children:me.jsx(GD,{})}));
