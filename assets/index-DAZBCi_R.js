(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var hf={exports:{}},Da={},ff={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function Q0(){if(zg)return Ce;zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function N(b,H,pe){this.props=b,this.context=H,this.refs=O,this.updater=pe||R}N.prototype.isReactComponent={},N.prototype.setState=function(b,H){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,H,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=N.prototype;function K(b,H,pe){this.props=b,this.context=H,this.refs=O,this.updater=pe||R}var Q=K.prototype=new W;Q.constructor=K,L(Q,N.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,le={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(b,H,pe){var Re,Pe={},De=null,Fe=null;if(H!=null)for(Re in H.ref!==void 0&&(Fe=H.ref),H.key!==void 0&&(De=""+H.key),H)re.call(H,Re)&&!k.hasOwnProperty(Re)&&(Pe[Re]=H[Re]);var Ue=arguments.length-2;if(Ue===1)Pe.children=pe;else if(1<Ue){for(var $e=Array(Ue),Tt=0;Tt<Ue;Tt++)$e[Tt]=arguments[Tt+2];Pe.children=$e}if(b&&b.defaultProps)for(Re in Ue=b.defaultProps,Ue)Pe[Re]===void 0&&(Pe[Re]=Ue[Re]);return{$$typeof:n,type:b,key:De,ref:Fe,props:Pe,_owner:le.current}}function P(b,H){return{$$typeof:n,type:b.type,key:H,ref:b.ref,props:b.props,_owner:b._owner}}function V(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function M(b){var H={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(pe){return H[pe]})}var F=/\/+/g;function C(b,H){return typeof b=="object"&&b!==null&&b.key!=null?M(""+b.key):H.toString(36)}function Qe(b,H,pe,Re,Pe){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var Fe=!1;if(b===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(b.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=b,Pe=Pe(Fe),b=Re===""?"."+C(Fe,0):Re,ne(Pe)?(pe="",b!=null&&(pe=b.replace(F,"$&/")+"/"),Qe(Pe,H,pe,"",function(Tt){return Tt})):Pe!=null&&(V(Pe)&&(Pe=P(Pe,pe+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+b)),H.push(Pe)),1;if(Fe=0,Re=Re===""?".":Re+":",ne(b))for(var Ue=0;Ue<b.length;Ue++){De=b[Ue];var $e=Re+C(De,Ue);Fe+=Qe(De,H,pe,$e,Pe)}else if($e=S(b),typeof $e=="function")for(b=$e.call(b),Ue=0;!(De=b.next()).done;)De=De.value,$e=Re+C(De,Ue++),Fe+=Qe(De,H,pe,$e,Pe);else if(De==="object")throw H=String(b),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(b,H,pe){if(b==null)return b;var Re=[],Pe=0;return Qe(b,Re,"","",function(De){return H.call(pe,De,Pe++)}),Re}function xt(b){if(b._status===-1){var H=b._result;H=H(),H.then(function(pe){(b._status===0||b._status===-1)&&(b._status=1,b._result=pe)},function(pe){(b._status===0||b._status===-1)&&(b._status=2,b._result=pe)}),b._status===-1&&(b._status=0,b._result=H)}if(b._status===1)return b._result.default;throw b._result}var Ae={current:null},ee={transition:null},de={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ee,ReactCurrentOwner:le};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(b,H,pe){Ct(b,function(){H.apply(this,arguments)},pe)},count:function(b){var H=0;return Ct(b,function(){H++}),H},toArray:function(b){return Ct(b,function(H){return H})||[]},only:function(b){if(!V(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=N,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=K,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ce.act=ie,Ce.cloneElement=function(b,H,pe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Re=L({},b.props),Pe=b.key,De=b.ref,Fe=b._owner;if(H!=null){if(H.ref!==void 0&&(De=H.ref,Fe=le.current),H.key!==void 0&&(Pe=""+H.key),b.type&&b.type.defaultProps)var Ue=b.type.defaultProps;for($e in H)re.call(H,$e)&&!k.hasOwnProperty($e)&&(Re[$e]=H[$e]===void 0&&Ue!==void 0?Ue[$e]:H[$e])}var $e=arguments.length-2;if($e===1)Re.children=pe;else if(1<$e){Ue=Array($e);for(var Tt=0;Tt<$e;Tt++)Ue[Tt]=arguments[Tt+2];Re.children=Ue}return{$$typeof:n,type:b.type,key:Pe,ref:De,props:Re,_owner:Fe}},Ce.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ce.createElement=A,Ce.createFactory=function(b){var H=A.bind(null,b);return H.type=b,H},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=V,Ce.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:xt}},Ce.memo=function(b,H){return{$$typeof:y,type:b,compare:H===void 0?null:H}},Ce.startTransition=function(b){var H=ee.transition;ee.transition={};try{b()}finally{ee.transition=H}},Ce.unstable_act=ie,Ce.useCallback=function(b,H){return Ae.current.useCallback(b,H)},Ce.useContext=function(b){return Ae.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Ae.current.useDeferredValue(b)},Ce.useEffect=function(b,H){return Ae.current.useEffect(b,H)},Ce.useId=function(){return Ae.current.useId()},Ce.useImperativeHandle=function(b,H,pe){return Ae.current.useImperativeHandle(b,H,pe)},Ce.useInsertionEffect=function(b,H){return Ae.current.useInsertionEffect(b,H)},Ce.useLayoutEffect=function(b,H){return Ae.current.useLayoutEffect(b,H)},Ce.useMemo=function(b,H){return Ae.current.useMemo(b,H)},Ce.useReducer=function(b,H,pe){return Ae.current.useReducer(b,H,pe)},Ce.useRef=function(b){return Ae.current.useRef(b)},Ce.useState=function(b){return Ae.current.useState(b)},Ce.useSyncExternalStore=function(b,H,pe){return Ae.current.useSyncExternalStore(b,H,pe)},Ce.useTransition=function(){return Ae.current.useTransition()},Ce.version="18.3.1",Ce}var $g;function Sd(){return $g||($g=1,ff.exports=Q0()),ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function X0(){if(Wg)return Da;Wg=1;var n=Sd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var v,E={},S=null,R=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(R=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(E[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:f,key:S,ref:R,props:E,_owner:o.current}}return Da.Fragment=t,Da.jsx=c,Da.jsxs=c,Da}var qg;function Y0(){return qg||(qg=1,hf.exports=X0()),hf.exports}var me=Y0(),fe=Sd(),Mu={},df={exports:{}},an={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function J0(){return Hg||(Hg=1,function(n){function e(ee,de){var ie=ee.length;ee.push(de);e:for(;0<ie;){var b=ie-1>>>1,H=ee[b];if(0<o(H,de))ee[b]=de,ee[ie]=H,ie=b;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var de=ee[0],ie=ee.pop();if(ie!==de){ee[0]=ie;e:for(var b=0,H=ee.length,pe=H>>>1;b<pe;){var Re=2*(b+1)-1,Pe=ee[Re],De=Re+1,Fe=ee[De];if(0>o(Pe,ie))De<H&&0>o(Fe,Pe)?(ee[b]=Fe,ee[De]=ie,b=De):(ee[b]=Pe,ee[Re]=ie,b=Re);else if(De<H&&0>o(Fe,ie))ee[b]=Fe,ee[De]=ie,b=De;else break e}}return de}function o(ee,de){var ie=ee.sortIndex-de.sortIndex;return ie!==0?ie:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],v=1,E=null,S=3,R=!1,L=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ee){for(var de=t(y);de!==null;){if(de.callback===null)i(y);else if(de.startTime<=ee)i(y),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(y)}}function ne(ee){if(O=!1,Q(ee),!L)if(t(p)!==null)L=!0,xt(re);else{var de=t(y);de!==null&&Ae(ne,de.startTime-ee)}}function re(ee,de){L=!1,O&&(O=!1,W(A),A=-1),R=!0;var ie=S;try{for(Q(de),E=t(p);E!==null&&(!(E.expirationTime>de)||ee&&!M());){var b=E.callback;if(typeof b=="function"){E.callback=null,S=E.priorityLevel;var H=b(E.expirationTime<=de);de=n.unstable_now(),typeof H=="function"?E.callback=H:E===t(p)&&i(p),Q(de)}else i(p);E=t(p)}if(E!==null)var pe=!0;else{var Re=t(y);Re!==null&&Ae(ne,Re.startTime-de),pe=!1}return pe}finally{E=null,S=ie,R=!1}}var le=!1,k=null,A=-1,P=5,V=-1;function M(){return!(n.unstable_now()-V<P)}function F(){if(k!==null){var ee=n.unstable_now();V=ee;var de=!0;try{de=k(!0,ee)}finally{de?C():(le=!1,k=null)}}else le=!1}var C;if(typeof K=="function")C=function(){K(F)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ct=Qe.port2;Qe.port1.onmessage=F,C=function(){Ct.postMessage(null)}}else C=function(){N(F,0)};function xt(ee){k=ee,le||(le=!0,C())}function Ae(ee,de){A=N(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){L||R||(L=!0,xt(re))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var ie=S;S=de;try{return ee()}finally{S=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=S;S=ee;try{return de()}finally{S=ie}},n.unstable_scheduleCallback=function(ee,de,ie){var b=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?b+ie:b):ie=b,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ie+H,ee={id:v++,callback:de,priorityLevel:ee,startTime:ie,expirationTime:H,sortIndex:-1},ie>b?(ee.sortIndex=ie,e(y,ee),t(p)===null&&ee===t(y)&&(O?(W(A),A=-1):O=!0,Ae(ne,ie-b))):(ee.sortIndex=H,e(p,ee),L||R||(L=!0,xt(re))),ee},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ee){var de=S;return function(){var ie=S;S=de;try{return ee.apply(this,arguments)}finally{S=ie}}}}(mf)),mf}var Kg;function Z0(){return Kg||(Kg=1,pf.exports=J0()),pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function eS(){if(Gg)return an;Gg=1;var n=Sd(),e=Z0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function R(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,a,h){if(s===null||typeof s>"u"||R(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,h,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,K);N[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,K);N[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,K);N[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,a,h){var d=N.hasOwnProperty(s)?N[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,d,h)&&(a=null),h||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),le=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,b;function H(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var pe=!1;function Re(r,s){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),g=h.stack.split(`
`),w=d.length-1,I=g.length-1;1<=w&&0<=I&&d[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==g[I]){var x=`
`+d[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=I);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?H(r):""}function Pe(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case le:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mr(r){r._valueTracker||(r._valueTracker=Tt(r))}function _s(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Pi(r,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function vs(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fo(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function Uo(r,s){Fo(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ws(r,s.type,a):s.hasOwnProperty("defaultValue")&&ws(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function vl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ws(r,s,a){(s!=="number"||Br(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var gr=Array.isArray;function yr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Bo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Es(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(gr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Ts(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function jo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,zo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function jr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xi=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(r){xi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ci[s]=Ci[r]})});function $o(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ci.hasOwnProperty(r)&&Ci[r]?(""+s).trim():s+"px"}function Wo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=$o(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var qo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(r,s){if(s){if(qo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ko(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function Ss(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,_n=null,Qn=null;function Is(r){if(r=ya(r)){if(typeof As!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ql(s),As(r.stateNode,r.type,s))}}function Xn(r){_n?Qn?Qn.push(r):Qn=[r]:_n=r}function Go(){if(_n){var r=_n,s=Qn;if(Qn=_n=null,Is(r),s)for(r=0;r<s.length;r++)Is(s[r])}}function Vi(r,s){return r(s)}function Qo(){}var vr=!1;function Xo(r,s,a){if(vr)return r(s,a);vr=!0;try{return Vi(r,s,a)}finally{vr=!1,(_n!==null||Qn!==null)&&(Qo(),Go())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=Ql(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Rs=!1;if(f)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Rs=!1}function Di(r,s,a,h,d,g,w,I,x){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(X){this.onError(X)}}var Ni=!1,Ps=null,Nn=!1,Yo=null,Fc={onError:function(r){Ni=!0,Ps=r}};function Cs(r,s,a,h,d,g,w,I,x){Ni=!1,Ps=null,Di.apply(Fc,arguments)}function wl(r,s,a,h,d,g,w,I,x){if(Cs.apply(this,arguments),Ni){if(Ni){var z=Ps;Ni=!1,Ps=null}else throw Error(t(198));Nn||(Nn=!0,Yo=z)}}function Mn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Mi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(Mn(r)!==r)throw Error(t(188))}function El(r){var s=r.alternate;if(!s){if(s=Mn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Ln(d),r;if(g===h)return Ln(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,h=g;break}if(I===h){w=!0,h=d,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,h=d;break}if(I===h){w=!0,h=g,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Jo(r){return r=El(r),r!==null?xs(r):null}function xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=xs(r);if(s!==null)return s;r=r.sibling}return null}var ks=e.unstable_scheduleCallback,Zo=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Uc=e.unstable_requestPaint,We=e.unstable_now,Sl=e.unstable_getCurrentPriorityLevel,Li=e.unstable_ImmediatePriority,zr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ea=e.unstable_LowPriority,Al=e.unstable_IdlePriority,Oi=null,un=null;function Il(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Oi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Pl,ta=Math.log,Rl=Math.LN2;function Pl(r){return r>>>=0,r===0?32:31-(ta(r)/Rl|0)|0}var Vs=64,Ds=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function bi(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?h=$r(I):(g&=w,g!==0&&(h=$r(g)))}else w=a&~d,w!==0?h=$r(w):g!==0&&(h=$r(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function Bc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Kt(g),I=1<<w,x=d[w];x===-1?(!(I&a)||I&h)&&(d[w]=Bc(I,s)):x<=s&&(r.expiredLanes|=I),g&=~I}}function cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Fi(){var r=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),r}function Wr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function qr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function Hr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Kr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Cl,Ns,xl,kl,Vl,na=!1,Yn=[],kt=null,On=null,bn=null,Gr=new Map,wn=new Map,Jn=[],jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Gr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(s.pointerId)}}function Zt(r,s,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ya(s),s!==null&&Ns(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function zc(r,s,a,h,d){switch(s){case"focusin":return kt=Zt(kt,r,s,a,h,d),!0;case"dragenter":return On=Zt(On,r,s,a,h,d),!0;case"mouseover":return bn=Zt(bn,r,s,a,h,d),!0;case"pointerover":var g=d.pointerId;return Gr.set(g,Zt(Gr.get(g)||null,r,s,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,wn.set(g,Zt(wn.get(g)||null,r,s,a,h,d)),!0}return!1}function Nl(r){var s=$i(r.target);if(s!==null){var a=Mn(s);if(a!==null){if(s=a.tag,s===13){if(s=Mi(a),s!==null){r.blockedOn=s,Vl(r.priority,function(){xl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Er(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ms(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ki=h,a.target.dispatchEvent(h),ki=null}else return s=ya(a),s!==null&&Ns(s),r.blockedOn=a,!1;s.shift()}return!0}function Ui(r,s,a){Er(r)&&a.delete(s)}function Ml(){na=!1,kt!==null&&Er(kt)&&(kt=null),On!==null&&Er(On)&&(On=null),bn!==null&&Er(bn)&&(bn=null),Gr.forEach(Ui),wn.forEach(Ui)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ml)))}function Un(r){function s(d){return Fn(d,r)}if(0<Yn.length){Fn(Yn[0],r);for(var a=1;a<Yn.length;a++){var h=Yn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Fn(kt,r),On!==null&&Fn(On,r),bn!==null&&Fn(bn,r),Gr.forEach(s),wn.forEach(s),a=0;a<Jn.length;a++)h=Jn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Jn.length&&(a=Jn[0],a.blockedOn===null);)Nl(a),a.blockedOn===null&&Jn.shift()}var Tr=ne.ReactCurrentBatchConfig,Qr=!0;function Xe(r,s,a,h){var d=ke,g=Tr.transition;Tr.transition=null;try{ke=1,ra(r,s,a,h)}finally{ke=d,Tr.transition=g}}function $c(r,s,a,h){var d=ke,g=Tr.transition;Tr.transition=null;try{ke=4,ra(r,s,a,h)}finally{ke=d,Tr.transition=g}}function ra(r,s,a,h){if(Qr){var d=Ms(r,s,a,h);if(d===null)eh(r,s,h,Bi,a),Dl(r,h);else if(zc(d,r,s,a,h))h.stopPropagation();else if(Dl(r,h),s&4&&-1<jc.indexOf(r)){for(;d!==null;){var g=ya(d);if(g!==null&&Cl(g),g=Ms(r,s,a,h),g===null&&eh(r,s,h,Bi,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else eh(r,s,h,null,a)}}var Bi=null;function Ms(r,s,a,h){if(Bi=null,r=Ss(h),r=$i(r),r!==null)if(s=Mn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Mi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Bi=r,null}function ia(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sl()){case Li:return 1;case zr:return 4;case vn:case ea:return 16;case Al:return 536870912;default:return 16}default:return 16}}var hn=null,Ls=null,en=null;function sa(){if(en)return en;var r,s=Ls,a=s.length,h,d="value"in hn?hn.value:hn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===d[g-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function Os(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zn(){return!0}function oa(){return!1}function Vt(r){function s(a,h,d,g,w){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zn:oa,this.isPropagationStopped=oa,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Vt(Bn),er=ie({},Bn,{view:0,detail:0}),Wc=Vt(er),Fs,Sr,Xr,ji=ie({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xr&&(Xr&&r.type==="mousemove"?(Fs=r.screenX-Xr.screenX,Sr=r.screenY-Xr.screenY):Sr=Fs=0,Xr=r),Fs)},movementY:function(r){return"movementY"in r?r.movementY:Sr}}),Us=Vt(ji),aa=ie({},ji,{dataTransfer:0}),Ll=Vt(aa),Bs=ie({},er,{relatedTarget:0}),js=Vt(Bs),Ol=ie({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=Vt(Ol),bl=ie({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fl=Vt(bl),Ul=ie({},Bn,{data:0}),la=Vt(Ul),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Bl[r])?!!s[r]:!1}function tr(){return jl}var u=ie({},er,{key:function(r){if(r.key){var s=zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(r){return r.type==="keypress"?Os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(u),_=ie({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Vt(_),U=ie({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),$=Vt(U),te=ie({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Vt(te),gt=ie({},ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(gt),St=[9,13,27,32],ht=f&&"CompositionEvent"in window,En=null;f&&"documentMode"in document&&(En=document.documentMode);var fn=f&&"TextEvent"in window&&!En,zi=f&&(!ht||En&&8<En&&11>=En),$s=" ",Op=!1;function bp(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function KT(r,s){switch(r){case"compositionend":return Fp(s);case"keypress":return s.which!==32?null:(Op=!0,$s);case"textInput":return r=s.data,r===$s&&Op?null:r;default:return null}}function GT(r,s){if(Ws)return r==="compositionend"||!ht&&bp(r,s)?(r=sa(),en=Ls=hn=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zi&&s.locale!=="ko"?null:s.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!QT[r.type]:s==="textarea"}function Bp(r,s,a,h){Xn(h),s=Hl(s,"onChange"),0<s.length&&(a=new bs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ua=null,ca=null;function XT(r){im(r,0)}function zl(r){var s=Qs(r);if(_s(s))return r}function YT(r,s){if(r==="change")return s}var jp=!1;if(f){var qc;if(f){var Hc="oninput"in document;if(!Hc){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),Hc=typeof zp.oninput=="function"}qc=Hc}else qc=!1;jp=qc&&(!document.documentMode||9<document.documentMode)}function $p(){ua&&(ua.detachEvent("onpropertychange",Wp),ca=ua=null)}function Wp(r){if(r.propertyName==="value"&&zl(ca)){var s=[];Bp(s,ca,r,Ss(r)),Xo(XT,s)}}function JT(r,s,a){r==="focusin"?($p(),ua=s,ca=a,ua.attachEvent("onpropertychange",Wp)):r==="focusout"&&$p()}function ZT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zl(ca)}function e0(r,s){if(r==="click")return zl(s)}function t0(r,s){if(r==="input"||r==="change")return zl(s)}function n0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var jn=typeof Object.is=="function"?Object.is:n0;function ha(r,s){if(jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!jn(r[d],s[d]))return!1}return!0}function qp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hp(r,s){var a=qp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Kp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Kp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Gp(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Br(r.document)}return s}function Kc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function r0(r){var s=Gp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Kp(a.ownerDocument.documentElement,a)){if(h!==null&&Kc(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=Hp(a,g);var w=Hp(a,h);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var i0=f&&"documentMode"in document&&11>=document.documentMode,qs=null,Gc=null,fa=null,Qc=!1;function Qp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qc||qs==null||qs!==Br(h)||(h=qs,"selectionStart"in h&&Kc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fa&&ha(fa,h)||(fa=h,h=Hl(Gc,"onSelect"),0<h.length&&(s=new bs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=qs)))}function $l(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Hs={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},Xc={},Xp={};f&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Wl(r){if(Xc[r])return Xc[r];if(!Hs[r])return r;var s=Hs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Xp)return Xc[r]=s[a];return r}var Yp=Wl("animationend"),Jp=Wl("animationiteration"),Zp=Wl("animationstart"),em=Wl("transitionend"),tm=new Map,nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(r,s){tm.set(r,s),l(s,[r])}for(var Yc=0;Yc<nm.length;Yc++){var Jc=nm[Yc],s0=Jc.toLowerCase(),o0=Jc[0].toUpperCase()+Jc.slice(1);Yr(s0,"on"+o0)}Yr(Yp,"onAnimationEnd"),Yr(Jp,"onAnimationIteration"),Yr(Zp,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(em,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function rm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,wl(h,s,void 0,r),r.currentTarget=null}function im(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var I=h[w],x=I.instance,z=I.currentTarget;if(I=I.listener,x!==g&&d.isPropagationStopped())break e;rm(d,I,z),g=x}else for(w=0;w<h.length;w++){if(I=h[w],x=I.instance,z=I.currentTarget,I=I.listener,x!==g&&d.isPropagationStopped())break e;rm(d,I,z),g=x}}}if(Nn)throw r=Yo,Nn=!1,Yo=null,r}function He(r,s){var a=s[oh];a===void 0&&(a=s[oh]=new Set);var h=r+"__bubble";a.has(h)||(sm(s,r,2,!1),a.add(h))}function Zc(r,s,a){var h=0;s&&(h|=4),sm(a,r,h,s)}var ql="_reactListening"+Math.random().toString(36).slice(2);function pa(r){if(!r[ql]){r[ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(a0.has(a)||Zc(a,!1,r),Zc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ql]||(s[ql]=!0,Zc("selectionchange",!1,s))}}function sm(r,s,a,h){switch(ia(s)){case 1:var d=Xe;break;case 4:d=$c;break;default:d=ra}a=d.bind(null,s,a,r),d=void 0,!Rs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function eh(r,s,a,h,d){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=h.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;w=w.return}for(;I!==null;){if(w=$i(I),w===null)return;if(x=w.tag,x===5||x===6){h=g=w;continue e}I=I.parentNode}}h=h.return}Xo(function(){var z=g,X=Ss(a),Y=[];e:{var G=tm.get(r);if(G!==void 0){var se=bs,ue=r;switch(r){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=js;break;case"focusout":ue="blur",se=js;break;case"beforeblur":case"afterblur":se=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Yp:case Jp:case Zp:se=Ar;break;case em:se=je;break;case"scroll":se=Wc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=T}var ce=(s&4)!==0,lt=!ce&&r==="scroll",B=ce?G!==null?G+"Capture":null:G;ce=[];for(var D=z,j;D!==null;){j=D;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=at(D,B),Z!=null&&ce.push(ma(D,Z,j)))),lt)break;D=D.return}0<ce.length&&(G=new se(G,ue,null,a,X),Y.push({event:G,listeners:ce}))}}if(!(s&7)){e:{if(G=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",G&&a!==ki&&(ue=a.relatedTarget||a.fromElement)&&($i(ue)||ue[Ir]))break e;if((se||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=z,ue=ue?$i(ue):null,ue!==null&&(lt=Mn(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=z),se!==ue)){if(ce=Us,Z="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ce=T,Z="onPointerLeave",B="onPointerEnter",D="pointer"),lt=se==null?G:Qs(se),j=ue==null?G:Qs(ue),G=new ce(Z,D+"leave",se,a,X),G.target=lt,G.relatedTarget=j,Z=null,$i(X)===z&&(ce=new ce(B,D+"enter",ue,a,X),ce.target=j,ce.relatedTarget=lt,Z=ce),lt=Z,se&&ue)t:{for(ce=se,B=ue,D=0,j=ce;j;j=Ks(j))D++;for(j=0,Z=B;Z;Z=Ks(Z))j++;for(;0<D-j;)ce=Ks(ce),D--;for(;0<j-D;)B=Ks(B),j--;for(;D--;){if(ce===B||B!==null&&ce===B.alternate)break t;ce=Ks(ce),B=Ks(B)}ce=null}else ce=null;se!==null&&om(Y,G,se,ce,!1),ue!==null&&lt!==null&&om(Y,lt,ue,ce,!0)}}e:{if(G=z?Qs(z):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var he=YT;else if(Up(G))if(jp)he=t0;else{he=ZT;var ye=JT}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=e0);if(he&&(he=he(r,z))){Bp(Y,he,a,X);break e}ye&&ye(r,G,z),r==="focusout"&&(ye=G._wrapperState)&&ye.controlled&&G.type==="number"&&ws(G,"number",G.value)}switch(ye=z?Qs(z):window,r){case"focusin":(Up(ye)||ye.contentEditable==="true")&&(qs=ye,Gc=z,fa=null);break;case"focusout":fa=Gc=qs=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Qp(Y,a,X);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Qp(Y,a,X)}var _e;if(ht)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ws?bp(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(zi&&a.locale!=="ko"&&(Ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ws&&(_e=sa()):(hn=X,Ls="value"in hn?hn.value:hn.textContent,Ws=!0)),ye=Hl(z,Ee),0<ye.length&&(Ee=new la(Ee,r,null,a,X),Y.push({event:Ee,listeners:ye}),_e?Ee.data=_e:(_e=Fp(a),_e!==null&&(Ee.data=_e)))),(_e=fn?KT(r,a):GT(r,a))&&(z=Hl(z,"onBeforeInput"),0<z.length&&(X=new la("onBeforeInput","beforeinput",null,a,X),Y.push({event:X,listeners:z}),X.data=_e))}im(Y,s)})}function ma(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Hl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&h.unshift(ma(r,g,d)),g=at(r,s),g!=null&&h.push(ma(r,g,d))),r=r.return}return h}function Ks(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function om(r,s,a,h,d){for(var g=s._reactName,w=[];a!==null&&a!==h;){var I=a,x=I.alternate,z=I.stateNode;if(x!==null&&x===h)break;I.tag===5&&z!==null&&(I=z,d?(x=at(a,g),x!=null&&w.unshift(ma(a,x,I))):d||(x=at(a,g),x!=null&&w.push(ma(a,x,I)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var l0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function am(r){return(typeof r=="string"?r:""+r).replace(l0,`
`).replace(u0,"")}function Kl(r,s,a){if(s=am(s),am(r)!==s&&a)throw Error(t(425))}function Gl(){}var th=null,nh=null;function rh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,c0=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(r){return lm.resolve(null).then(r).catch(f0)}:ih;function f0(r){setTimeout(function(){throw r})}function sh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Un(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Un(s)}function Jr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function um(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),nr="__reactFiber$"+Gs,ga="__reactProps$"+Gs,Ir="__reactContainer$"+Gs,oh="__reactEvents$"+Gs,d0="__reactListeners$"+Gs,p0="__reactHandles$"+Gs;function $i(r){var s=r[nr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ir]||a[nr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=um(r);r!==null;){if(a=r[nr])return a;r=um(r)}return s}r=a,a=r.parentNode}return null}function ya(r){return r=r[nr]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Qs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ql(r){return r[ga]||null}var ah=[],Xs=-1;function Zr(r){return{current:r}}function Ke(r){0>Xs||(r.current=ah[Xs],ah[Xs]=null,Xs--)}function qe(r,s){Xs++,ah[Xs]=r.current,r.current=s}var ei={},Ft=Zr(ei),tn=Zr(!1),Wi=ei;function Ys(r,s){var a=r.type.contextTypes;if(!a)return ei;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function Xl(){Ke(tn),Ke(Ft)}function cm(r,s,a){if(Ft.current!==ei)throw Error(t(168));qe(Ft,s),qe(tn,a)}function hm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return ie({},a,h)}function Yl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ei,Wi=Ft.current,qe(Ft,r),qe(tn,tn.current),!0}function fm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=hm(r,s,Wi),h.__reactInternalMemoizedMergedChildContext=r,Ke(tn),Ke(Ft),qe(Ft,r)):Ke(tn),qe(tn,a)}var Rr=null,Jl=!1,lh=!1;function dm(r){Rr===null?Rr=[r]:Rr.push(r)}function m0(r){Jl=!0,dm(r)}function ti(){if(!lh&&Rr!==null){lh=!0;var r=0,s=ke;try{var a=Rr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Rr=null,Jl=!1}catch(d){throw Rr!==null&&(Rr=Rr.slice(r+1)),ks(Li,ti),d}finally{ke=s,lh=!1}}return null}var Js=[],Zs=0,Zl=null,eu=0,Tn=[],Sn=0,qi=null,Pr=1,Cr="";function Hi(r,s){Js[Zs++]=eu,Js[Zs++]=Zl,Zl=r,eu=s}function pm(r,s,a){Tn[Sn++]=Pr,Tn[Sn++]=Cr,Tn[Sn++]=qi,qi=r;var h=Pr;r=Cr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var g=32-Kt(s)+d;if(30<g){var w=d-d%5;g=(h&(1<<w)-1).toString(32),h>>=w,d-=w,Pr=1<<32-Kt(s)+d|a<<d|h,Cr=g+r}else Pr=1<<g|a<<d|h,Cr=r}function uh(r){r.return!==null&&(Hi(r,1),pm(r,1,0))}function ch(r){for(;r===Zl;)Zl=Js[--Zs],Js[Zs]=null,eu=Js[--Zs],Js[Zs]=null;for(;r===qi;)qi=Tn[--Sn],Tn[Sn]=null,Cr=Tn[--Sn],Tn[Sn]=null,Pr=Tn[--Sn],Tn[Sn]=null}var dn=null,pn=null,Ye=!1,zn=null;function mm(r,s){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function gm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,pn=Jr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qi!==null?{id:Pr,overflow:Cr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,pn=null,!0):!1;default:return!1}}function hh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fh(r){if(Ye){var s=pn;if(s){var a=s;if(!gm(r,s)){if(hh(r))throw Error(t(418));s=Jr(a.nextSibling);var h=dn;s&&gm(r,s)?mm(h,a):(r.flags=r.flags&-4097|2,Ye=!1,dn=r)}}else{if(hh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,dn=r}}}function ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function tu(r){if(r!==dn)return!1;if(!Ye)return ym(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!rh(r.type,r.memoizedProps)),s&&(s=pn)){if(hh(r))throw _m(),Error(t(418));for(;s;)mm(r,s),s=Jr(s.nextSibling)}if(ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){pn=Jr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}pn=null}}else pn=dn?Jr(r.stateNode.nextSibling):null;return!0}function _m(){for(var r=pn;r;)r=Jr(r.nextSibling)}function eo(){pn=dn=null,Ye=!1}function dh(r){zn===null?zn=[r]:zn.push(r)}var g0=ne.ReactCurrentBatchConfig;function _a(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=d.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function nu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function vm(r){var s=r._init;return s(r._payload)}function wm(r){function s(B,D){if(r){var j=B.deletions;j===null?(B.deletions=[D],B.flags|=16):j.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=ui(B,D),B.index=0,B.sibling=null,B}function g(B,D,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<D?(B.flags|=2,D):j):(B.flags|=2,D)):(B.flags|=1048576,D)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,D,j,Z){return D===null||D.tag!==6?(D=sf(j,B.mode,Z),D.return=B,D):(D=d(D,j),D.return=B,D)}function x(B,D,j,Z){var he=j.type;return he===k?X(B,D,j.props.children,Z,j.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&vm(he)===D.type)?(Z=d(D,j.props),Z.ref=_a(B,D,j),Z.return=B,Z):(Z=Ru(j.type,j.key,j.props,null,B.mode,Z),Z.ref=_a(B,D,j),Z.return=B,Z)}function z(B,D,j,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=of(j,B.mode,Z),D.return=B,D):(D=d(D,j.children||[]),D.return=B,D)}function X(B,D,j,Z,he){return D===null||D.tag!==7?(D=es(j,B.mode,Z,he),D.return=B,D):(D=d(D,j),D.return=B,D)}function Y(B,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=sf(""+D,B.mode,j),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case re:return j=Ru(D.type,D.key,D.props,null,B.mode,j),j.ref=_a(B,null,D),j.return=B,j;case le:return D=of(D,B.mode,j),D.return=B,D;case xt:var Z=D._init;return Y(B,Z(D._payload),j)}if(gr(D)||de(D))return D=es(D,B.mode,j,null),D.return=B,D;nu(B,D)}return null}function G(B,D,j,Z){var he=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:I(B,D,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return j.key===he?x(B,D,j,Z):null;case le:return j.key===he?z(B,D,j,Z):null;case xt:return he=j._init,G(B,D,he(j._payload),Z)}if(gr(j)||de(j))return he!==null?null:X(B,D,j,Z,null);nu(B,j)}return null}function se(B,D,j,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,I(D,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case re:return B=B.get(Z.key===null?j:Z.key)||null,x(D,B,Z,he);case le:return B=B.get(Z.key===null?j:Z.key)||null,z(D,B,Z,he);case xt:var ye=Z._init;return se(B,D,j,ye(Z._payload),he)}if(gr(Z)||de(Z))return B=B.get(j)||null,X(D,B,Z,he,null);nu(D,Z)}return null}function ue(B,D,j,Z){for(var he=null,ye=null,_e=D,Ee=D=0,Rt=null;_e!==null&&Ee<j.length;Ee++){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var be=G(B,_e,j[Ee],Z);if(be===null){_e===null&&(_e=Rt);break}r&&_e&&be.alternate===null&&s(B,_e),D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be,_e=Rt}if(Ee===j.length)return a(B,_e),Ye&&Hi(B,Ee),he;if(_e===null){for(;Ee<j.length;Ee++)_e=Y(B,j[Ee],Z),_e!==null&&(D=g(_e,D,Ee),ye===null?he=_e:ye.sibling=_e,ye=_e);return Ye&&Hi(B,Ee),he}for(_e=h(B,_e);Ee<j.length;Ee++)Rt=se(_e,B,Ee,j[Ee],Z),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?Ee:Rt.key),D=g(Rt,D,Ee),ye===null?he=Rt:ye.sibling=Rt,ye=Rt);return r&&_e.forEach(function(ci){return s(B,ci)}),Ye&&Hi(B,Ee),he}function ce(B,D,j,Z){var he=de(j);if(typeof he!="function")throw Error(t(150));if(j=he.call(j),j==null)throw Error(t(151));for(var ye=he=null,_e=D,Ee=D=0,Rt=null,be=j.next();_e!==null&&!be.done;Ee++,be=j.next()){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var ci=G(B,_e,be.value,Z);if(ci===null){_e===null&&(_e=Rt);break}r&&_e&&ci.alternate===null&&s(B,_e),D=g(ci,D,Ee),ye===null?he=ci:ye.sibling=ci,ye=ci,_e=Rt}if(be.done)return a(B,_e),Ye&&Hi(B,Ee),he;if(_e===null){for(;!be.done;Ee++,be=j.next())be=Y(B,be.value,Z),be!==null&&(D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be);return Ye&&Hi(B,Ee),he}for(_e=h(B,_e);!be.done;Ee++,be=j.next())be=se(_e,B,Ee,be.value,Z),be!==null&&(r&&be.alternate!==null&&_e.delete(be.key===null?Ee:be.key),D=g(be,D,Ee),ye===null?he=be:ye.sibling=be,ye=be);return r&&_e.forEach(function(G0){return s(B,G0)}),Ye&&Hi(B,Ee),he}function lt(B,D,j,Z){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case re:e:{for(var he=j.key,ye=D;ye!==null;){if(ye.key===he){if(he=j.type,he===k){if(ye.tag===7){a(B,ye.sibling),D=d(ye,j.props.children),D.return=B,B=D;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&vm(he)===ye.type){a(B,ye.sibling),D=d(ye,j.props),D.ref=_a(B,ye,j),D.return=B,B=D;break e}a(B,ye);break}else s(B,ye);ye=ye.sibling}j.type===k?(D=es(j.props.children,B.mode,Z,j.key),D.return=B,B=D):(Z=Ru(j.type,j.key,j.props,null,B.mode,Z),Z.ref=_a(B,D,j),Z.return=B,B=Z)}return w(B);case le:e:{for(ye=j.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(B,D.sibling),D=d(D,j.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=of(j,B.mode,Z),D.return=B,B=D}return w(B);case xt:return ye=j._init,lt(B,D,ye(j._payload),Z)}if(gr(j))return ue(B,D,j,Z);if(de(j))return ce(B,D,j,Z);nu(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,j),D.return=B,B=D):(a(B,D),D=sf(j,B.mode,Z),D.return=B,B=D),w(B)):a(B,D)}return lt}var to=wm(!0),Em=wm(!1),ru=Zr(null),iu=null,no=null,ph=null;function mh(){ph=no=iu=null}function gh(r){var s=ru.current;Ke(ru),r._currentValue=s}function yh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function ro(r,s){iu=r,ph=no=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(ph!==r)if(r={context:r,memoizedValue:s,next:null},no===null){if(iu===null)throw Error(t(308));no=r,iu.dependencies={lanes:0,firstContext:r}}else no=no.next=r;return s}var Ki=null;function _h(r){Ki===null?Ki=[r]:Ki.push(r)}function Tm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,_h(s)):(a.next=d.next,d.next=a),s.interleaved=a,xr(r,h)}function xr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ni=!1;function vh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ri(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Oe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,xr(r,a)}return d=h.interleaved,d===null?(s.next=s,_h(h)):(s.next=d.next,d.next=s),h.interleaved=s,xr(r,a)}function su(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}function Am(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ou(r,s,a,h){var d=r.updateQueue;ni=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var x=I,z=x.next;x.next=null,w===null?g=z:w.next=z,w=x;var X=r.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==w&&(I===null?X.firstBaseUpdate=z:I.next=z,X.lastBaseUpdate=x))}if(g!==null){var Y=d.baseState;w=0,X=z=x=null,I=g;do{var G=I.lane,se=I.eventTime;if((h&G)===G){X!==null&&(X=X.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=r,ce=I;switch(G=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Y=ue.call(se,Y,G);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,G=typeof ue=="function"?ue.call(se,Y,G):ue,G==null)break e;Y=ie({},Y,G);break e;case 2:ni=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else se={eventTime:se,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(z=X=se,x=Y):X=X.next=se,w|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(X===null&&(x=Y),d.baseState=x,d.firstBaseUpdate=z,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Xi|=w,r.lanes=w,r.memoizedState=Y}}function Im(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var va={},rr=Zr(va),wa=Zr(va),Ea=Zr(va);function Gi(r){if(r===va)throw Error(t(174));return r}function wh(r,s){switch(qe(Ea,s),qe(wa,r),qe(rr,va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ke(rr),qe(rr,s)}function io(){Ke(rr),Ke(wa),Ke(Ea)}function Rm(r){Gi(Ea.current);var s=Gi(rr.current),a=mt(s,r.type);s!==a&&(qe(wa,r),qe(rr,a))}function Eh(r){wa.current===r&&(Ke(rr),Ke(wa))}var Ze=Zr(0);function au(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Th=[];function Sh(){for(var r=0;r<Th.length;r++)Th[r]._workInProgressVersionPrimary=null;Th.length=0}var lu=ne.ReactCurrentDispatcher,Ah=ne.ReactCurrentBatchConfig,Qi=0,et=null,yt=null,At=null,uu=!1,Ta=!1,Sa=0,y0=0;function Ut(){throw Error(t(321))}function Ih(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!jn(r[a],s[a]))return!1;return!0}function Rh(r,s,a,h,d,g){if(Qi=g,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=r===null||r.memoizedState===null?E0:T0,r=a(h,d),Ta){g=0;do{if(Ta=!1,Sa=0,25<=g)throw Error(t(301));g+=1,At=yt=null,s.updateQueue=null,lu.current=S0,r=a(h,d)}while(Ta)}if(lu.current=fu,s=yt!==null&&yt.next!==null,Qi=0,At=yt=et=null,uu=!1,s)throw Error(t(300));return r}function Ph(){var r=Sa!==0;return Sa=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=r:At=At.next=r,At}function In(){if(yt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=At===null?et.memoizedState:At.next;if(s!==null)At=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?et.memoizedState=At=r:At=At.next=r}return At}function Aa(r,s){return typeof s=="function"?s(r):s}function Ch(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=yt,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var I=w=null,x=null,z=g;do{var X=z.lane;if((Qi&X)===X)x!==null&&(x=x.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var Y={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};x===null?(I=x=Y,w=h):x=x.next=Y,et.lanes|=X,Xi|=X}z=z.next}while(z!==null&&z!==g);x===null?w=h:x.next=I,jn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,et.lanes|=g,Xi|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function xh(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);jn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Pm(){}function Cm(r,s){var a=et,h=In(),d=s(),g=!jn(h.memoizedState,d);if(g&&(h.memoizedState=d,rn=!0),h=h.queue,kh(Vm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Ia(9,km.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));Qi&30||xm(a,s,d)}return d}function xm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function km(r,s,a,h){s.value=a,s.getSnapshot=h,Dm(s)&&Nm(r)}function Vm(r,s,a){return a(function(){Dm(s)&&Nm(r)})}function Dm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!jn(r,a)}catch{return!0}}function Nm(r){var s=xr(r,1);s!==null&&Hn(s,r,1,-1)}function Mm(r){var s=ir();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:r},s.queue=r,r=r.dispatch=w0.bind(null,et,r),[s.memoizedState,r]}function Ia(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Lm(){return In().memoizedState}function cu(r,s,a,h){var d=ir();et.flags|=r,d.memoizedState=Ia(1|s,a,void 0,h===void 0?null:h)}function hu(r,s,a,h){var d=In();h=h===void 0?null:h;var g=void 0;if(yt!==null){var w=yt.memoizedState;if(g=w.destroy,h!==null&&Ih(h,w.deps)){d.memoizedState=Ia(s,a,g,h);return}}et.flags|=r,d.memoizedState=Ia(1|s,a,g,h)}function Om(r,s){return cu(8390656,8,r,s)}function kh(r,s){return hu(2048,8,r,s)}function bm(r,s){return hu(4,2,r,s)}function Fm(r,s){return hu(4,4,r,s)}function Um(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Bm(r,s,a){return a=a!=null?a.concat([r]):null,hu(4,4,Um.bind(null,s,r),a)}function Vh(){}function jm(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Ih(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function zm(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Ih(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function $m(r,s,a){return Qi&21?(jn(a,s)||(a=Fi(),et.lanes|=a,Xi|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function _0(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Ah.transition;Ah.transition={};try{r(!1),s()}finally{ke=a,Ah.transition=h}}function Wm(){return In().memoizedState}function v0(r,s,a){var h=ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},qm(r))Hm(s,a);else if(a=Tm(r,s,a,h),a!==null){var d=Xt();Hn(a,r,h,d),Km(a,s,h)}}function w0(r,s,a){var h=ai(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(qm(r))Hm(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(d.hasEagerState=!0,d.eagerState=I,jn(I,w)){var x=s.interleaved;x===null?(d.next=d,_h(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=Tm(r,s,d,h),a!==null&&(d=Xt(),Hn(a,r,h,d),Km(a,s,h))}}function qm(r){var s=r.alternate;return r===et||s!==null&&s===et}function Hm(r,s){Ta=uu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Km(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}var fu={readContext:An,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},E0={readContext:An,useCallback:function(r,s){return ir().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:Om,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,cu(4194308,4,Um.bind(null,s,r),a)},useLayoutEffect:function(r,s){return cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return cu(4,2,r,s)},useMemo:function(r,s){var a=ir();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=ir();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=v0.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=ir();return r={current:r},s.memoizedState=r},useState:Mm,useDebugValue:Vh,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=Mm(!1),s=r[0];return r=_0.bind(null,r[1]),ir().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,d=ir();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));Qi&30||xm(h,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Om(Vm.bind(null,h,g,r),[r]),h.flags|=2048,Ia(9,km.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=ir(),s=It.identifierPrefix;if(Ye){var a=Cr,h=Pr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Sa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=y0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},T0={readContext:An,useCallback:jm,useContext:An,useEffect:kh,useImperativeHandle:Bm,useInsertionEffect:bm,useLayoutEffect:Fm,useMemo:zm,useReducer:Ch,useRef:Lm,useState:function(){return Ch(Aa)},useDebugValue:Vh,useDeferredValue:function(r){var s=In();return $m(s,yt.memoizedState,r)},useTransition:function(){var r=Ch(Aa)[0],s=In().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:Cm,useId:Wm,unstable_isNewReconciler:!1},S0={readContext:An,useCallback:jm,useContext:An,useEffect:kh,useImperativeHandle:Bm,useInsertionEffect:bm,useLayoutEffect:Fm,useMemo:zm,useReducer:xh,useRef:Lm,useState:function(){return xh(Aa)},useDebugValue:Vh,useDeferredValue:function(r){var s=In();return yt===null?s.memoizedState=r:$m(s,yt.memoizedState,r)},useTransition:function(){var r=xh(Aa)[0],s=In().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:Cm,useId:Wm,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Dh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ie({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var du={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),g=kr(h,d);g.payload=s,a!=null&&(g.callback=a),s=ri(r,g,d),s!==null&&(Hn(s,r,d,h),su(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=ai(r),g=kr(h,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ri(r,g,d),s!==null&&(Hn(s,r,d,h),su(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=ai(r),d=kr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ri(r,d,h),s!==null&&(Hn(s,r,h,a),su(s,r,h))}};function Gm(r,s,a,h,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!ha(a,h)||!ha(d,g):!0}function Qm(r,s,a){var h=!1,d=ei,g=s.contextType;return typeof g=="object"&&g!==null?g=An(g):(d=nn(s)?Wi:Ft.current,h=s.contextTypes,g=(h=h!=null)?Ys(r,d):ei),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function Xm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&du.enqueueReplaceState(s,s.state,null)}function Nh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},vh(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=An(g):(g=nn(s)?Wi:Ft.current,d.context=Ys(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Dh(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&du.enqueueReplaceState(d,d.state,null),ou(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function so(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function Mh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Lh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function Ym(r,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){wu||(wu=!0,Xh=h),Lh(r,s)},a}function Jm(r,s,a){a=kr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Lh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Lh(r,s),typeof h!="function"&&(si===null?si=new Set([this]):si.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Zm(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new A0;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=F0.bind(null,r,s,a),s.then(r,r))}function eg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function tg(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,ri(a,s,1))),a.lanes|=1),r)}var I0=ne.ReactCurrentOwner,rn=!1;function Qt(r,s,a,h){s.child=r===null?Em(s,null,a,h):to(s,r.child,a,h)}function ng(r,s,a,h,d){a=a.render;var g=s.ref;return ro(s,d),h=Rh(r,s,a,h,g,d),a=Ph(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Ye&&a&&uh(s),s.flags|=1,Qt(r,s,h,d),s.child)}function rg(r,s,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!rf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,ig(r,s,g,h,d)):(r=Ru(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ha,a(w,h)&&r.ref===s.ref)return Vr(r,s,d)}return s.flags|=1,r=ui(g,h),r.ref=s.ref,r.return=s,s.child=r}function ig(r,s,a,h,d){if(r!==null){var g=r.memoizedProps;if(ha(g,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Vr(r,s,d)}return Oh(r,s,a,h,d)}function sg(r,s,a){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ao,mn),mn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(ao,mn),mn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,qe(ao,mn),mn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,qe(ao,mn),mn|=h;return Qt(r,s,d,a),s.child}function og(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Oh(r,s,a,h,d){var g=nn(a)?Wi:Ft.current;return g=Ys(s,g),ro(s,d),a=Rh(r,s,a,h,g,d),h=Ph(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Vr(r,s,d)):(Ye&&h&&uh(s),s.flags|=1,Qt(r,s,a,d),s.child)}function ag(r,s,a,h,d){if(nn(a)){var g=!0;Yl(s)}else g=!1;if(ro(s,d),s.stateNode===null)mu(r,s),Qm(s,a,h),Nh(s,a,h,d),h=!0;else if(r===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var x=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=An(z):(z=nn(a)?Wi:Ft.current,z=Ys(s,z));var X=a.getDerivedStateFromProps,Y=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";Y||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==h||x!==z)&&Xm(s,w,h,z),ni=!1;var G=s.memoizedState;w.state=G,ou(s,h,w,d),x=s.memoizedState,I!==h||G!==x||tn.current||ni?(typeof X=="function"&&(Dh(s,a,X,h),x=s.memoizedState),(I=ni||Gm(s,a,I,h,G,x,z))?(Y||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),w.props=h,w.state=x,w.context=z,h=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Sm(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:$n(s.type,I),w.props=z,Y=s.pendingProps,G=w.context,x=a.contextType,typeof x=="object"&&x!==null?x=An(x):(x=nn(a)?Wi:Ft.current,x=Ys(s,x));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Y||G!==x)&&Xm(s,w,h,x),ni=!1,G=s.memoizedState,w.state=G,ou(s,h,w,d);var ue=s.memoizedState;I!==Y||G!==ue||tn.current||ni?(typeof se=="function"&&(Dh(s,a,se,h),ue=s.memoizedState),(z=ni||Gm(s,a,z,h,G,ue,x)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ue,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ue,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ue),w.props=h,w.state=ue,w.context=x,h=z):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),h=!1)}return bh(r,s,a,h,g,d)}function bh(r,s,a,h,d,g){og(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return d&&fm(s,a,!1),Vr(r,s,g);h=s.stateNode,I0.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=to(s,r.child,null,g),s.child=to(s,null,I,g)):Qt(r,s,I,g),s.memoizedState=h.state,d&&fm(s,a,!0),s.child}function lg(r){var s=r.stateNode;s.pendingContext?cm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&cm(r,s.context,!1),wh(r,s.containerInfo)}function ug(r,s,a,h,d){return eo(),dh(d),s.flags|=256,Qt(r,s,a,h),s.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(r){return{baseLanes:r,cachePool:null,transitions:null}}function cg(r,s,a){var h=s.pendingProps,d=Ze.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),qe(Ze,d&1),r===null)return fh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Pu(w,h,0,null),r=es(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Uh(a),s.memoizedState=Fh,r):Bh(s,w));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return R0(r,s,w,h,I,d,a);if(g){g=h.fallback,w=s.mode,d=r.child,I=d.sibling;var x={mode:"hidden",children:h.children};return!(w&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=ui(d,x),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?g=ui(I,g):(g=es(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Uh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Fh,h}return g=r.child,r=g.sibling,h=ui(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Bh(r,s){return s=Pu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function pu(r,s,a,h){return h!==null&&dh(h),to(s,r.child,null,a),r=Bh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function R0(r,s,a,h,d,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Mh(Error(t(422))),pu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=Pu({mode:"visible",children:h.children},d,0,null),g=es(g,d,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&to(s,r.child,null,w),s.child.memoizedState=Uh(w),s.memoizedState=Fh,g);if(!(s.mode&1))return pu(r,s,w,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,g=Error(t(419)),h=Mh(g,h,void 0),pu(r,s,w,h)}if(I=(w&r.childLanes)!==0,rn||I){if(h=It,h!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|w)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,xr(r,d),Hn(h,r,d,-1))}return nf(),h=Mh(Error(t(421))),pu(r,s,w,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=U0.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,pn=Jr(d.nextSibling),dn=s,Ye=!0,zn=null,r!==null&&(Tn[Sn++]=Pr,Tn[Sn++]=Cr,Tn[Sn++]=qi,Pr=r.id,Cr=r.overflow,qi=s),s=Bh(s,h.children),s.flags|=4096,s)}function hg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),yh(r.return,s,a)}function jh(r,s,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function fg(r,s,a){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(Qt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hg(r,a,s);else if(r.tag===19)hg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),jh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}jh(s,!0,a,null,g);break;case"together":jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Vr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Xi|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ui(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ui(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function P0(r,s,a){switch(s.tag){case 3:lg(s),eo();break;case 5:Rm(s);break;case 1:nn(s.type)&&Yl(s);break;case 4:wh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;qe(ru,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?cg(r,s,a):(qe(Ze,Ze.current&1),r=Vr(r,s,a),r!==null?r.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return fg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,sg(r,s,a)}return Vr(r,s,a)}var dg,zh,pg,mg;dg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zh=function(){},pg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Gi(rr.current);var g=null;switch(a){case"input":d=Pi(r,d),h=Pi(r,h),g=[];break;case"select":d=ie({},d,{value:void 0}),h=ie({},h,{value:void 0}),g=[];break;case"textarea":d=Bo(r,d),h=Bo(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Gl)}Ho(a,h);var w;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var x=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&x!==I&&(x!=null||I!=null))if(z==="style")if(I){for(w in I)!I.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in x)x.hasOwnProperty(w)&&I[w]!==x[w]&&(a||(a={}),a[w]=x[w])}else a||(g||(g=[]),g.push(z,a)),a=x;else z==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(g=g||[]).push(z,x)):z==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(z,""+x):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(x!=null&&z==="onScroll"&&He("scroll",r),g||I===x||(g=[])):(g=g||[]).push(z,x))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},mg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ra(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function C0(r,s,a){var h=s.pendingProps;switch(ch(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&Xl(),Bt(s),null;case 3:return h=s.stateNode,io(),Ke(tn),Ke(Ft),Sh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zn!==null&&(Zh(zn),zn=null))),zh(r,s),Bt(s),null;case 5:Eh(s);var d=Gi(Ea.current);if(a=s.type,r!==null&&s.stateNode!=null)pg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Gi(rr.current),tu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[nr]=s,h[ga]=g,r=(s.mode&1)!==0,a){case"dialog":He("cancel",h),He("close",h);break;case"iframe":case"object":case"embed":He("load",h);break;case"video":case"audio":for(d=0;d<da.length;d++)He(da[d],h);break;case"source":He("error",h);break;case"img":case"image":case"link":He("error",h),He("load",h);break;case"details":He("toggle",h);break;case"input":vs(h,g),He("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},He("invalid",h);break;case"textarea":Es(h,g),He("invalid",h)}Ho(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?h.textContent!==I&&(g.suppressHydrationWarning!==!0&&Kl(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Kl(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&He("scroll",h)}switch(a){case"input":mr(h),vl(h,g,!0);break;case"textarea":mr(h),jo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Gl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[nr]=s,r[ga]=h,dg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ko(a,h),a){case"dialog":He("cancel",r),He("close",r),d=h;break;case"iframe":case"object":case"embed":He("load",r),d=h;break;case"video":case"audio":for(d=0;d<da.length;d++)He(da[d],r);d=h;break;case"source":He("error",r),d=h;break;case"img":case"image":case"link":He("error",r),He("load",r),d=h;break;case"details":He("toggle",r),d=h;break;case"input":vs(r,h),d=Pi(r,h),He("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ie({},h,{value:void 0}),He("invalid",r);break;case"textarea":Es(r,h),d=Bo(r,h),He("invalid",r);break;default:d=h}Ho(a,d),I=d;for(g in I)if(I.hasOwnProperty(g)){var x=I[g];g==="style"?Wo(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&zo(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&jr(r,x):typeof x=="number"&&jr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&He("scroll",r):x!=null&&Q(r,g,x,w))}switch(a){case"input":mr(r),vl(r,h,!1);break;case"textarea":mr(r),jo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?yr(r,!!h.multiple,g,!1):h.defaultValue!=null&&yr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)mg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Gi(Ea.current),Gi(rr.current),tu(s)){if(h=s.stateNode,a=s.memoizedProps,h[nr]=s,(g=h.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:Kl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Kl(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[nr]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ke(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&pn!==null&&s.mode&1&&!(s.flags&128))_m(),eo(),s.flags|=98560,g=!1;else if(g=tu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[nr]=s}else eo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),g=!1}else zn!==null&&(Zh(zn),zn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?_t===0&&(_t=3):nf())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return io(),zh(r,s),r===null&&pa(s.stateNode.containerInfo),Bt(s),null;case 10:return gh(s.type._context),Bt(s),null;case 17:return nn(s.type)&&Xl(),Bt(s),null;case 19:if(Ke(Ze),g=s.memoizedState,g===null)return Bt(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ra(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=au(r),w!==null){for(s.flags|=128,Ra(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(Ze,Ze.current&1|2),s.child}r=r.sibling}g.tail!==null&&We()>lo&&(s.flags|=128,h=!0,Ra(g,!1),s.lanes=4194304)}else{if(!h)if(r=au(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ra(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ye)return Bt(s),null}else 2*We()-g.renderingStartTime>lo&&a!==1073741824&&(s.flags|=128,h=!0,Ra(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=We(),s.sibling=null,a=Ze.current,qe(Ze,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return tf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?mn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function x0(r,s){switch(ch(s),s.tag){case 1:return nn(s.type)&&Xl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return io(),Ke(tn),Ke(Ft),Sh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Eh(s),null;case 13:if(Ke(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ze),null;case 4:return io(),null;case 10:return gh(s.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var gu=!1,jt=!1,k0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function oo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function $h(r,s,a){try{a()}catch(h){rt(r,s,h)}}var gg=!1;function V0(r,s){if(th=Qr,r=Gp(),Kc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,x=-1,z=0,X=0,Y=r,G=null;t:for(;;){for(var se;Y!==a||d!==0&&Y.nodeType!==3||(I=w+d),Y!==g||h!==0&&Y.nodeType!==3||(x=w+h),Y.nodeType===3&&(w+=Y.nodeValue.length),(se=Y.firstChild)!==null;)G=Y,Y=se;for(;;){if(Y===r)break t;if(G===a&&++z===d&&(I=w),G===g&&++X===h&&(x=w),(se=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=se}a=I===-1||x===-1?null:{start:I,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:r,selectionRange:a},Qr=!1,ae=s;ae!==null;)if(s=ae,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ae=r;else for(;ae!==null;){s=ae;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?ce:$n(s.type,ce),lt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,ae=r;break}ae=s.return}return ue=gg,gg=!1,ue}function Pa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&$h(s,a,g)}d=d.next}while(d!==h)}}function yu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Wh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function yg(r){var s=r.alternate;s!==null&&(r.alternate=null,yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[nr],delete s[ga],delete s[oh],delete s[d0],delete s[p0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _g(r){return r.tag===5||r.tag===3||r.tag===4}function vg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_g(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gl));else if(h!==4&&(r=r.child,r!==null))for(qh(r,s,a),r=r.sibling;r!==null;)qh(r,s,a),r=r.sibling}function Hh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Hh(r,s,a),r=r.sibling;r!==null;)Hh(r,s,a),r=r.sibling}var Dt=null,Wn=!1;function ii(r,s,a){for(a=a.child;a!==null;)wg(r,s,a),a=a.sibling}function wg(r,s,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 5:jt||oo(a,s);case 6:var h=Dt,d=Wn;Dt=null,ii(r,s,a),Dt=h,Wn=d,Dt!==null&&(Wn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Wn?(r=Dt,a=a.stateNode,r.nodeType===8?sh(r.parentNode,a):r.nodeType===1&&sh(r,a),Un(r)):sh(Dt,a.stateNode));break;case 4:h=Dt,d=Wn,Dt=a.stateNode.containerInfo,Wn=!0,ii(r,s,a),Dt=h,Wn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&$h(a,s,w),d=d.next}while(d!==h)}ii(r,s,a);break;case 1:if(!jt&&(oo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){rt(a,s,I)}ii(r,s,a);break;case 21:ii(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,ii(r,s,a),jt=h):ii(r,s,a);break;default:ii(r,s,a)}}function Eg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new k0),s.forEach(function(h){var d=B0.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function qn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Wn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Wn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Wn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));wg(g,w,d),Dt=null,Wn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(z){rt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Tg(s,r),s=s.sibling}function Tg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qn(s,r),sr(r),h&4){try{Pa(3,r,r.return),yu(3,r)}catch(ce){rt(r,r.return,ce)}try{Pa(5,r,r.return)}catch(ce){rt(r,r.return,ce)}}break;case 1:qn(s,r),sr(r),h&512&&a!==null&&oo(a,a.return);break;case 5:if(qn(s,r),sr(r),h&512&&a!==null&&oo(a,a.return),r.flags&32){var d=r.stateNode;try{jr(d,"")}catch(ce){rt(r,r.return,ce)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,I=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&Fo(d,g),Ko(I,w);var z=Ko(I,g);for(w=0;w<x.length;w+=2){var X=x[w],Y=x[w+1];X==="style"?Wo(d,Y):X==="dangerouslySetInnerHTML"?zo(d,Y):X==="children"?jr(d,Y):Q(d,X,Y,z)}switch(I){case"input":Uo(d,g);break;case"textarea":Ts(d,g);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?yr(d,!!g.multiple,se,!1):G!==!!g.multiple&&(g.defaultValue!=null?yr(d,!!g.multiple,g.defaultValue,!0):yr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ga]=g}catch(ce){rt(r,r.return,ce)}}break;case 6:if(qn(s,r),sr(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(ce){rt(r,r.return,ce)}}break;case 3:if(qn(s,r),sr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(ce){rt(r,r.return,ce)}break;case 4:qn(s,r),sr(r);break;case 13:qn(s,r),sr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Qh=We())),h&4&&Eg(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||X,qn(s,r),jt=z):qn(s,r),sr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!X&&r.mode&1)for(ae=r,X=r.child;X!==null;){for(Y=ae=X;ae!==null;){switch(G=ae,se=G.child,G.tag){case 0:case 11:case 14:case 15:Pa(4,G,G.return);break;case 1:oo(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){h=G,a=G.return;try{s=h,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){rt(h,a,ce)}}break;case 5:oo(G,G.return);break;case 22:if(G.memoizedState!==null){Ig(Y);continue}}se!==null?(se.return=G,ae=se):Ig(Y)}X=X.sibling}e:for(X=null,Y=r;;){if(Y.tag===5){if(X===null){X=Y;try{d=Y.stateNode,z?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=Y.stateNode,x=Y.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=$o("display",w))}catch(ce){rt(r,r.return,ce)}}}else if(Y.tag===6){if(X===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(ce){rt(r,r.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;X===Y&&(X=null),Y=Y.return}X===Y&&(X=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:qn(s,r),sr(r),h&4&&Eg(r);break;case 21:break;default:qn(s,r),sr(r)}}function sr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(_g(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(jr(d,""),h.flags&=-33);var g=vg(r);Hh(r,g,d);break;case 3:case 4:var w=h.stateNode.containerInfo,I=vg(r);qh(r,I,w);break;default:throw Error(t(161))}}catch(x){rt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function D0(r,s,a){ae=r,Sg(r)}function Sg(r,s,a){for(var h=(r.mode&1)!==0;ae!==null;){var d=ae,g=d.child;if(d.tag===22&&h){var w=d.memoizedState!==null||gu;if(!w){var I=d.alternate,x=I!==null&&I.memoizedState!==null||jt;I=gu;var z=jt;if(gu=w,(jt=x)&&!z)for(ae=d;ae!==null;)w=ae,x=w.child,w.tag===22&&w.memoizedState!==null?Rg(d):x!==null?(x.return=w,ae=x):Rg(d);for(;g!==null;)ae=g,Sg(g),g=g.sibling;ae=d,gu=I,jt=z}Ag(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ae=g):Ag(r)}}function Ag(r){for(;ae!==null;){var s=ae;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||yu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:$n(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Im(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Im(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var Y=X.dehydrated;Y!==null&&Un(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Wh(s)}catch(G){rt(s,s.return,G)}}if(s===r){ae=null;break}if(a=s.sibling,a!==null){a.return=s.return,ae=a;break}ae=s.return}}function Ig(r){for(;ae!==null;){var s=ae;if(s===r){ae=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ae=a;break}ae=s.return}}function Rg(r){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{yu(4,s)}catch(x){rt(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(x){rt(s,d,x)}}var g=s.return;try{Wh(s)}catch(x){rt(s,g,x)}break;case 5:var w=s.return;try{Wh(s)}catch(x){rt(s,w,x)}}}catch(x){rt(s,s.return,x)}if(s===r){ae=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ae=I;break}ae=s.return}}var N0=Math.ceil,_u=ne.ReactCurrentDispatcher,Kh=ne.ReactCurrentOwner,Rn=ne.ReactCurrentBatchConfig,Oe=0,It=null,ft=null,Nt=0,mn=0,ao=Zr(0),_t=0,Ca=null,Xi=0,vu=0,Gh=0,xa=null,sn=null,Qh=0,lo=1/0,Dr=null,wu=!1,Xh=null,si=null,Eu=!1,oi=null,Tu=0,ka=0,Yh=null,Su=-1,Au=0;function Xt(){return Oe&6?We():Su!==-1?Su:Su=We()}function ai(r){return r.mode&1?Oe&2&&Nt!==0?Nt&-Nt:g0.transition!==null?(Au===0&&(Au=Fi()),Au):(r=ke,r!==0||(r=window.event,r=r===void 0?16:ia(r.type)),r):1}function Hn(r,s,a,h){if(50<ka)throw ka=0,Yh=null,Error(t(185));qr(r,a,h),(!(Oe&2)||r!==It)&&(r===It&&(!(Oe&2)&&(vu|=a),_t===4&&li(r,Nt)),on(r,h),a===1&&Oe===0&&!(s.mode&1)&&(lo=We()+500,Jl&&ti()))}function on(r,s){var a=r.callbackNode;wr(r,s);var h=bi(r,r===It?Nt:0);if(h===0)a!==null&&Zo(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Zo(a),s===1)r.tag===0?m0(Cg.bind(null,r)):dm(Cg.bind(null,r)),h0(function(){!(Oe&6)&&ti()}),a=null;else{switch(Kr(h)){case 1:a=Li;break;case 4:a=zr;break;case 16:a=vn;break;case 536870912:a=Al;break;default:a=vn}a=Og(a,Pg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Pg(r,s){if(Su=-1,Au=0,Oe&6)throw Error(t(327));var a=r.callbackNode;if(uo()&&r.callbackNode!==a)return null;var h=bi(r,r===It?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Iu(r,h);else{s=h;var d=Oe;Oe|=2;var g=kg();(It!==r||Nt!==s)&&(Dr=null,lo=We()+500,Ji(r,s));do try{O0();break}catch(I){xg(r,I)}while(!0);mh(),_u.current=g,Oe=d,ft!==null?s=0:(It=null,Nt=0,s=_t)}if(s!==0){if(s===2&&(d=cn(r),d!==0&&(h=d,s=Jh(r,d))),s===1)throw a=Ca,Ji(r,0),li(r,h),on(r,We()),a;if(s===6)li(r,h);else{if(d=r.current.alternate,!(h&30)&&!M0(d)&&(s=Iu(r,h),s===2&&(g=cn(r),g!==0&&(h=g,s=Jh(r,g))),s===1))throw a=Ca,Ji(r,0),li(r,h),on(r,We()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Zi(r,sn,Dr);break;case 3:if(li(r,h),(h&130023424)===h&&(s=Qh+500-We(),10<s)){if(bi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ih(Zi.bind(null,r,sn,Dr),s);break}Zi(r,sn,Dr);break;case 4:if(li(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var w=31-Kt(h);g=1<<w,w=s[w],w>d&&(d=w),h&=~g}if(h=d,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*N0(h/1960))-h,10<h){r.timeoutHandle=ih(Zi.bind(null,r,sn,Dr),h);break}Zi(r,sn,Dr);break;case 5:Zi(r,sn,Dr);break;default:throw Error(t(329))}}}return on(r,We()),r.callbackNode===a?Pg.bind(null,r):null}function Jh(r,s){var a=xa;return r.current.memoizedState.isDehydrated&&(Ji(r,s).flags|=256),r=Iu(r,s),r!==2&&(s=sn,sn=a,s!==null&&Zh(s)),r}function Zh(r){sn===null?sn=r:sn.push.apply(sn,r)}function M0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!jn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function li(r,s){for(s&=~Gh,s&=~vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function Cg(r){if(Oe&6)throw Error(t(327));uo();var s=bi(r,0);if(!(s&1))return on(r,We()),null;var a=Iu(r,s);if(r.tag!==0&&a===2){var h=cn(r);h!==0&&(s=h,a=Jh(r,h))}if(a===1)throw a=Ca,Ji(r,0),li(r,s),on(r,We()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Zi(r,sn,Dr),on(r,We()),null}function ef(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(lo=We()+500,Jl&&ti())}}function Yi(r){oi!==null&&oi.tag===0&&!(Oe&6)&&uo();var s=Oe;Oe|=1;var a=Rn.transition,h=ke;try{if(Rn.transition=null,ke=1,r)return r()}finally{ke=h,Rn.transition=a,Oe=s,!(Oe&6)&&ti()}}function tf(){mn=ao.current,Ke(ao)}function Ji(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,c0(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(ch(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Xl();break;case 3:io(),Ke(tn),Ke(Ft),Sh();break;case 5:Eh(h);break;case 4:io();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:gh(h.type._context);break;case 22:case 23:tf()}a=a.return}if(It=r,ft=r=ui(r.current,null),Nt=mn=s,_t=0,Ca=null,Gh=vu=Xi=0,sn=xa=null,Ki!==null){for(s=0;s<Ki.length;s++)if(a=Ki[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,h.next=w}a.pending=h}Ki=null}return r}function xg(r,s){do{var a=ft;try{if(mh(),lu.current=fu,uu){for(var h=et.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}uu=!1}if(Qi=0,At=yt=et=null,Ta=!1,Sa=0,Kh.current=null,a===null||a.return===null){_t=1,Ca=s,ft=null;break}e:{var g=r,w=a.return,I=a,x=s;if(s=Nt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=x,X=I,Y=X.tag;if(!(X.mode&1)&&(Y===0||Y===11||Y===15)){var G=X.alternate;G?(X.updateQueue=G.updateQueue,X.memoizedState=G.memoizedState,X.lanes=G.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=eg(w);if(se!==null){se.flags&=-257,tg(se,w,I,g,s),se.mode&1&&Zm(g,z,s),s=se,x=z;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(x),s.updateQueue=ce}else ue.add(x);break e}else{if(!(s&1)){Zm(g,z,s),nf();break e}x=Error(t(426))}}else if(Ye&&I.mode&1){var lt=eg(w);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),tg(lt,w,I,g,s),dh(so(x,I));break e}}g=x=so(x,I),_t!==4&&(_t=2),xa===null?xa=[g]:xa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Ym(g,x,s);Am(g,B);break e;case 1:I=x;var D=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(si===null||!si.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=Jm(g,I,s);Am(g,Z);break e}}g=g.return}while(g!==null)}Dg(a)}catch(he){s=he,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function kg(){var r=_u.current;return _u.current=fu,r===null?fu:r}function nf(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(Xi&268435455)&&!(vu&268435455)||li(It,Nt)}function Iu(r,s){var a=Oe;Oe|=2;var h=kg();(It!==r||Nt!==s)&&(Dr=null,Ji(r,s));do try{L0();break}catch(d){xg(r,d)}while(!0);if(mh(),Oe=a,_u.current=h,ft!==null)throw Error(t(261));return It=null,Nt=0,_t}function L0(){for(;ft!==null;)Vg(ft)}function O0(){for(;ft!==null&&!Tl();)Vg(ft)}function Vg(r){var s=Lg(r.alternate,r,mn);r.memoizedProps=r.pendingProps,s===null?Dg(r):ft=s,Kh.current=null}function Dg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=x0(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}else if(a=C0(a,s,mn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function Zi(r,s,a){var h=ke,d=Rn.transition;try{Rn.transition=null,ke=1,b0(r,s,a,h)}finally{Rn.transition=d,ke=h}return null}function b0(r,s,a,h){do uo();while(oi!==null);if(Oe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ze(r,g),r===It&&(ft=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Eu||(Eu=!0,Og(vn,function(){return uo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Rn.transition,Rn.transition=null;var w=ke;ke=1;var I=Oe;Oe|=4,Kh.current=null,V0(r,a),Tg(a,r),r0(nh),Qr=!!th,nh=th=null,r.current=a,D0(a),Uc(),Oe=I,ke=w,Rn.transition=g}else r.current=a;if(Eu&&(Eu=!1,oi=r,Tu=d),g=r.pendingLanes,g===0&&(si=null),Il(a.stateNode),on(r,We()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(wu)throw wu=!1,r=Xh,Xh=null,r;return Tu&1&&r.tag!==0&&uo(),g=r.pendingLanes,g&1?r===Yh?ka++:(ka=0,Yh=r):ka=0,ti(),null}function uo(){if(oi!==null){var r=Kr(Tu),s=Rn.transition,a=ke;try{if(Rn.transition=null,ke=16>r?16:r,oi===null)var h=!1;else{if(r=oi,oi=null,Tu=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,ae=r.current;ae!==null;){var g=ae,w=g.child;if(ae.flags&16){var I=g.deletions;if(I!==null){for(var x=0;x<I.length;x++){var z=I[x];for(ae=z;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:Pa(8,X,g)}var Y=X.child;if(Y!==null)Y.return=X,ae=Y;else for(;ae!==null;){X=ae;var G=X.sibling,se=X.return;if(yg(X),X===z){ae=null;break}if(G!==null){G.return=se,ae=G;break}ae=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}ae=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ae=w;else e:for(;ae!==null;){if(g=ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ae=B;break e}ae=g.return}}var D=r.current;for(ae=D;ae!==null;){w=ae;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,ae=j;else e:for(w=D;ae!==null;){if(I=ae,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:yu(9,I)}}catch(he){rt(I,I.return,he)}if(I===w){ae=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ae=Z;break e}ae=I.return}}if(Oe=d,ti(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Oi,r)}catch{}h=!0}return h}finally{ke=a,Rn.transition=s}}return!1}function Ng(r,s,a){s=so(a,s),s=Ym(r,s,1),r=ri(r,s,1),s=Xt(),r!==null&&(qr(r,1,s),on(r,s))}function rt(r,s,a){if(r.tag===3)Ng(r,r,a);else for(;s!==null;){if(s.tag===3){Ng(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))){r=so(a,r),r=Jm(s,r,1),s=ri(s,r,1),r=Xt(),s!==null&&(qr(s,1,r),on(s,r));break}}s=s.return}}function F0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(_t===4||_t===3&&(Nt&130023424)===Nt&&500>We()-Qh?Ji(r,0):Gh|=a),on(r,s)}function Mg(r,s){s===0&&(r.mode&1?(s=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):s=1);var a=Xt();r=xr(r,s),r!==null&&(qr(r,s,a),on(r,a))}function U0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Mg(r,a)}function B0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Mg(r,a)}var Lg;Lg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,P0(r,s,a);rn=!!(r.flags&131072)}else rn=!1,Ye&&s.flags&1048576&&pm(s,eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;mu(r,s),r=s.pendingProps;var d=Ys(s,Ft.current);ro(s,a),d=Rh(null,s,h,r,d,a);var g=Ph();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(g=!0,Yl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,vh(s),d.updater=du,s.stateNode=d,d._reactInternals=s,Nh(s,h,r,a),s=bh(null,s,h,!0,g,a)):(s.tag=0,Ye&&g&&uh(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(mu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=z0(h),r=$n(h,r),d){case 0:s=Oh(null,s,h,r,a);break e;case 1:s=ag(null,s,h,r,a);break e;case 11:s=ng(null,s,h,r,a);break e;case 14:s=rg(null,s,h,$n(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),Oh(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),ag(r,s,h,d,a);case 3:e:{if(lg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,d=g.element,Sm(r,s),ou(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=so(Error(t(423)),s),s=ug(r,s,h,a,d);break e}else if(h!==d){d=so(Error(t(424)),s),s=ug(r,s,h,a,d);break e}else for(pn=Jr(s.stateNode.containerInfo.firstChild),dn=s,Ye=!0,zn=null,a=Em(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(eo(),h===d){s=Vr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Rm(s),r===null&&fh(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,w=d.children,rh(h,d)?w=null:g!==null&&rh(h,g)&&(s.flags|=32),og(r,s),Qt(r,s,w,a),s.child;case 6:return r===null&&fh(s),null;case 13:return cg(r,s,a);case 4:return wh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=to(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),ng(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,qe(ru,h._currentValue),h._currentValue=w,g!==null)if(jn(g.value,w)){if(g.children===d.children&&!tn.current){s=Vr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var x=I.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=kr(-1,a&-a),x.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?x.next=x:(x.next=X.next,X.next=x),z.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),yh(g.return,a,s),I.lanes|=a;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),yh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,ro(s,a),d=An(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=$n(h,s.pendingProps),d=$n(h.type,d),rg(r,s,h,d,a);case 15:return ig(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:$n(h,d),mu(r,s),s.tag=1,nn(h)?(r=!0,Yl(s)):r=!1,ro(s,a),Qm(s,h,d),Nh(s,h,d,a),bh(null,s,h,!0,r,a);case 19:return fg(r,s,a);case 22:return sg(r,s,a)}throw Error(t(156,s.tag))};function Og(r,s){return ks(r,s)}function j0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,a,h){return new j0(r,s,a,h)}function rf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function z0(r){if(typeof r=="function")return rf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ct)return 14}return 2}function ui(r,s){var a=r.alternate;return a===null?(a=Pn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ru(r,s,a,h,d,g){var w=2;if(h=r,typeof r=="function")rf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case k:return es(a.children,d,g,s);case A:w=8,d|=8;break;case P:return r=Pn(12,a,s,d|2),r.elementType=P,r.lanes=g,r;case C:return r=Pn(13,a,s,d),r.elementType=C,r.lanes=g,r;case Qe:return r=Pn(19,a,s,d),r.elementType=Qe,r.lanes=g,r;case Ae:return Pu(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:w=10;break e;case M:w=9;break e;case F:w=11;break e;case Ct:w=14;break e;case xt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Pn(w,a,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function es(r,s,a,h){return r=Pn(7,r,h,s),r.lanes=a,r}function Pu(r,s,a,h){return r=Pn(22,r,h,s),r.elementType=Ae,r.lanes=a,r.stateNode={isHidden:!1},r}function sf(r,s,a){return r=Pn(6,r,null,s),r.lanes=a,r}function of(r,s,a){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $0(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function af(r,s,a,h,d,g,w,I,x){return r=new $0(r,s,a,I,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(g),r}function W0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function bg(r){if(!r)return ei;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return hm(r,a,s)}return s}function Fg(r,s,a,h,d,g,w,I,x){return r=af(a,h,!0,r,d,g,w,I,x),r.context=bg(null),a=r.current,h=Xt(),d=ai(a),g=kr(h,d),g.callback=s??null,ri(a,g,d),r.current.lanes=d,qr(r,d,h),on(r,h),r}function Cu(r,s,a,h){var d=s.current,g=Xt(),w=ai(d);return a=bg(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ri(d,s,w),r!==null&&(Hn(r,d,w,g),su(r,d,w)),w}function xu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ug(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function lf(r,s){Ug(r,s),(r=r.alternate)&&Ug(r,s)}var Bg=typeof reportError=="function"?reportError:function(r){console.error(r)};function uf(r){this._internalRoot=r}ku.prototype.render=uf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Cu(r,s,null,null)},ku.prototype.unmount=uf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Yi(function(){Cu(null,r,null,null)}),s[Ir]=null}};function ku(r){this._internalRoot=r}ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=kl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Jn.length&&s!==0&&s<Jn[a].priority;a++);Jn.splice(a,0,r),a===0&&Nl(r)}};function cf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Vu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jg(){}function q0(r,s,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var z=xu(w);g.call(z)}}var w=Fg(s,h,r,0,null,!1,!1,"",jg);return r._reactRootContainer=w,r[Ir]=w.current,pa(r.nodeType===8?r.parentNode:r),Yi(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=xu(x);I.call(z)}}var x=af(r,0,!1,null,null,!1,!1,"",jg);return r._reactRootContainer=x,r[Ir]=x.current,pa(r.nodeType===8?r.parentNode:r),Yi(function(){Cu(s,x,a,h)}),x}function Du(r,s,a,h,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var I=d;d=function(){var x=xu(w);I.call(x)}}Cu(s,w,r,d)}else w=q0(a,s,r,d,h);return xu(w)}Cl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$r(s.pendingLanes);a!==0&&(Hr(s,a|1),on(s,We()),!(Oe&6)&&(lo=We()+500,ti()))}break;case 13:Yi(function(){var h=xr(r,1);if(h!==null){var d=Xt();Hn(h,r,1,d)}}),lf(r,1)}},Ns=function(r){if(r.tag===13){var s=xr(r,134217728);if(s!==null){var a=Xt();Hn(s,r,134217728,a)}lf(r,134217728)}},xl=function(r){if(r.tag===13){var s=ai(r),a=xr(r,s);if(a!==null){var h=Xt();Hn(a,r,s,h)}lf(r,s)}},kl=function(){return ke},Vl=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},As=function(r,s,a){switch(s){case"input":if(Uo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Ql(h);if(!d)throw Error(t(90));_s(h),Uo(h,d)}}}break;case"textarea":Ts(r,a);break;case"select":s=a.value,s!=null&&yr(r,!!a.multiple,s,!1)}},Vi=ef,Qo=Yi;var H0={usingClientEntryPoint:!1,Events:[ya,Qs,Ql,Xn,Go,ef]},Va={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K0={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jo(r),r===null?null:r.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Oi=Nu.inject(K0),un=Nu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(s))throw Error(t(200));return W0(r,s,null,a)},an.createRoot=function(r,s){if(!cf(r))throw Error(t(299));var a=!1,h="",d=Bg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=af(r,1,!1,null,null,a,!1,h,d),r[Ir]=s.current,pa(r.nodeType===8?r.parentNode:r),new uf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Jo(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return Yi(r)},an.hydrate=function(r,s,a){if(!Vu(s))throw Error(t(200));return Du(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!cf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",w=Bg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Fg(s,null,r,1,a??null,d,!1,g,w),r[Ir]=s.current,pa(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new ku(s)},an.render=function(r,s,a){if(!Vu(s))throw Error(t(200));return Du(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Vu(r))throw Error(t(40));return r._reactRootContainer?(Yi(function(){Du(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},an.unstable_batchedUpdates=ef,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Vu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Du(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var Qg;function tS(){if(Qg)return df.exports;Qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),df.exports=eS(),df.exports}var Xg;function nS(){if(Xg)return Mu;Xg=1;var n=tS();return Mu.createRoot=n.createRoot,Mu.hydrateRoot=n.hydrateRoot,Mu}var rS=nS();function Ff({children:n}){return me.jsx("div",{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:n})}function mv({children:n,onClick:e}){return me.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white",onClick:e,children:n})}function gv({value:n,onChange:e,placeholder:t}){return me.jsx("textarea",{className:"w-full p-2 rounded-lg bg-purple-700 text-white resize-none",value:n,onChange:e,placeholder:t,rows:"4"})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},p)=>fe.createElement("svg",{ref:p,...sS,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:yv("lucide",o),...f},[...c.map(([y,v])=>fe.createElement(y,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=(n,e)=>{const t=fe.forwardRef(({className:i,...o},l)=>fe.createElement(oS,{ref:l,iconNode:e,className:yv(`lucide-${iS(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],uS=aS("Upload",lS),_v=fe.createContext({});function cS(n){const e=fe.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ad=fe.createContext(null),vv=fe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function hS(n=!0){const e=fe.useContext(Ad);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=fe.useId();fe.useEffect(()=>{n&&o(l)},[n]);const c=fe.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const Id=typeof window<"u",fS=Id?fe.useLayoutEffect:fe.useEffect,yn=n=>n;let Uf=yn;function Rd(n){let e;return()=>(e===void 0&&(e=n()),e)}const Eo=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Nr=n=>n*1e3,Mr=n=>n/1e3,dS={skipAnimations:!1,useManualTiming:!1};function pS(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),n()),y(c)}const p={schedule:(y,v=!1,E=!1)=>{const R=E&&i?e:t;return v&&l.add(y),R.has(y)||R.add(y),y},cancel:y=>{t.delete(y),l.delete(y)},process:y=>{if(c=y,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const Lu=["read","resolveKeyframes","update","preRender","render","postRender"],mS=40;function wv(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Lu.reduce((W,K)=>(W[K]=pS(l),W),{}),{read:f,resolveKeyframes:p,update:y,preRender:v,render:E,postRender:S}=c,R=()=>{const W=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(W-o.timestamp,mS),1),o.timestamp=W,o.isProcessing=!0,f.process(o),p.process(o),y.process(o),v.process(o),E.process(o),S.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(R))},L=()=>{t=!0,i=!0,o.isProcessing||n(R)};return{schedule:Lu.reduce((W,K)=>{const Q=c[K];return W[K]=(ne,re=!1,le=!1)=>(t||L(),Q.schedule(ne,re,le)),W},{}),cancel:W=>{for(let K=0;K<Lu.length;K++)c[Lu[K]].cancel(W)},state:o,steps:c}}const{schedule:Ge,cancel:vi,state:Mt,steps:gf}=wv(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),Ev=fe.createContext({strict:!1}),Yg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},To={};for(const n in Yg)To[n]={isEnabled:e=>Yg[n].some(t=>!!e[t])};function gS(n){for(const e in n)To[e]={...To[e],...n[e]}}const yS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ec(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||yS.has(n)}let Tv=n=>!ec(n);function _S(n){n&&(Tv=e=>e.startsWith("on")?!ec(e):n(e))}try{_S(require("@emotion/is-prop-valid").default)}catch{}function vS(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(Tv(o)||t===!0&&ec(o)||!e&&!ec(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function wS(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const vc=fe.createContext({});function Ja(n){return typeof n=="string"||Array.isArray(n)}function wc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Pd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cd=["initial",...Pd];function Ec(n){return wc(n.animate)||Cd.some(e=>Ja(n[e]))}function Sv(n){return!!(Ec(n)||n.variants)}function ES(n,e){if(Ec(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ja(t)?t:void 0,animate:Ja(i)?i:void 0}}return n.inherit!==!1?e:{}}function TS(n){const{initial:e,animate:t}=ES(n,fe.useContext(vc));return fe.useMemo(()=>({initial:e,animate:t}),[Jg(e),Jg(t)])}function Jg(n){return Array.isArray(n)?n.join(" "):n}const SS=Symbol.for("motionComponentSymbol");function mo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function AS(n,e,t){return fe.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):mo(t)&&(t.current=i))},[e])}const xd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IS="framerAppearId",Av="data-"+xd(IS),{schedule:kd,cancel:WD}=wv(queueMicrotask,!1),Iv=fe.createContext({});function RS(n,e,t,i,o){var l,c;const{visualElement:f}=fe.useContext(vc),p=fe.useContext(Ev),y=fe.useContext(Ad),v=fe.useContext(vv).reducedMotion,E=fe.useRef(null);i=i||p.renderer,!E.current&&i&&(E.current=i(n,{visualState:e,parent:f,props:t,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:v}));const S=E.current,R=fe.useContext(Iv);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&PS(E.current,t,o,R);const L=fe.useRef(!1);fe.useInsertionEffect(()=>{S&&L.current&&S.update(t,y)});const O=t[Av],N=fe.useRef(!!O&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,O))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,O)));return fS(()=>{S&&(L.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),kd.render(S.render),N.current&&S.animationState&&S.animationState.animateChanges())}),fe.useEffect(()=>{S&&(!N.current&&S.animationState&&S.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,O)}),N.current=!1))}),S}function PS(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Rv(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&mo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}function Rv(n){if(n)return n.options.allowProjection!==!1?n.projection:Rv(n.parent)}function CS({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&gS(n);function f(y,v){let E;const S={...fe.useContext(vv),...y,layoutId:xS(y)},{isStatic:R}=S,L=TS(y),O=i(y,R);if(!R&&Id){kS();const N=VS(S);E=N.MeasureLayout,L.visualElement=RS(o,O,S,e,N.ProjectionNode)}return me.jsxs(vc.Provider,{value:L,children:[E&&L.visualElement?me.jsx(E,{visualElement:L.visualElement,...S}):null,t(o,y,AS(O,L.visualElement,v),O,R,L.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=fe.forwardRef(f);return p[SS]=o,p}function xS({layoutId:n}){const e=fe.useContext(_v).id;return e&&n!==void 0?e+"-"+n:n}function kS(n,e){fe.useContext(Ev).strict}function VS(n){const{drag:e,layout:t}=To;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const DS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vd(n){return typeof n!="string"||n.includes("-")?!1:!!(DS.indexOf(n)>-1||/[A-Z]/u.test(n))}function Zg(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Dd(n,e,t,i){if(typeof e=="function"){const[o,l]=Zg(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=Zg(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Bf=n=>Array.isArray(n),NS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),MS=n=>Bf(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function qu(n){const e=Ht(n)?n.get():n;return NS(e)?e.toValue():e}function LS({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:OS(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const Pv=n=>(e,t)=>{const i=fe.useContext(vc),o=fe.useContext(Ad),l=()=>LS(n,e,i,o);return t?l():cS(l)};function OS(n,e,t,i){const o={},l=i(n,{});for(const S in l)o[S]=qu(l[S]);let{initial:c,animate:f}=n;const p=Ec(n),y=Sv(n);e&&y&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const E=v?f:c;if(E&&typeof E!="boolean"&&!wc(E)){const S=Array.isArray(E)?E:[E];for(let R=0;R<S.length;R++){const L=Dd(n,S[R]);if(L){const{transitionEnd:O,transition:N,...W}=L;for(const K in W){let Q=W[K];if(Array.isArray(Q)){const ne=v?Q.length-1:0;Q=Q[ne]}Q!==null&&(o[K]=Q)}for(const K in O)o[K]=O[K]}}}return o}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fs=new Set(Do),Cv=n=>e=>typeof e=="string"&&e.startsWith(n),Nd=Cv("--"),bS=Cv("var(--"),Md=n=>bS(n)?FS.test(n.split("/*")[0].trim()):!1,FS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xv=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Or=(n,e,t)=>t>e?e:t<n?n:t,No={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Za={...No,transform:n=>Or(0,1,n)},Ou={...No,default:1},hl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hi=hl("deg"),lr=hl("%"),we=hl("px"),US=hl("vh"),BS=hl("vw"),ey={...lr,parse:n=>lr.parse(n)/100,transform:n=>lr.transform(n*100)},jS={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},zS={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:Ou,scaleX:Ou,scaleY:Ou,scaleZ:Ou,skew:hi,skewX:hi,skewY:hi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Za,originX:ey,originY:ey,originZ:we},ty={...No,transform:Math.round},Ld={...jS,...zS,zIndex:ty,size:we,fillOpacity:Za,strokeOpacity:Za,numOctaves:ty},$S={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WS=Do.length;function qS(n,e,t){let i="",o=!0;for(let l=0;l<WS;l++){const c=Do[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const y=xv(f,Ld[c]);if(!p){o=!1;const v=$S[c]||c;i+=`${v}(${y}) `}t&&(e[c]=y)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Od(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const p in e){const y=e[p];if(fs.has(p)){c=!0;continue}else if(Nd(p)){o[p]=y;continue}else{const v=xv(y,Ld[p]);p.startsWith("origin")?(f=!0,l[p]=v):i[p]=v}}if(e.transform||(c||t?i.transform=qS(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:y="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${y} ${v}`}}const HS={offset:"stroke-dashoffset",array:"stroke-dasharray"},KS={offset:"strokeDashoffset",array:"strokeDasharray"};function GS(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?HS:KS;n[l.offset]=we.transform(-i);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function ny(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function QS(n,e,t){const i=ny(e,n.x,n.width),o=ny(t,n.y,n.height);return`${i} ${o}`}function bd(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:p=0,...y},v,E){if(Od(n,y,E),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:R,dimensions:L}=n;S.transform&&(L&&(R.transform=S.transform),delete S.transform),L&&(o!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=QS(L,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),t!==void 0&&(S.y=t),i!==void 0&&(S.scale=i),c!==void 0&&GS(S,c,f,p,!1)}const Fd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kv=()=>({...Fd(),attrs:{}}),Ud=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Vv(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const Dv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nv(n,e,t,i){Vv(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(Dv.has(o)?o:xd(o),e.attrs[o])}const el={};function XS(n){for(const e in n)el[e]=n[e],Nd(e)&&(el[e].isCSSVariable=!0)}function Mv(n,{layout:e,layoutId:t}){return fs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!el[n]||n==="opacity")}function Bd(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(Ht(o[c])||e.style&&Ht(e.style[c])||Mv(c,n)||((i=t==null?void 0:t.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Lv(n,e,t){const i=Bd(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=Do.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function YS(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ry=["x","y","width","height","cx","cy","r"],JS={useVisualState:Pv({scrapeMotionValuesFromProps:Lv,createRenderState:kv,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(fs.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<ry.length;f++){const p=ry[f];n[p]!==e[p]&&(c=!0)}c&&Ge.read(()=>{YS(t,i),Ge.render(()=>{bd(i,o,Ud(t.tagName),n.transformTemplate),Nv(t,i)})})}})},ZS={useVisualState:Pv({scrapeMotionValuesFromProps:Bd,createRenderState:Fd})};function Ov(n,e,t){for(const i in e)!Ht(e[i])&&!Mv(i,t)&&(n[i]=e[i])}function eA({transformTemplate:n},e){return fe.useMemo(()=>{const t=Fd();return Od(t,e,n),Object.assign({},t.vars,t.style)},[e])}function tA(n,e){const t=n.style||{},i={};return Ov(i,t,n),Object.assign(i,eA(n,e)),i}function nA(n,e){const t={},i=tA(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function rA(n,e,t,i){const o=fe.useMemo(()=>{const l=kv();return bd(l,e,Ud(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Ov(l,n.style,n),o.style={...l,...o.style}}return o}function iA(n=!1){return(t,i,o,{latestValues:l},c)=>{const p=(Vd(t)?rA:nA)(i,l,c,t),y=vS(i,typeof t=="string",n),v=t!==fe.Fragment?{...y,...p,ref:o}:{},{children:E}=i,S=fe.useMemo(()=>Ht(E)?E.get():E,[E]);return fe.createElement(t,{...v,children:S})}}function sA(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Vd(i)?JS:ZS,preloadedFeatures:n,useRender:iA(o),createVisualElement:e,Component:i};return CS(c)}}function bv(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Tc(n,e,t){const i=n.getProps();return Dd(i,e,t!==void 0?t:i.custom,n)}const oA=Rd(()=>window.ScrollTimeline!==void 0);class aA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(oA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lA extends aA{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function jd(n,e){return n?n[e]||n.default||n:void 0}const jf=2e4;function Fv(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<jf;)e+=t,i=n.next(e);return e>=jf?1/0:e}function zd(n){return typeof n=="function"}function iy(n,e){n.timeline=e,n.onfinish=null}const $d=n=>Array.isArray(n)&&typeof n[0]=="number",uA={linearEasing:void 0};function cA(n,e){const t=Rd(n);return()=>{var i;return(i=uA[e])!==null&&i!==void 0?i:t()}}const tc=cA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uv=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Eo(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function Bv(n){return!!(typeof n=="function"&&tc()||!n||typeof n=="string"&&(n in zf||tc())||$d(n)||Array.isArray(n)&&n.every(Bv))}const La=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,zf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:La([0,.65,.55,1]),circOut:La([.55,0,1,.45]),backIn:La([.31,.01,.66,-.59]),backOut:La([.33,1.53,.69,.99])};function jv(n,e){if(n)return typeof n=="function"&&tc()?Uv(n,e):$d(n)?La(n):Array.isArray(n)?n.map(t=>jv(t,e)||zf.easeOut):zf[n]}const Kn={x:!1,y:!1};function zv(){return Kn.x||Kn.y}function hA(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function $v(n,e){const t=hA(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function sy(n){return!(n.pointerType==="touch"||zv())}function fA(n,e,t={}){const[i,o,l]=$v(n,t),c=f=>{if(!sy(f))return;const{target:p}=f,y=e(p,f);if(typeof y!="function"||!p)return;const v=E=>{sy(E)&&(y(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const Wv=(n,e)=>e?n===e?!0:Wv(n,e.parentElement):!1,Wd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pA(n){return dA.has(n.tagName)||n.tabIndex!==-1}const Oa=new WeakSet;function oy(n){return e=>{e.key==="Enter"&&n(e)}}function yf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mA=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=oy(()=>{if(Oa.has(t))return;yf(t,"down");const o=oy(()=>{yf(t,"up")}),l=()=>yf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function ay(n){return Wd(n)&&!zv()}function gA(n,e,t={}){const[i,o,l]=$v(n,t),c=f=>{const p=f.currentTarget;if(!ay(f)||Oa.has(p))return;Oa.add(p);const y=e(p,f),v=(R,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),!(!ay(R)||!Oa.has(p))&&(Oa.delete(p),typeof y=="function"&&y(R,{success:L}))},E=R=>{v(R,t.useGlobalTarget||Wv(p,R.target))},S=R=>{v(R,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return i.forEach(f=>{!pA(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",y=>mA(y,o),o)}),l}function yA(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}const qv=new Set(["width","height","top","left","right","bottom",...Do]);let Hu;function _A(){Hu=void 0}const ur={now:()=>(Hu===void 0&&ur.set(Mt.isProcessing||dS.useManualTiming?Mt.timestamp:performance.now()),Hu),set:n=>{Hu=n,queueMicrotask(_A)}};function qd(n,e){n.indexOf(e)===-1&&n.push(e)}function Hd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Kd{constructor(){this.subscriptions=[]}add(e){return qd(this.subscriptions,e),()=>Hd(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hv(n,e){return e?n*(1e3/e):0}const ly=30,vA=n=>!isNaN(parseFloat(n));class wA{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=ur.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Kd);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ly)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ly);return Hv(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tl(n,e){return new wA(n,e)}function EA(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tl(t))}function TA(n,e){const t=Tc(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=MS(l[c]);EA(n,c,f)}}function SA(n){return!!(Ht(n)&&n.add)}function $f(n,e){const t=n.getValue("willChange");if(SA(t))return t.add(e)}function Kv(n){return n.props[Av]}const Gv=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,AA=1e-7,IA=12;function RA(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=Gv(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>AA&&++f<IA);return c}function fl(n,e,t,i){if(n===e&&t===i)return yn;const o=l=>RA(l,0,1,n,t);return l=>l===0||l===1?l:Gv(o(l),e,i)}const Qv=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Xv=n=>e=>1-n(1-e),Yv=fl(.33,1.53,.69,.99),Gd=Xv(Yv),Jv=Qv(Gd),Zv=n=>(n*=2)<1?.5*Gd(n):.5*(2-Math.pow(2,-10*(n-1))),Qd=n=>1-Math.sin(Math.acos(n)),ew=Xv(Qd),tw=Qv(Qd),nw=n=>/^0[^.\s]+$/u.test(n);function PA(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||nw(n):!0}const za=n=>Math.round(n*1e5)/1e5,Xd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CA(n){return n==null}const xA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yd=(n,e)=>t=>!!(typeof t=="string"&&xA.test(t)&&t.startsWith(n)||e&&!CA(t)&&Object.prototype.hasOwnProperty.call(t,e)),rw=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(Xd);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},kA=n=>Or(0,255,n),_f={...No,transform:n=>Math.round(kA(n))},ss={test:Yd("rgb","red"),parse:rw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+_f.transform(n)+", "+_f.transform(e)+", "+_f.transform(t)+", "+za(Za.transform(i))+")"};function VA(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Wf={test:Yd("#"),parse:VA,transform:ss.transform},go={test:Yd("hsl","hue"),parse:rw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+lr.transform(za(e))+", "+lr.transform(za(t))+", "+za(Za.transform(i))+")"},$t={test:n=>ss.test(n)||Wf.test(n)||go.test(n),parse:n=>ss.test(n)?ss.parse(n):go.test(n)?go.parse(n):Wf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ss.transform(n):go.transform(n)},DA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NA(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Xd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(DA))===null||t===void 0?void 0:t.length)||0)>0}const iw="number",sw="color",MA="var",LA="var(",uy="${}",OA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(OA,p=>($t.test(p)?(i.color.push(l),o.push(sw),t.push($t.parse(p))):p.startsWith(LA)?(i.var.push(l),o.push(MA),t.push(p)):(i.number.push(l),o.push(iw),t.push(parseFloat(p))),++l,uy)).split(uy);return{values:t,split:f,indexes:i,types:o}}function ow(n){return nl(n).values}function aw(n){const{split:e,types:t}=nl(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===iw?l+=za(o[c]):f===sw?l+=$t.transform(o[c]):l+=o[c]}return l}}const bA=n=>typeof n=="number"?0:n;function FA(n){const e=ow(n);return aw(n)(e.map(bA))}const wi={test:NA,parse:ow,createTransformer:aw,getAnimatableNone:FA},UA=new Set(["brightness","contrast","saturate","opacity"]);function BA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Xd)||[];if(!i)return n;const o=t.replace(i,"");let l=UA.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const jA=/\b([a-z-]*)\(.*?\)/gu,qf={...wi,getAnimatableNone:n=>{const e=n.match(jA);return e?e.map(BA).join(" "):n}},zA={...Ld,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:qf,WebkitFilter:qf},Jd=n=>zA[n];function lw(n,e){let t=Jd(n);return t!==qf&&(t=wi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $A=new Set(["auto","none","0"]);function WA(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!$A.has(l)&&nl(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=lw(t,o)}const cy=n=>n===No||n===we,hy=(n,e)=>parseFloat(n.split(", ")[e]),fy=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return hy(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?hy(l[1],n):0}},qA=new Set(["x","y","z"]),HA=Do.filter(n=>!qA.has(n));function KA(n){const e=[];return HA.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const So={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:fy(4,13),y:fy(5,14)};So.translateX=So.x;So.translateY=So.y;const as=new Set;let Hf=!1,Kf=!1;function uw(){if(Kf){const n=Array.from(as).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=KA(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Kf=!1,Hf=!1,as.forEach(n=>n.complete()),as.clear()}function cw(){as.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Kf=!0)})}function GA(){cw(),uw()}class Zd{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(as.add(this),Hf||(Hf=!0,Ge.read(cw),Ge.resolveKeyframes(uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),as.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,as.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),QA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XA(n){const e=QA.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function fw(n,e,t=1){const[i,o]=XA(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return hw(c)?parseFloat(c):c}return Md(o)?fw(o,e,t+1):o}const dw=n=>e=>e.test(n),YA={test:n=>n==="auto",parse:n=>n},pw=[No,we,lr,hi,BS,US,YA],dy=n=>pw.find(dw(n));class mw extends Zd{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let y=e[p];if(typeof y=="string"&&(y=y.trim(),Md(y))){const v=fw(y,t.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!qv.has(i)||e.length!==2)return;const[o,l]=e,c=dy(o),f=dy(l);if(c!==f)if(cy(c)&&cy(f))for(let p=0;p<e.length;p++){const y=e[p];typeof y=="string"&&(e[p]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)PA(e[o])&&i.push(o);i.length&&WA(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=So[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,y])=>{t.getValue(p).set(y)}),this.resolveNoneKeyframes()}}const py=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wi.test(n)||n==="0")&&!n.startsWith("url("));function JA(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function ZA(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=py(o,e),f=py(l,e);return!c||!f?!1:JA(n)||(t==="spring"||zd(t))&&i}const eI=n=>n!==null;function Sc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(eI),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const tI=40;class gw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ur.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GA(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ur.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:p,isGenerator:y}=this.options;if(!y&&!ZA(e,i,o,l))if(c)this.options.duration=0;else{p&&p(Sc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function vf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function nI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=vf(p,f,n+1/3),l=vf(p,f,n),c=vf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function nc(n,e){return t=>t>0?e:n}const wf=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},rI=[Wf,ss,go],iI=n=>rI.find(e=>e.test(n));function my(n){const e=iI(n);if(!e)return!1;let t=e.parse(n);return e===go&&(t=nI(t)),t}const gy=(n,e)=>{const t=my(n),i=my(e);if(!t||!i)return nc(n,e);const o={...t};return l=>(o.red=wf(t.red,i.red,l),o.green=wf(t.green,i.green,l),o.blue=wf(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),ss.transform(o))},sI=(n,e)=>t=>e(n(t)),dl=(...n)=>n.reduce(sI),Gf=new Set(["none","hidden"]);function oI(n,e){return Gf.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function aI(n,e){return t=>tt(n,e,t)}function ep(n){return typeof n=="number"?aI:typeof n=="string"?Md(n)?nc:$t.test(n)?gy:cI:Array.isArray(n)?yw:typeof n=="object"?$t.test(n)?gy:lI:nc}function yw(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>ep(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function lI(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=ep(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function uI(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[c]++}return i}const cI=(n,e)=>{const t=wi.createTransformer(e),i=nl(n),o=nl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Gf.has(n)&&!o.values.length||Gf.has(e)&&!i.values.length?oI(n,e):dl(yw(uI(i,o),o.values),t):nc(n,e)};function _w(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):ep(n)(n,e)}const hI=5;function vw(n,e,t){const i=Math.max(e-hI,0);return Hv(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yy=.001;function fI({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,c=1-e;c=Or(it.minDamping,it.maxDamping,c),n=Or(it.minDuration,it.maxDuration,Mr(n)),c<1?(o=y=>{const v=y*c,E=v*n,S=v-t,R=Qf(y,c),L=Math.exp(-E);return yy-S/R*L},l=y=>{const E=y*c*n,S=E*t+t,R=Math.pow(c,2)*Math.pow(y,2)*n,L=Math.exp(-E),O=Qf(Math.pow(y,2),c);return(-o(y)+yy>0?-1:1)*((S-R)*L)/O}):(o=y=>{const v=Math.exp(-y*n),E=(y-t)*n+1;return-.001+v*E},l=y=>{const v=Math.exp(-y*n),E=(t-y)*(n*n);return v*E});const f=5/n,p=pI(o,l,f);if(n=Nr(n),isNaN(p))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const y=Math.pow(p,2)*i;return{stiffness:y,damping:c*2*Math.sqrt(i*y),duration:n}}}const dI=12;function pI(n,e,t){let i=t;for(let o=1;o<dI;o++)i=i-n(i)/e(i);return i}function Qf(n,e){return n*Math.sqrt(1-e*e)}const mI=["duration","bounce"],gI=["stiffness","damping","mass"];function _y(n,e){return e.some(t=>n[t]!==void 0)}function yI(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!_y(n,gI)&&_y(n,mI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Or(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=fI(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function ww(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:y,mass:v,duration:E,velocity:S,isResolvedFromDuration:R}=yI({...t,velocity:-Mr(t.velocity||0)}),L=S||0,O=y/(2*Math.sqrt(p*v)),N=c-l,W=Mr(Math.sqrt(p/v)),K=Math.abs(N)<5;i||(i=K?it.restSpeed.granular:it.restSpeed.default),o||(o=K?it.restDelta.granular:it.restDelta.default);let Q;if(O<1){const re=Qf(W,O);Q=le=>{const k=Math.exp(-O*W*le);return c-k*((L+O*W*N)/re*Math.sin(re*le)+N*Math.cos(re*le))}}else if(O===1)Q=re=>c-Math.exp(-W*re)*(N+(L+W*N)*re);else{const re=W*Math.sqrt(O*O-1);Q=le=>{const k=Math.exp(-O*W*le),A=Math.min(re*le,300);return c-k*((L+O*W*N)*Math.sinh(A)+re*N*Math.cosh(A))/re}}const ne={calculatedDuration:R&&E||null,next:re=>{const le=Q(re);if(R)f.done=re>=E;else{let k=0;O<1&&(k=re===0?Nr(L):vw(Q,re,le));const A=Math.abs(k)<=i,P=Math.abs(c-le)<=o;f.done=A&&P}return f.value=f.done?c:le,f},toString:()=>{const re=Math.min(Fv(ne),jf),le=Uv(k=>ne.next(re*k).value,re,30);return re+"ms "+le}};return ne}function vy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:y=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},R=A=>f!==void 0&&A<f||p!==void 0&&A>p,L=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let O=t*e;const N=E+O,W=c===void 0?N:c(N);W!==N&&(O=W-E);const K=A=>-O*Math.exp(-A/i),Q=A=>W+K(A),ne=A=>{const P=K(A),V=Q(A);S.done=Math.abs(P)<=y,S.value=S.done?W:V};let re,le;const k=A=>{R(S.value)&&(re=A,le=ww({keyframes:[S.value,L(S.value)],velocity:vw(Q,A,S.value),damping:o,stiffness:l,restDelta:y,restSpeed:v}))};return k(0),{calculatedDuration:null,next:A=>{let P=!1;return!le&&re===void 0&&(P=!0,ne(A),k(A)),re!==void 0&&A>=re?le.next(A-re):(!P&&ne(A),S)}}}const _I=fl(.42,0,1,1),vI=fl(0,0,.58,1),Ew=fl(.42,0,.58,1),wI=n=>Array.isArray(n)&&typeof n[0]!="number",wy={linear:yn,easeIn:_I,easeInOut:Ew,easeOut:vI,circIn:Qd,circInOut:tw,circOut:ew,backIn:Gd,backInOut:Jv,backOut:Yv,anticipate:Zv},Ey=n=>{if($d(n)){Uf(n.length===4);const[e,t,i,o]=n;return fl(e,t,i,o)}else if(typeof n=="string")return Uf(wy[n]!==void 0),wy[n];return n};function EI(n,e,t){const i=[],o=t||_w,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||yn:e;f=dl(p,f)}i.push(f)}return i}function TI(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Uf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=EI(e,i,o),p=f.length,y=v=>{if(c&&v<n[0])return e[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=Eo(n[E],n[E+1],v);return f[E](S)};return t?v=>y(Or(n[0],n[l-1],v)):y}function SI(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Eo(0,e,i);n.push(tt(t,1,o))}}function AI(n){const e=[0];return SI(e,n.length-1),e}function II(n,e){return n.map(t=>t*e)}function RI(n,e){return n.map(()=>e||Ew).splice(0,n.length-1)}function rc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=wI(i)?i.map(Ey):Ey(i),l={done:!1,value:e[0]},c=II(t&&t.length===e.length?t:AI(e),n),f=TI(c,e,{ease:Array.isArray(o)?o:RI(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const PI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ge.update(e,!0),stop:()=>vi(e),now:()=>Mt.isProcessing?Mt.timestamp:ur.now()}},CI={decay:vy,inertia:vy,tween:rc,keyframes:rc,spring:ww},xI=n=>n/100;class tp extends gw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Zd,f=(p,y)=>this.onKeyframesResolved(p,y);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=zd(t)?t:CI[t]||rc;let p,y;f!==rc&&typeof e[0]!="number"&&(p=dl(xI,_w(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});l==="mirror"&&(y=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Fv(v));const{calculatedDuration:E}=v,S=E+o,R=S*(i+1)-o;return{generator:v,mirroredGenerator:y,mapPercentToKeyframes:p,calculatedDuration:E,resolvedDuration:S,totalDuration:R}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:y,totalDuration:v,resolvedDuration:E}=i;if(this.startTime===null)return l.next(0);const{delay:S,repeat:R,repeatType:L,repeatDelay:O,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-S*(this.speed>=0?1:-1),K=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Q=this.currentTime,ne=l;if(R){const A=Math.min(this.currentTime,v)/E;let P=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&P--,P=Math.min(P,R+1),!!(P%2)&&(L==="reverse"?(V=1-V,O&&(V-=O/E)):L==="mirror"&&(ne=c)),Q=Or(0,1,V)*E}const re=K?{done:!1,value:p[0]}:ne.next(Q);f&&(re.value=f(re.value));let{done:le}=re;!K&&y!==null&&(le=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return k&&o!==void 0&&(re.value=Sc(p,this.options,o)),N&&N(re.value),k&&this.finish(),re}get duration(){const{resolved:e}=this;return e?Mr(e.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(e){e=Nr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=PI,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kI=new Set(["opacity","clipPath","filter","transform"]);function VI(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:p}={}){const y={[e]:t};p&&(y.offset=p);const v=jv(f,o);return Array.isArray(v)&&(y.easing=v),n.animate(y,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const DI=Rd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ic=10,NI=2e4;function MI(n){return zd(n.type)||n.type==="spring"||!Bv(n.ease)}function LI(n,e){const t=new tp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<NI;)i=t.sample(l),o.push(i.value),l+=ic;return{times:void 0,keyframes:o,duration:l-ic,ease:"linear"}}const Tw={anticipate:Zv,backInOut:Jv,circInOut:tw};function OI(n){return n in Tw}class Ty extends gw{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new mw(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:p,startTime:y}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&tc()&&OI(l)&&(l=Tw[l]),MI(this.options)){const{onComplete:E,onUpdate:S,motionValue:R,element:L,...O}=this.options,N=LI(e,O);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,o=N.times,l=N.ease,c="keyframes"}const v=VI(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return v.startTime=y??this.calcStartTime(),this.pendingTimeline?(iy(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;f.set(Sc(e,this.options,t)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Mr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Mr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Nr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return yn;const{animation:i}=t;iy(i,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:y,onUpdate:v,onComplete:E,element:S,...R}=this.options,L=new tp({...R,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),O=Nr(this.time);y.setWithVelocity(L.sample(O-ic).value,L.sample(O).value,ic)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=t.owner.getProps();return DI()&&i&&kI.has(i)&&!p&&!y&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const bI={type:"spring",stiffness:500,damping:25,restSpeed:10},FI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),UI={type:"keyframes",duration:.8},BI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jI=(n,{keyframes:e})=>e.length>2?UI:fs.has(n)?n.startsWith("scale")?FI(e[1]):bI:BI;function zI({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:y,...v}){return!!Object.keys(v).length}const np=(n,e,t,i={},o,l)=>c=>{const f=jd(i,n)||{},p=f.delay||i.delay||0;let{elapsed:y=0}=i;y=y-Nr(p);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:S=>{e.set(S),f.onUpdate&&f.onUpdate(S)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};zI(f)||(v={...v,...jI(n,v)}),v.duration&&(v.duration=Nr(v.duration)),v.repeatDelay&&(v.repeatDelay=Nr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),E&&!l&&e.get()!==void 0){const S=Sc(v.keyframes,f);if(S!==void 0)return Ge.update(()=>{v.onUpdate(S),v.onComplete()}),new lA([])}return!l&&Ty.supports(v)?new Ty(v):new tp(v)};function $I({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Sw(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(c=i);const y=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const E in p){const S=n.getValue(E,(l=n.latestValues[E])!==null&&l!==void 0?l:null),R=p[E];if(R===void 0||v&&$I(v,E))continue;const L={delay:t,...jd(c||{},E)};let O=!1;if(window.MotionHandoffAnimation){const W=Kv(n);if(W){const K=window.MotionHandoffAnimation(W,E,Ge);K!==null&&(L.startTime=K,O=!0)}}$f(n,E),S.start(np(E,S,R,n.shouldReduceMotion&&qv.has(E)?{type:!1}:L,n,O));const N=S.animation;N&&y.push(N)}return f&&Promise.all(y).then(()=>{Ge.update(()=>{f&&TA(n,f)})}),y}function Xf(n,e,t={}){var i;const o=Tc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(Sw(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=l;return WI(n,e,v+y,E,S,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[y,v]=p==="beforeChildren"?[c,f]:[f,c];return y().then(()=>v())}else return Promise.all([c(),f(t.delay)])}function WI(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,p=o===1?(y=0)=>y*i:(y=0)=>f-y*i;return Array.from(n.variantChildren).sort(qI).forEach((y,v)=>{y.notify("AnimationStart",e),c.push(Xf(y,e,{...l,delay:t+p(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(c)}function qI(n,e){return n.sortNodePosition(e)}function HI(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Xf(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=Xf(n,e,t);else{const o=typeof e=="function"?Tc(n,e,t.custom):e;i=Promise.all(Sw(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const KI=Cd.length;function Aw(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Aw(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<KI;t++){const i=Cd[t],o=n.props[i];(Ja(o)||o===!1)&&(e[i]=o)}return e}const GI=[...Pd].reverse(),QI=Pd.length;function XI(n){return e=>Promise.all(e.map(({animation:t,options:i})=>HI(n,t,i)))}function YI(n){let e=XI(n),t=Sy(),i=!0;const o=p=>(y,v)=>{var E;const S=Tc(n,v,p==="exit"?(E=n.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(S){const{transition:R,transitionEnd:L,...O}=S;y={...y,...O,...L}}return y};function l(p){e=p(n)}function c(p){const{props:y}=n,v=Aw(n.parent)||{},E=[],S=new Set;let R={},L=1/0;for(let N=0;N<QI;N++){const W=GI[N],K=t[W],Q=y[W]!==void 0?y[W]:v[W],ne=Ja(Q),re=W===p?K.isActive:null;re===!1&&(L=N);let le=Q===v[W]&&Q!==y[W]&&ne;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),K.protectedKeys={...R},!K.isActive&&re===null||!Q&&!K.prevProp||wc(Q)||typeof Q=="boolean")continue;const k=JI(K.prevProp,Q);let A=k||W===p&&K.isActive&&!le&&ne||N>L&&ne,P=!1;const V=Array.isArray(Q)?Q:[Q];let M=V.reduce(o(W),{});re===!1&&(M={});const{prevResolvedValues:F={}}=K,C={...F,...M},Qe=Ae=>{A=!0,S.has(Ae)&&(P=!0,S.delete(Ae)),K.needsAnimating[Ae]=!0;const ee=n.getValue(Ae);ee&&(ee.liveStyle=!1)};for(const Ae in C){const ee=M[Ae],de=F[Ae];if(R.hasOwnProperty(Ae))continue;let ie=!1;Bf(ee)&&Bf(de)?ie=!bv(ee,de):ie=ee!==de,ie?ee!=null?Qe(Ae):S.add(Ae):ee!==void 0&&S.has(Ae)?Qe(Ae):K.protectedKeys[Ae]=!0}K.prevProp=Q,K.prevResolvedValues=M,K.isActive&&(R={...R,...M}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(le&&k)||P)&&E.push(...V.map(Ae=>({animation:Ae,options:{type:W}})))}if(S.size){const N={};S.forEach(W=>{const K=n.getBaseTarget(W),Q=n.getValue(W);Q&&(Q.liveStyle=!0),N[W]=K??null}),E.push({animation:N})}let O=!!E.length;return i&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(E):Promise.resolve()}function f(p,y){var v;if(t[p].isActive===y)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(S=>{var R;return(R=S.animationState)===null||R===void 0?void 0:R.setActive(p,y)}),t[p].isActive=y;const E=c(p);for(const S in t)t[S].protectedKeys={};return E}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=Sy(),i=!0}}}function JI(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!bv(e,n):!1}function ts(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sy(){return{animate:ts(!0),whileInView:ts(),whileHover:ts(),whileTap:ts(),whileDrag:ts(),whileFocus:ts(),exit:ts()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZI extends Ri{constructor(e){super(e),e.animationState||(e.animationState=YI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let eR=0;class tR extends Ri{constructor(){super(...arguments),this.id=eR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nR={animation:{Feature:ZI},exit:{Feature:tR}};function rl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function pl(n){return{point:{x:n.pageX,y:n.pageY}}}const rR=n=>e=>Wd(e)&&n(e,pl(e));function $a(n,e,t,i){return rl(n,e,rR(t),i)}const Ay=(n,e)=>Math.abs(n-e);function iR(n,e){const t=Ay(n.x,e.x),i=Ay(n.y,e.y);return Math.sqrt(t**2+i**2)}class Iw{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Tf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=iR(E.offset,{x:0,y:0})>=3;if(!S&&!R)return;const{point:L}=E,{timestamp:O}=Mt;this.history.push({...L,timestamp:O});const{onStart:N,onMove:W}=this.handlers;S||(N&&N(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ef(S,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:R,onSessionEnd:L,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Tf(E.type==="pointercancel"?this.lastMoveEventInfo:Ef(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,N),L&&L(E,N)},!Wd(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=pl(e),f=Ef(c,this.transformPagePoint),{point:p}=f,{timestamp:y}=Mt;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=t;v&&v(e,Tf(f,this.history)),this.removeListeners=dl($a(this.contextWindow,"pointermove",this.handlePointerMove),$a(this.contextWindow,"pointerup",this.handlePointerUp),$a(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function Ef(n,e){return e?{point:e(n.point)}:n}function Iy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Tf({point:n},e){return{point:n,delta:Iy(n,Rw(e)),offset:Iy(n,sR(e)),velocity:oR(e,.1)}}function sR(n){return n[0]}function Rw(n){return n[n.length-1]}function oR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Rw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Nr(e)));)t--;if(!i)return{x:0,y:0};const l=Mr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Pw=1e-4,aR=1-Pw,lR=1+Pw,Cw=.01,uR=0-Cw,cR=0+Cw;function Jt(n){return n.max-n.min}function hR(n,e,t){return Math.abs(n-e)<=t}function Ry(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Jt(t)/Jt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=aR&&n.scale<=lR||isNaN(n.scale))&&(n.scale=1),(n.translate>=uR&&n.translate<=cR||isNaN(n.translate))&&(n.translate=0)}function Wa(n,e,t,i){Ry(n.x,e.x,t.x,i?i.originX:void 0),Ry(n.y,e.y,t.y,i?i.originY:void 0)}function Py(n,e,t){n.min=t.min+e.min,n.max=n.min+Jt(e)}function fR(n,e,t){Py(n.x,e.x,t.x),Py(n.y,e.y,t.y)}function Cy(n,e,t){n.min=e.min-t.min,n.max=n.min+Jt(e)}function qa(n,e,t){Cy(n.x,e.x,t.x),Cy(n.y,e.y,t.y)}function dR(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function xy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function pR(n,{top:e,left:t,bottom:i,right:o}){return{x:xy(n.x,t,o),y:xy(n.y,e,i)}}function ky(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function mR(n,e){return{x:ky(n.x,e.x),y:ky(n.y,e.y)}}function gR(n,e){let t=.5;const i=Jt(n),o=Jt(e);return o>i?t=Eo(e.min,e.max-i,n.min):i>o&&(t=Eo(n.min,n.max-o,e.min)),Or(0,1,t)}function yR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Yf=.35;function _R(n=Yf){return n===!1?n=0:n===!0&&(n=Yf),{x:Vy(n,"left","right"),y:Vy(n,"top","bottom")}}function Vy(n,e,t){return{min:Dy(n,e),max:Dy(n,t)}}function Dy(n,e){return typeof n=="number"?n:n[e]||0}const Ny=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:Ny(),y:Ny()}),My=()=>({min:0,max:0}),ut=()=>({x:My(),y:My()});function xn(n){return[n("x"),n("y")]}function xw({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function vR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function wR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Sf(n){return n===void 0||n===1}function Jf({scale:n,scaleX:e,scaleY:t}){return!Sf(n)||!Sf(e)||!Sf(t)}function ns(n){return Jf(n)||kw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function kw(n){return Ly(n.x)||Ly(n.y)}function Ly(n){return n&&n!=="0%"}function sc(n,e,t){const i=n-t,o=e*i;return t+o}function Oy(n,e,t,i,o){return o!==void 0&&(n=sc(n,o,i)),sc(n,t,i)+e}function Zf(n,e=0,t=1,i,o){n.min=Oy(n.min,e,t,i,o),n.max=Oy(n.max,e,t,i,o)}function Vw(n,{x:e,y:t}){Zf(n.x,e.translate,e.scale,e.originPoint),Zf(n.y,t.translate,t.scale,t.originPoint)}const by=.999999999999,Fy=1.0000000000001;function ER(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&vo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Vw(n,c)),i&&ns(l.latestValues)&&vo(n,l.latestValues))}e.x<Fy&&e.x>by&&(e.x=1),e.y<Fy&&e.y>by&&(e.y=1)}function _o(n,e){n.min=n.min+e,n.max=n.max+e}function Uy(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);Zf(n,e,t,l,i)}function vo(n,e){Uy(n.x,e.x,e.scaleX,e.scale,e.originX),Uy(n.y,e.y,e.scaleY,e.scale,e.originY)}function Dw(n,e){return xw(wR(n.getBoundingClientRect(),e))}function TR(n,e,t){const i=Dw(n,t),{scroll:o}=e;return o&&(_o(i.x,o.offset.x),_o(i.y,o.offset.y)),i}const Nw=({current:n})=>n?n.ownerDocument.defaultView:null,SR=new WeakMap;class AR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pl(v).point)},l=(v,E)=>{const{drag:S,dragPropagation:R,onDragStart:L}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yA(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(N=>{let W=this.getAxisMotionValue(N).get()||0;if(lr.test(W)){const{projection:K}=this.visualElement;if(K&&K.layout){const Q=K.layout.layoutBox[N];Q&&(W=Jt(Q)*(parseFloat(W)/100))}}this.originPoint[N]=W}),L&&Ge.postRender(()=>L(v,E)),$f(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},c=(v,E)=>{const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:L,onDrag:O}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:N}=E;if(R&&this.currentDirection===null){this.currentDirection=IR(N),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,N),this.updateAxis("y",E.point,N),this.visualElement.render(),O&&O(v,E)},f=(v,E)=>this.stop(v,E),p=()=>xn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Iw(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Nw(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ge.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!bu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=dR(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=pR(o.layoutBox,t):this.constraints=!1,this.elastic=_R(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=yR(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=TR(i,o.root,this.visualElement.getTransformPagePoint());let c=mR(o.layout.layoutBox,l);if(t){const f=t(vR(c));this.hasMutatedConstraints=!!f,f&&(c=xw(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},y=xn(v=>{if(!bu(v,t,this.currentDirection))return;let E=p[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,R=o?40:1e7,L={type:"inertia",velocity:i?e[v]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(v,L)});return Promise.all(y).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return $f(this.visualElement,e),i.start(np(e,i,0,t,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xn(t=>{const{drag:i}=this.getProps();if(!bu(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-tt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!mo(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=gR({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xn(c=>{if(!bu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:y}=this.constraints[c];f.set(tt(p,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;SR.set(this.visualElement,this);const e=this.visualElement.current,t=$a(e,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();mo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ge.read(i);const c=rl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(xn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Yf,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function bu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function IR(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RR extends Ri{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new AR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const By=n=>(e,t)=>{n&&Ge.postRender(()=>n(e,t))};class PR extends Ri{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new Iw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:By(e),onStart:By(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Ge.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=$a(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jy(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Na={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=jy(n,e.target.x),i=jy(n,e.target.y);return`${t}% ${i}%`}},CR={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=wi.parse(n);if(o.length>5)return i;const l=wi.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const y=tt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),l(o)}};class xR extends fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;XS(kR),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ge.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mw(n){const[e,t]=hS(),i=fe.useContext(_v);return me.jsx(xR,{...n,layoutGroup:i,switchLayoutGroup:fe.useContext(Iv),isPresent:e,safeToRemove:t})}const kR={borderRadius:{...Na,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Na,borderTopRightRadius:Na,borderBottomLeftRadius:Na,borderBottomRightRadius:Na,boxShadow:CR};function VR(n,e,t){const i=Ht(n)?n:tl(n);return i.start(np("",i,e,t)),i.animation}function DR(n){return n instanceof SVGElement&&n.tagName!=="svg"}const NR=(n,e)=>n.depth-e.depth;class MR{constructor(){this.children=[],this.isDirty=!1}add(e){qd(this.children,e),this.isDirty=!0}remove(e){Hd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NR),this.isDirty=!1,this.children.forEach(e)}}function LR(n,e){const t=ur.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(vi(i),n(l-e))};return Ge.read(i,!0),()=>vi(i)}const Lw=["TopLeft","TopRight","BottomLeft","BottomRight"],OR=Lw.length,zy=n=>typeof n=="string"?parseFloat(n):n,$y=n=>typeof n=="number"||we.test(n);function bR(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,FR(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,UR(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<OR;c++){const f=`border${Lw[c]}Radius`;let p=Wy(e,f),y=Wy(t,f);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||$y(p)===$y(y)?(n[f]=Math.max(tt(zy(p),zy(y),i),0),(lr.test(y)||lr.test(p))&&(n[f]+="%")):n[f]=y}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function Wy(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const FR=Ow(0,.5,ew),UR=Ow(.5,.95,yn);function Ow(n,e,t){return i=>i<n?0:i>e?1:t(Eo(n,e,i))}function qy(n,e){n.min=e.min,n.max=e.max}function Cn(n,e){qy(n.x,e.x),qy(n.y,e.y)}function Hy(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Ky(n,e,t,i,o){return n-=e,n=sc(n,1/t,i),o!==void 0&&(n=sc(n,1/o,i)),n}function BR(n,e=0,t=1,i=.5,o,l=n,c=n){if(lr.test(e)&&(e=parseFloat(e),e=tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=tt(l.min,l.max,i);n===l&&(f-=e),n.min=Ky(n.min,e,t,f,o),n.max=Ky(n.max,e,t,f,o)}function Gy(n,e,[t,i,o],l,c){BR(n,e[t],e[i],e[o],e.scale,l,c)}const jR=["x","scaleX","originX"],zR=["y","scaleY","originY"];function Qy(n,e,t,i){Gy(n.x,e,jR,t?t.x:void 0,i?i.x:void 0),Gy(n.y,e,zR,t?t.y:void 0,i?i.y:void 0)}function Xy(n){return n.translate===0&&n.scale===1}function bw(n){return Xy(n.x)&&Xy(n.y)}function Yy(n,e){return n.min===e.min&&n.max===e.max}function $R(n,e){return Yy(n.x,e.x)&&Yy(n.y,e.y)}function Jy(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Fw(n,e){return Jy(n.x,e.x)&&Jy(n.y,e.y)}function Zy(n){return Jt(n.x)/Jt(n.y)}function e_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class WR{constructor(){this.members=[]}add(e){qd(this.members,e),e.scheduleRender()}remove(e){if(Hd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qR(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:y,rotate:v,rotateX:E,rotateY:S,skewX:R,skewY:L}=t;y&&(i=`perspective(${y}px) ${i}`),v&&(i+=`rotate(${v}deg) `),E&&(i+=`rotateX(${E}deg) `),S&&(i+=`rotateY(${S}deg) `),R&&(i+=`skewX(${R}deg) `),L&&(i+=`skewY(${L}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ba=typeof window<"u"&&window.MotionDebug!==void 0,Af=["","X","Y","Z"],HR={visibility:"hidden"},t_=1e3;let KR=0;function If(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Uw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Kv(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ge,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Uw(i)}function Bw({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=KR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba&&(rs.totalNodes=rs.resolvedTargetDeltas=rs.recalculatedProjection=0),this.nodes.forEach(XR),this.nodes.forEach(t1),this.nodes.forEach(n1),this.nodes.forEach(YR),ba&&window.MotionDebug.record(rs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new MR)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Kd),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DR(c),this.instance=c;const{layoutId:p,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(y||p)&&(this.isLayoutDirty=!0),n){let E;const S=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=LR(S,250),Ku.hasAnimatedSinceResize&&(Ku.hasAnimatedSinceResize=!1,this.nodes.forEach(r_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:S,hasRelativeLayoutChanged:R,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||v.getDefaultTransition()||a1,{onLayoutAnimationStart:N,onLayoutAnimationComplete:W}=v.getProps(),K=!this.targetLayout||!Fw(this.targetLayout,L),Q=!S&&R;if(this.options.layoutRoot||this.resumeFrom||Q||S&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,Q);const ne={...jd(O,"layout"),onPlay:N,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else S||r_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r1),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n_);return}this.isUpdating||this.nodes.forEach(ZR),this.isUpdating=!1,this.nodes.forEach(e1),this.nodes.forEach(GR),this.nodes.forEach(QR),this.clearAllSnapshots();const f=ur.now();Mt.delta=Or(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,gf.update.process(Mt),gf.preRender.process(Mt),gf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JR),this.sharedNodes.forEach(i1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!bw(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;c&&(f||ns(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),l1(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(u1))){const{scroll:v}=this.root;v&&(_o(p.x,v.offset.x),_o(p.y,v.offset.y))}return p}removeElementScroll(c){var f;const p=ut();if(Cn(p,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&Cn(p,c),_o(p.x,E.offset.x),_o(p.y,E.offset.y))}return p}applyTransform(c,f=!1){const p=ut();Cn(p,c);for(let y=0;y<this.path.length;y++){const v=this.path[y];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&vo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ns(v.latestValues)&&vo(p,v.latestValues)}return ns(this.latestValues)&&vo(p,this.latestValues),p}removeTransform(c){const f=ut();Cn(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!ns(y.latestValues))continue;Jf(y.latestValues)&&y.updateSnapshot();const v=ut(),E=y.measurePageBox();Cn(v,E),Qy(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return ns(this.latestValues)&&Qy(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(c||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:S}=this.options;if(!(!this.layout||!(E||S))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),qa(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),Vw(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),qa(this.relativeTargetOrigin,this.target,R.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba&&rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(y=!1),y)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;Cn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,R=this.treeScale.y;ER(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:L}=f;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hy(this.prevProjectionDelta.x,this.projectionDelta.x),Hy(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==R||!e_(this.projectionDelta.x,this.prevProjectionDelta.x)||!e_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L)),ba&&rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(c,f=!1){const p=this.snapshot,y=p?p.latestValues:{},v={...this.latestValues},E=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const S=ut(),R=p?p.source:void 0,L=this.layout?this.layout.source:void 0,O=R!==L,N=this.getStack(),W=!N||N.members.length<=1,K=!!(O&&!W&&this.options.crossfade===!0&&!this.path.some(o1));this.animationProgress=0;let Q;this.mixTargetDelta=ne=>{const re=ne/1e3;i_(E.x,c.x,re),i_(E.y,c.y,re),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qa(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s1(this.relativeTarget,this.relativeTargetOrigin,S,re),Q&&$R(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ut()),Cn(Q,this.relativeTarget)),O&&(this.animationValues=v,bR(v,y,this.latestValues,re,K,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Ku.hasAnimatedSinceResize=!0,this.currentAnimation=VR(0,t_,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:y,latestValues:v}=c;if(!(!f||!p||!y)){if(this!==c&&this.layout&&y&&jw(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||ut();const E=Jt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=Jt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Cn(f,p),vo(f,v),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WR),this.sharedNodes.get(c).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const y={};p.z&&If("z",c,y,this.animationValues);for(let v=0;v<Af.length;v++)If(`rotate${Af[v]}`,c,y,this.animationValues),If(`skew${Af[v]}`,c,y,this.animationValues);c.render();for(const v in y)c.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);c.scheduleRender()}getProjectionStyles(c){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HR;const y={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=qu(c==null?void 0:c.pointerEvents)||"",y.transform=v?v(this.latestValues,""):"none",y;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=qu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(O.transform=v?v({},""):"none",this.hasProjected=!1),O}const S=E.animationValues||E.latestValues;this.applyTransformsToTarget(),y.transform=qR(this.projectionDeltaWithTransform,this.treeScale,S),v&&(y.transform=v(S,y.transform));const{x:R,y:L}=this.projectionDelta;y.transformOrigin=`${R.origin*100}% ${L.origin*100}% 0`,E.animationValues?y.opacity=E===this?(p=(f=S.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:y.opacity=E===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const O in el){if(S[O]===void 0)continue;const{correct:N,applyTo:W,isCSSVariable:K}=el[O],Q=y.transform==="none"?S[O]:N(S[O],E);if(W){const ne=W.length;for(let re=0;re<ne;re++)y[W[re]]=Q}else K?this.options.visualElement.renderState.vars[O]=Q:y[O]=Q}return this.options.layoutId&&(y.pointerEvents=E===this?qu(c==null?void 0:c.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(n_),this.root.sharedNodes.clear()}}}function GR(n){n.updateLayout()}function QR(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?xn(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],R=Jt(S);S.min=i[E].min,S.max=S.min+R}):jw(l,t.layoutBox,i)&&xn(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],R=Jt(i[E]);S.max=S.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+R)});const f=yo();Wa(f,i,t.layoutBox);const p=yo();c?Wa(p,n.applyTransform(o,!0),t.measuredBox):Wa(p,i,t.layoutBox);const y=!bw(f);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:R}=E;if(S&&R){const L=ut();qa(L,t.layoutBox,S.layoutBox);const O=ut();qa(O,i,R.layoutBox),Fw(L,O)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=L,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function XR(n){ba&&rs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function JR(n){n.clearSnapshot()}function n_(n){n.clearMeasurements()}function ZR(n){n.isLayoutDirty=!1}function e1(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function r_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function t1(n){n.resolveTargetDelta()}function n1(n){n.calcProjection()}function r1(n){n.resetSkewAndRotation()}function i1(n){n.removeLeadSnapshot()}function i_(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function s_(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function s1(n,e,t,i){s_(n.x,e.x,t.x,i),s_(n.y,e.y,t.y,i)}function o1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const a1={duration:.45,ease:[.4,0,.1,1]},o_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),a_=o_("applewebkit/")&&!o_("chrome/")?Math.round:yn;function l_(n){n.min=a_(n.min),n.max=a_(n.max)}function l1(n){l_(n.x),l_(n.y)}function jw(n,e,t){return n==="position"||n==="preserve-aspect"&&!hR(Zy(e),Zy(t),.2)}function u1(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const c1=Bw({attachResizeListener:(n,e)=>rl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rf={current:void 0},zw=Bw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Rf.current){const n=new c1({});n.mount(window),n.setOptions({layoutScroll:!0}),Rf.current=n}return Rf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),h1={pan:{Feature:PR},drag:{Feature:RR,ProjectionNode:zw,MeasureLayout:Mw}};function u_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Ge.postRender(()=>l(e,pl(e)))}class f1 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=fA(e,(t,i)=>(u_(this.node,i,"Start"),o=>u_(this.node,o,"End"))))}unmount(){}}class d1 extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Ge.postRender(()=>l(e,pl(e)))}class p1 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=gA(e,(t,i)=>(c_(this.node,i,"Start"),(o,{success:l})=>c_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ed=new WeakMap,Pf=new WeakMap,m1=n=>{const e=ed.get(n.target);e&&e(n)},g1=n=>{n.forEach(m1)};function y1({root:n,...e}){const t=n||document;Pf.has(t)||Pf.set(t,{});const i=Pf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(g1,{root:n,...e})),i[o]}function _1(n,e,t){const i=y1(e);return ed.set(n,t),i.observe(n),()=>{ed.delete(n),i.unobserve(n)}}const v1={some:0,all:1};class w1 extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:v1[o]},f=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=y?v:E;S&&S(p)};return _1(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(E1(e,t))&&this.startObserver()}unmount(){}}function E1({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const T1={inView:{Feature:w1},tap:{Feature:p1},focus:{Feature:d1},hover:{Feature:f1}},S1={layout:{ProjectionNode:zw,MeasureLayout:Mw}},td={current:null},$w={current:!1};function A1(){if($w.current=!0,!!Id)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>td.current=n.matches;n.addListener(e),e()}else td.current=!1}const I1=[...pw,$t,wi],R1=n=>I1.find(dw(n)),h_=new WeakMap;function P1(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,tl(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,tl(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const f_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C1{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=ur.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Ge.render(this.render,!1,!0))};const{latestValues:p,renderState:y,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ec(t),this.isVariantNode=Sv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(t,{},this);for(const R in S){const L=S[R];p[R]!==void 0&&Ht(L)&&L.set(p[R],!1)}}mount(e){this.current=e,h_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),$w.current||A1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:td.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h_.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fs.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in To){const t=To[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<f_.length;i++){const o=f_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=P1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=tl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(hw(o)||nw(o))?o=parseFloat(o):!R1(o)&&wi.test(t)&&(o=lw(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=Dd(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Kd),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ww extends C1{constructor(){super(...arguments),this.KeyframeResolver=mw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function x1(n){return window.getComputedStyle(n)}class k1 extends Ww{constructor(){super(...arguments),this.type="html",this.renderInstance=Vv}readValueFromInstance(e,t){if(fs.has(t)){const i=Jd(t);return i&&i.default||0}else{const i=x1(e),o=(Nd(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Dw(e,t)}build(e,t,i){Od(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Bd(e,t,i)}}class V1 extends Ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fs.has(t)){const i=Jd(t);return i&&i.default||0}return t=Dv.has(t)?t:xd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Lv(e,t,i)}build(e,t,i){bd(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Nv(e,t,i,o)}mount(e){this.isSVGTag=Ud(e.tagName),super.mount(e)}}const D1=(n,e)=>Vd(n)?new V1(e):new k1(e,{allowProjection:n!==fe.Fragment}),N1=sA({...nR,...T1,...h1,...S1},D1),M1=wS(N1);function L1({type:n="text",...e}){return me.jsx("input",{type:n,className:"p-2 rounded bg-purple-700 text-white",...e})}function qw({username:n,setUsername:e,country:t,setCountry:i}){return me.jsxs("div",{className:"mb-4",children:[me.jsx(L1,{placeholder:"Select a temporary username (optional)",value:n,onChange:o=>e(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsxs("select",{value:t,onChange:o=>i(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white",children:[me.jsx("option",{value:"",children:"Select a country"}),me.jsx("option",{value:"🇺🇸",children:"United States"}),me.jsx("option",{value:"🇬🇧",children:"United Kingdom"}),me.jsx("option",{value:"🇩🇪",children:"Germany"}),me.jsx("option",{value:"🇫🇷",children:"France"}),me.jsx("option",{value:"🇯🇵",children:"Japan"}),me.jsx("option",{value:"🇮🇳",children:"India"})]})]})}function Hw({onSubmit:n}){const[e,t]=fe.useState(""),[i,o]=fe.useState(""),[l,c]=fe.useState(""),f=()=>{if(e.trim()){const p=i.trim()?i:"An0n";n({text:e,username:p,country:l,id:Date.now(),replies:[]}),t(""),o(""),c("")}};return me.jsxs("div",{className:"mt-4",children:[me.jsx(qw,{username:i,setUsername:o,country:l,setCountry:c}),me.jsx(gv,{placeholder:"Write a comment...",value:e,onChange:p=>t(p.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsx(mv,{onClick:f,className:"w-full bg-purple-600 hover:bg-purple-500",children:"Submit"})]})}function O1({comment:n,addReply:e}){const[t,i]=fe.useState(!1),o=l=>{e(l),i(!1)};return me.jsxs(Ff,{className:"p-4 bg-purple-700 rounded-lg mb-4",children:[me.jsxs("div",{className:"flex items-center mb-2",children:[me.jsx("span",{className:"mr-2",children:n.country}),me.jsx("span",{className:"font-bold",children:n.username})]}),me.jsx("p",{className:"text-white mb-2",children:n.text}),me.jsx("button",{onClick:()=>i(l=>!l),className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Reply"}),t&&me.jsx(Hw,{onSubmit:o}),me.jsx(Kw,{comments:n.replies})]})}function Kw({comments:n,addReply:e}){return me.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:n.map(t=>me.jsx(O1,{comment:t,addReply:i=>e(t.id,i)},t.id))})}function b1({onSubmit:n}){const[e,t]=fe.useState(!1);return e?me.jsx(Hw,{onSubmit:i=>{n(i),t(!1)}}):me.jsx("button",{onClick:()=>t(!0),className:"text-blue-400 text-sm underline hover:text-blue-300 mt-2",children:"Reply"})}var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},F1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,R=y&63;p||(R=64,c||(S=64)),i.push(t[v],t[E],t[S],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||E==null)throw new U1;const S=l<<2|f>>4;if(i.push(S),y!==64){const R=f<<4&240|y>>2;if(i.push(R),E!==64){const L=y<<6&192|E;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(n){const e=Gw(n);return Qw.encodeByteArray(e,!0)},oc=function(n){return B1(n).replace(/\./g,"")},j1=function(n){try{return Qw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>z1().__FIREBASE_DEFAULTS__,W1=()=>{if(typeof process>"u"||typeof d_>"u")return;const n=d_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&j1(n[1]);return e&&JSON.parse(e)},rp=()=>{try{return $1()||W1()||q1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H1=n=>{var e,t;return(t=(e=rp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Xw=n=>{const e=H1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Yw=()=>{var n;return(n=rp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oc(JSON.stringify(t)),oc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){var n;const e=(n=rp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="FirebaseError";class ds extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Z1,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zw.prototype.create)}}class Zw{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?eP(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new ds(o,f,i)}}function eP(n,e){return n.replace(tP,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const tP=/\{\$([^}]+)}/g;function nd(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(p_(l)&&p_(c)){if(!nd(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function p_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n){return n&&n._delegate?n._delegate:n}class Ao{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new K1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iP(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rP(n){return n===is?void 0:n}function iP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const oP={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},aP=Le.INFO,lP={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},uP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=lP[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=aP,this._logHandler=uP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const cP=(n,e)=>e.some(t=>n instanceof t);let m_,g_;function hP(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fP(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,rd=new WeakMap,nE=new WeakMap,Cf=new WeakMap,ip=new WeakMap;function dP(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(pi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tE.set(t,n)}).catch(()=>{}),ip.set(e,n),e}function pP(n){if(rd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});rd.set(n,e)}let id={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mP(n){id=n(id)}function gP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xf(this),e,...t);return nE.set(i,e.sort?e.sort():[e]),pi(i)}:fP().includes(n)?function(...e){return n.apply(xf(this),e),pi(tE.get(this))}:function(...e){return pi(n.apply(xf(this),e))}}function yP(n){return typeof n=="function"?gP(n):(n instanceof IDBTransaction&&pP(n),cP(n,hP())?new Proxy(n,id):n)}function pi(n){if(n instanceof IDBRequest)return dP(n);if(Cf.has(n))return Cf.get(n);const e=yP(n);return e!==n&&(Cf.set(n,e),ip.set(e,n)),e}const xf=n=>ip.get(n);function _P(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=pi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(pi(c.result),p.oldVersion,p.newVersion,pi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const vP=["get","getKey","getAll","getAllKeys","count"],wP=["put","add","delete","clear"],kf=new Map;function y_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=wP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||vP.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return kf.set(e,l),l}mP(n=>({...n,get:(e,t,i)=>y_(e,t)||n.get(e,t,i),has:(e,t)=>!!y_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function TP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",__="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new eE("@firebase/app"),SP="@firebase/app-compat",AP="@firebase/analytics-compat",IP="@firebase/analytics",RP="@firebase/app-check-compat",PP="@firebase/app-check",CP="@firebase/auth",xP="@firebase/auth-compat",kP="@firebase/database",VP="@firebase/data-connect",DP="@firebase/database-compat",NP="@firebase/functions",MP="@firebase/functions-compat",LP="@firebase/installations",OP="@firebase/installations-compat",bP="@firebase/messaging",FP="@firebase/messaging-compat",UP="@firebase/performance",BP="@firebase/performance-compat",jP="@firebase/remote-config",zP="@firebase/remote-config-compat",$P="@firebase/storage",WP="@firebase/storage-compat",qP="@firebase/firestore",HP="@firebase/vertexai",KP="@firebase/firestore-compat",GP="firebase",QP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",XP={[sd]:"fire-core",[SP]:"fire-core-compat",[IP]:"fire-analytics",[AP]:"fire-analytics-compat",[PP]:"fire-app-check",[RP]:"fire-app-check-compat",[CP]:"fire-auth",[xP]:"fire-auth-compat",[kP]:"fire-rtdb",[VP]:"fire-data-connect",[DP]:"fire-rtdb-compat",[NP]:"fire-fn",[MP]:"fire-fn-compat",[LP]:"fire-iid",[OP]:"fire-iid-compat",[bP]:"fire-fcm",[FP]:"fire-fcm-compat",[UP]:"fire-perf",[BP]:"fire-perf-compat",[jP]:"fire-rc",[zP]:"fire-rc-compat",[$P]:"fire-gcs",[WP]:"fire-gcs-compat",[qP]:"fire-fst",[KP]:"fire-fst-compat",[HP]:"fire-vertex","fire-js":"fire-js",[GP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,YP=new Map,ad=new Map;function v_(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function il(n){const e=n.name;if(ad.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,n);for(const t of ac.values())v_(t,n);for(const t of YP.values())v_(t,n);return!0}function rE(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Zw("app","Firebase",JP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=QP;function sE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=Yw()),!t)throw mi.create("no-options");const l=ac.get(o);if(l){if(nd(t,l.options)&&nd(i,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const c=new sP(o);for(const p of ad.values())c.addComponent(p);const f=new ZP(t,i,c);return ac.set(o,f),f}function oE(n=od){const e=ac.get(n);if(!e&&n===od&&Yw())return sE();if(!e)throw mi.create("no-app",{appName:n});return e}function gi(n,e,t){var i;let o=(i=XP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}il(new Ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-heartbeat-database",tC=1,sl="firebase-heartbeat-store";let Vf=null;function aE(){return Vf||(Vf=_P(eC,tC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),Vf}async function nC(n){try{const t=(await aE()).transaction(sl),i=await t.objectStore(sl).get(lE(n));return await t.done,i}catch(e){if(e instanceof ds)br.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function w_(n,e){try{const i=(await aE()).transaction(sl,"readwrite");await i.objectStore(sl).put(e,lE(n)),await i.done}catch(t){if(t instanceof ds)br.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(i.message)}}}function lE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,iC=30*24*60*60*1e3;class sC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=E_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=iC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=E_(),{heartbeatsToSend:i,unsentEntries:o}=oC(this._heartbeatsCache.heartbeats),l=oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function E_(){return new Date().toISOString().substring(0,10)}function oC(n,e=rC){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),T_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),T_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return w_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return w_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function T_(n){return oc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n){il(new Ao("platform-logger",e=>new EP(e),"PRIVATE")),il(new Ao("heartbeat",e=>new sC(e),"PRIVATE")),gi(sd,__,n),gi(sd,__,"esm2017"),gi("fire-js","")}lC("");var uC="firebase",cC="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(uC,cC,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,uE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function P(){}P.prototype=A.prototype,k.D=A.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(V,M,F){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return A.prototype[M].apply(V,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,P){P||(P=0);var V=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)V[M]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(M=0;16>M;++M)V[M]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=k.g[0],P=k.g[1],M=k.g[2];var F=k.g[3],C=A+(F^P&(M^F))+V[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=F+(M^A&(P^M))+V[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(P^F&(A^P))+V[2]+606105819&4294967295,M=F+(C<<17&4294967295|C>>>15),C=P+(A^M&(F^A))+V[3]+3250441966&4294967295,P=M+(C<<22&4294967295|C>>>10),C=A+(F^P&(M^F))+V[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(M^A&(P^M))+V[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(P^F&(A^P))+V[6]+2821735955&4294967295,M=F+(C<<17&4294967295|C>>>15),C=P+(A^M&(F^A))+V[7]+4249261313&4294967295,P=M+(C<<22&4294967295|C>>>10),C=A+(F^P&(M^F))+V[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(M^A&(P^M))+V[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(P^F&(A^P))+V[10]+4294925233&4294967295,M=F+(C<<17&4294967295|C>>>15),C=P+(A^M&(F^A))+V[11]+2304563134&4294967295,P=M+(C<<22&4294967295|C>>>10),C=A+(F^P&(M^F))+V[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(M^A&(P^M))+V[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(P^F&(A^P))+V[14]+2792965006&4294967295,M=F+(C<<17&4294967295|C>>>15),C=P+(A^M&(F^A))+V[15]+1236535329&4294967295,P=M+(C<<22&4294967295|C>>>10),C=A+(M^F&(P^M))+V[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^M&(A^P))+V[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^P&(F^A))+V[11]+643717713&4294967295,M=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(M^F))+V[0]+3921069994&4294967295,P=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(P^M))+V[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^M&(A^P))+V[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^P&(F^A))+V[15]+3634488961&4294967295,M=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(M^F))+V[4]+3889429448&4294967295,P=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(P^M))+V[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^M&(A^P))+V[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^P&(F^A))+V[3]+4107603335&4294967295,M=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(M^F))+V[8]+1163531501&4294967295,P=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(P^M))+V[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^M&(A^P))+V[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^P&(F^A))+V[7]+1735328473&4294967295,M=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(M^F))+V[12]+2368359562&4294967295,P=M+(C<<20&4294967295|C>>>12),C=A+(P^M^F)+V[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^M)+V[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^P)+V[11]+1839030562&4294967295,M=F+(C<<16&4294967295|C>>>16),C=P+(M^F^A)+V[14]+4259657740&4294967295,P=M+(C<<23&4294967295|C>>>9),C=A+(P^M^F)+V[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^M)+V[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^P)+V[7]+4139469664&4294967295,M=F+(C<<16&4294967295|C>>>16),C=P+(M^F^A)+V[10]+3200236656&4294967295,P=M+(C<<23&4294967295|C>>>9),C=A+(P^M^F)+V[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^M)+V[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^P)+V[3]+3572445317&4294967295,M=F+(C<<16&4294967295|C>>>16),C=P+(M^F^A)+V[6]+76029189&4294967295,P=M+(C<<23&4294967295|C>>>9),C=A+(P^M^F)+V[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^M)+V[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^P)+V[15]+530742520&4294967295,M=F+(C<<16&4294967295|C>>>16),C=P+(M^F^A)+V[2]+3299628645&4294967295,P=M+(C<<23&4294967295|C>>>9),C=A+(M^(P|~F))+V[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~M))+V[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~P))+V[14]+2878612391&4294967295,M=F+(C<<15&4294967295|C>>>17),C=P+(F^(M|~A))+V[5]+4237533241&4294967295,P=M+(C<<21&4294967295|C>>>11),C=A+(M^(P|~F))+V[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~M))+V[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~P))+V[10]+4293915773&4294967295,M=F+(C<<15&4294967295|C>>>17),C=P+(F^(M|~A))+V[1]+2240044497&4294967295,P=M+(C<<21&4294967295|C>>>11),C=A+(M^(P|~F))+V[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~M))+V[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~P))+V[6]+2734768916&4294967295,M=F+(C<<15&4294967295|C>>>17),C=P+(F^(M|~A))+V[13]+1309151649&4294967295,P=M+(C<<21&4294967295|C>>>11),C=A+(M^(P|~F))+V[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~M))+V[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~P))+V[2]+718787259&4294967295,M=F+(C<<15&4294967295|C>>>17),C=P+(F^(M|~A))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+F&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var P=A-this.blockSize,V=this.B,M=this.h,F=0;F<A;){if(M==0)for(;F<=P;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<A;)if(V[M++]=k.charCodeAt(F++),M==this.blockSize){o(this,V),M=0;break}}else for(;F<A;)if(V[M++]=k[F++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var P=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=P&255,P/=256;for(this.u(k),k=Array(16),A=P=0;4>A;++A)for(var V=0;32>V;V+=8)k[P++]=this.g[A]>>>V&255;return k};function l(k,A){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=A(k)}function c(k,A){this.h=A;for(var P=[],V=!0,M=k.length-1;0<=M;M--){var F=k[M]|0;V&&F==A||(P[M]=F,V=!1)}this.g=P}var f={};function p(k){return-128<=k&&128>k?l(k,function(A){return new c([A|0],0>A?-1:0)}):new c([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return E;if(0>k)return N(y(-k));for(var A=[],P=1,V=0;k>=P;V++)A[V]=k/P|0,P*=4294967296;return new c(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return N(v(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(A,8)),V=E,M=0;M<k.length;M+=8){var F=Math.min(8,k.length-M),C=parseInt(k.substring(M,M+F),A);8>F?(F=y(Math.pow(A,F)),V=V.j(F).add(y(C))):(V=V.j(P),V=V.add(y(C)))}return V}var E=p(0),S=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-N(this).m();for(var k=0,A=1,P=0;P<this.g.length;P++){var V=this.i(P);k+=(0<=V?V:4294967296+V)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(O(this))return"-"+N(this).toString(k);for(var A=y(Math.pow(k,6)),P=this,V="";;){var M=ne(P,A).g;P=W(P,M.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=M,L(P))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=W(this,k),O(k)?-1:L(k)?0:1};function N(k){for(var A=k.g.length,P=[],V=0;V<A;V++)P[V]=~k.g[V];return new c(P,~k.h).add(S)}n.abs=function(){return O(this)?N(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],V=0,M=0;M<=A;M++){var F=V+(this.i(M)&65535)+(k.i(M)&65535),C=(F>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);V=C>>>16,F&=65535,C&=65535,P[M]=C<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function W(k,A){return k.add(N(A))}n.j=function(k){if(L(this)||L(k))return E;if(O(this))return O(k)?N(this).j(N(k)):N(N(this).j(k));if(O(k))return N(this.j(N(k)));if(0>this.l(R)&&0>k.l(R))return y(this.m()*k.m());for(var A=this.g.length+k.g.length,P=[],V=0;V<2*A;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<k.g.length;M++){var F=this.i(V)>>>16,C=this.i(V)&65535,Qe=k.i(M)>>>16,Ct=k.i(M)&65535;P[2*V+2*M]+=C*Ct,K(P,2*V+2*M),P[2*V+2*M+1]+=F*Ct,K(P,2*V+2*M+1),P[2*V+2*M+1]+=C*Qe,K(P,2*V+2*M+1),P[2*V+2*M+2]+=F*Qe,K(P,2*V+2*M+2)}for(V=0;V<A;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=A;V<2*A;V++)P[V]=0;return new c(P,0)};function K(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function Q(k,A){this.g=k,this.h=A}function ne(k,A){if(L(A))throw Error("division by zero");if(L(k))return new Q(E,E);if(O(k))return A=ne(N(k),A),new Q(N(A.g),N(A.h));if(O(A))return A=ne(k,N(A)),new Q(N(A.g),A.h);if(30<k.g.length){if(O(k)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var P=S,V=A;0>=V.l(k);)P=re(P),V=re(V);var M=le(P,1),F=le(V,1);for(V=le(V,2),P=le(P,2);!L(V);){var C=F.add(V);0>=C.l(k)&&(M=M.add(P),F=C),V=le(V,1),P=le(P,1)}return A=W(k,M.j(A)),new Q(M,A)}for(M=E;0<=k.l(A);){for(P=Math.max(1,Math.floor(k.m()/A.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=y(P),C=F.j(A);O(C)||0<C.l(k);)P-=V,F=y(P),C=F.j(A);L(F)&&(F=S),M=M.add(F),k=W(k,C)}return new Q(M,k)}n.A=function(k){return ne(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)&k.i(V);return new c(P,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)|k.i(V);return new c(P,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)^k.i(V);return new c(P,this.h^k.h)};function re(k){for(var A=k.g.length+1,P=[],V=0;V<A;V++)P[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(P,k.h)}function le(k,A){var P=A>>5;A%=32;for(var V=k.g.length-P,M=[],F=0;F<V;F++)M[F]=0<A?k.i(F+P)>>>A|k.i(F+P+1)<<32-A:k.i(F+P);return new c(M,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,uE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,yi=c}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cE,Fa,hE,Gu,ld,fE,dE,pE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,T=!1,U={next:function(){if(!T&&_<u.length){var $=_++;return{value:m($,u[$]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function E(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function R(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,U,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return m.prototype[U].apply(T,te)}}function O(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function N(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=u.length||0,$=T.length||0;u.length=U+$;for(let te=0;te<$;te++)u[U+te]=T[te]}else u.push(T)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function le(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let $=0;$<P.length;$++)_=P[$],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){f.setTimeout(()=>{throw u},0)}function C(){var u=de;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Qe{constructor(){this.h=this.g=null}add(m,_){const T=Ct.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Ct=new W(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ee=!1,de=new Qe,ie=()=>{const u=f.Promise.resolve(void 0);Ae=()=>{u.then(b)}};var b=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){F(_)}var m=Ct;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ee=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Pe(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(re){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}L(Pe,pe);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mr(u){this.src=u,this.g={},this.h=0}mr.prototype.add=function(u,m,_,T,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=Br(u,m,T,U);return-1<te?(m=u[te],_||(m.fa=!1)):(m=new $e(m,this.src,$,!!T,U),m.fa=_,u.push(m)),m};function _s(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(T,U,1),$&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,m,_,T){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==T)return U}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),vs={};function Fo(u,m,_,T,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Fo(u,m[$],_,T,U);return null}return _=jo(_),u&&u[Fe]?u.K(m,_,y(T)?!!T.capture:!1,U):Uo(u,m,_,!1,T,U)}function Uo(u,m,_,T,U,$){if(!m)throw Error("Invalid event type");var te=y(U)?!!U.capture:!!U,je=Es(u);if(je||(u[Pi]=je=new mr(u)),_=je.add(m,_,T,te,$),_.proxy)return _;if(T=vl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Re||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(yr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vl(){function u(_){return m.call(u.src,u.listener,_)}const m=Bo;return u}function ws(u,m,_,T,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)ws(u,m[$],_,T,U);else T=y(T)?!!T.capture:!!T,_=jo(_),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],_=Br($,_,T,U),-1<_&&(Tt($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,_,T,U)),(_=-1<u?m[u]:null)&&gr(_))}function gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])_s(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(yr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Es(m))?(_s(_,u),_.h==0&&(_.src=null,m[Pi]=null)):Tt(u)}}}function yr(u){return u in vs?vs[u]:vs[u]="on"+u}function Bo(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&gr(u),u=_.call(T,m)}return u}function Es(u){return u=u[Pi],u instanceof mr?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function pt(){H.call(this),this.i=new mr(this),this.M=this,this.F=null}L(pt,H),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(u,m,_,T){ws(this,u,m,_,T)};function mt(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var U=m;m=new pe(T,u),V(m,U)}if(U=!0,_)for(var $=_.length-1;0<=$;$--){var te=m.g=_[$];U=_r(te,T,!0,m)&&U}if(te=m.g=u,U=_r(te,T,!0,m)&&U,U=_r(te,T,!1,m)&&U,_)for($=0;$<_.length;$++)te=m.g=_[$],U=_r(te,T,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Tt(_[T]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pt.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function _r(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==_){var je=te.listener,gt=te.ha||te.src;te.fa&&_s(u.i,te),U=je.call(gt,T)!==!1&&U}}return U&&!T.defaultPrevented}function zo(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function jr(u){u.g=zo(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ci extends H{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(u){H.call(this),this.h=u,this.g={}}L(xi,H);var $o=[];function Wo(u){le(u.g,function(m,_){this.g.hasOwnProperty(_)&&gr(m)},u),u.g={}}xi.prototype.N=function(){xi.aa.N.call(this),Wo(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=f.JSON.stringify,Ho=f.JSON.parse,Ko=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ki(){}ki.prototype.h=null;function Ss(u){return u.h||(u.h=u.i())}function As(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){pe.call(this,"d")}L(Qn,pe);function Is(){pe.call(this,"c")}L(Is,pe);var Xn={},Go=null;function Vi(){return Go=Go||new pt}Xn.La="serverreachability";function Qo(u){pe.call(this,Xn.La,u)}L(Qo,pe);function vr(u){const m=Vi();mt(m,new Qo(m))}Xn.STAT_EVENT="statevent";function Xo(u,m){pe.call(this,Xn.STAT_EVENT,u),this.stat=m}L(Xo,pe);function at(u){const m=Vi();mt(m,new Xo(m,u))}Xn.Ma="timingevent";function Rs(u,m){pe.call(this,Xn.Ma,u),this.size=m}L(Rs,pe);function Dn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function Ni(u,m,_,T,U,$){u.info(function(){if(u.g)if($)for(var te="",je=$.split("&"),gt=0;gt<je.length;gt++){var Ne=je[gt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var ht=St.split("_");te=2<=ht.length&&ht[1]=="type"?te+(St+"="+Ne+"&"):te+(St+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+te})}function Ps(u,m,_,T,U,$,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+$+" "+te})}function Nn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fc(u,_)+(T?" "+T:"")})}function Yo(u,m){u.info(function(){return"TIMEOUT: "+m})}Di.prototype.info=function(){};function Fc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return qo(_)}catch{return m}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Mi(){}L(Mi,ki),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},Mn=new Mi;function Ln(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new El}function El(){this.i=null,this.g="",this.h=!1}var Jo={},xs={};function ks(u,m,_){u.L=1,u.v=Hr(cn(m)),u.m=_,u.P=!0,Zo(u,null)}function Zo(u,m){u.F=Date.now(),We(u),u.A=cn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gr(_.i,"t",T),u.C=0,_=u.j.J,u.h=new El,u.g=Ul(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Ci(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($o[0]=U.toString()),U=$o);for(var $=0;$<U.length;$++){var te=Fo(_,U[$],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vr(),Ni(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const ht=en(this.g);var m=this.g.Ba();const En=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||sa(this.g)))){this.J||ht!=4||m==7||(m==8||0>=En?vr(3):vr(2)),Li(this);var _=this.g.Z();this.X=_;t:if(Tl(this)){var T=sa(this.g);u="";var U=T.length,$=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),zr(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!($&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Ps(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,gt=this.g;if((je=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(je)){var Ne=je;break t}}Ne=null}if(_=Ne)Nn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,at(12),vn(this),zr(this);break e}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<te.length;)if(fn=Uc(this,te),fn==xs){ht==4&&(this.s=4,at(14),_=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Jo){this.s=4,at(15),Nn(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else Nn(this.i,this.l,fn,null),ea(this,fn);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||te.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Nn(this.i,this.l,te,"[Invalid Chunked Response]"),vn(this),zr(this);else if(0<te.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),aa(St),St.M=!0,at(11))}}else Nn(this.i,this.l,te,null),ea(this,te);ht==4&&vn(this),this.o&&!this.J&&(ht==4?js(this.j,this):(this.o=!1,We(this)))}else Os(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),vn(this),zr(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Uc(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?xs:(_=Number(m.substring(_,T)),isNaN(_)?Jo:(T+=1,T+_>m.length?xs:(m=m.slice(T,T+_),u.C=T+_,m)))}Ln.prototype.cancel=function(){this.J=!0,vn(this)};function We(u){u.S=Date.now()+u.I,Sl(u,u.I)}function Sl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dn(S(u.ba,u),m)}function Li(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yo(this.i,this.A),this.L!=2&&(vr(),at(17)),vn(this),this.s=2,zr(this)):Sl(this,this.S-u)};function zr(u){u.j.G==0||u.J||js(u.j,u)}function vn(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Bs(_),Bn(_);else break e;Us(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dn(S(_.Za,_),6e3));if(1>=Il(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ar(_,11)}else if((u.K||_.g==u)&&Bs(_),!K(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const St=Ne[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const ht=Ne[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const En=Ne[5];En!=null&&typeof En=="number"&&0<En&&(T=1.5*En,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const fn=u.g;if(fn){const zi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var $=T.h;$.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ta($,$.h),$.h=null))}if(T.D){const $s=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,ze(T.I,T.D,$s))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var te=u;if(T.qa=Fl(T,T.J?T.ia:null,T.W),te.K){Rl(T.h,te);var je=te,gt=T.L;gt&&(je.I=gt),je.B&&(Li(je),We(je)),T.g=te}else ji(T);0<_.i.length&&er(_)}else Ne[0]!="stop"&&Ne[0]!="close"||Ar(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ar(_,7):Vt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}vr(4)}catch{}}var Al=class{constructor(u,m){this.g=u,this.map=m}};function Oi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Il(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ta(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return O(u.i)}function Vs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Ds(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ds(u),T=Vs(u),U=T.length,$=0;$<U;$++)m.call(void 0,T[$],_&&_[$],u)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),U=null;if(0<=T){var $=u[_].substring(0,T);U=u[_].substring(T+1)}else $=u[_];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wr){this.h=u.h,Fi(this,u.j),this.o=u.o,this.g=u.g,Wr(this,u.s),this.l=u.l;var m=u.i,_=new Yn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),qr(this,_),this.m=u.m}else u&&(m=String(u).match(bi))?(this.h=!1,Fi(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),Wr(this,m[4]),this.l=ke(m[5]||"",!0),qr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}wr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Kr(m,Ns,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Kr(m,Ns,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Kr(_,_.charAt(0)=="/"?kl:xl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Kr(_,na)),u.join("")};function cn(u){return new wr(u)}function Fi(u,m,_){u.j=_?ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qr(u,m,_){m instanceof Yn?(u.i=m,Jn(u.i,u.h)):(_||(m=Kr(m,Vl)),u.i=new Yn(m,u.h))}function ze(u,m,_){u.i.set(m,_)}function Hr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Cl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ns=/[#\/\?@]/g,xl=/[#\?:]/g,kl=/[#\?]/g,Vl=/[#\?@]/g,na=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Yn.prototype,n.add=function(u,m){kt(this),this.i=null,u=wn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function On(u,m){kt(u),m=wn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bn(u,m){return kt(u),m=wn(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const U=u[T];for(let $=0;$<U.length;$++)_.push(m[T])}return _},n.V=function(u){kt(this);let m=[];if(typeof u=="string")bn(this,u)&&(m=m.concat(this.g.get(wn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return kt(this),this.i=null,u=wn(this,u),bn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gr(u,m,_){On(u,m),0<_.length&&(u.i=null,u.g.set(wn(u,m),O(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const $=encodeURIComponent(String(T)),te=this.V(T);for(T=0;T<te.length;T++){var U=$;te[T]!==""&&(U+="="+encodeURIComponent(String(te[T]))),u.push(U)}}return this.i=u.join("&")};function wn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jn(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(On(this,T),Gr(this,U,_))},u)),u.j=m}function jc(u,m){const _=new Di;if(f.Image){const T=new Image;T.onload=R(Zt,_,"TestLoadImage: loaded",!0,m,T),T.onerror=R(Zt,_,"TestLoadImage: error",!1,m,T),T.onabort=R(Zt,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=R(Zt,_,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dl(u,m){const _=new Di,T=new AbortController,U=setTimeout(()=>{T.abort(),Zt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(U),$.ok?Zt(_,"TestPingServer: ok",!0,m):Zt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,m)})}function Zt(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function zc(){this.g=new Ko}function Nl(u,m,_){const T=_||"";try{$r(u,function(U,$){let te=U;y(U)&&(te=qo(U)),m.push(T+$+"="+encodeURIComponent(te))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Er(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Er,ki),Er.prototype.g=function(){return new Ui(this.l,this.j)},Er.prototype.i=function(u){return function(){return u}}({});function Ui(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ui,pt),n=Ui.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Un(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Un(this),this.readyState==3&&Ml(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tr(u){let m="";return le(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Qr(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Tr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ze(u,m,_))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Xe,pt);var $c=/^https?$/i,ra=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Ss(this.o):Ss(Mn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Bi(this,$);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())_.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ra,m,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of _)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Bi(this,$)}};function Bi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ms(u),hn(u)}function Ms(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},n.bb=function(){ia(this)};function ia(u){if(u.h&&typeof c<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)zo(u.Ea,0,u);else if(mt(u,"readystatechange"),en(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=te===0){var U=String(u.D).match(bi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),T=!$c.test(U?U.toLowerCase():"")}_=T}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var $=2<en(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ms(u)}}finally{hn(u)}}}}function hn(u,m){if(u.g){Ls(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=T}catch{}}}function Ls(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ho(m)}};function sa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(K(u[T]))continue;var _=M(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[U]||[];m[U]=$,$.push(_)}k(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function oa(u){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,u),this.cb=Zn("retryDelaySeedMs",1e4,u),this.Wa=Zn("forwardChannelMaxRetries",2,u),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(u&&u.concurrentRequestLimit),this.Da=new zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,T){at(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Fl(this,null,this.W),er(this)};function Vt(u){if(bs(u),u.G==3){var m=u.U++,_=cn(u.I);if(ze(_,"SID",u.K),ze(_,"RID",m),ze(_,"TYPE","terminate"),Sr(u,_),m=new Ln(u,u.j,m),m.L=2,m.v=Hr(cn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ul(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}bl(u)}function Bn(u){u.g&&(aa(u),u.g.cancel(),u.g=null)}function bs(u){Bn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Bs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function er(u){if(!un(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||ie(),ee||(Ae(),ee=!0),de.add(m,u),u.B=0}}function Wc(u,m){return Il(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dn(S(u.Ga,u,m),Ol(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ln(this,this.j,u);let $=this.o;if(this.S&&($?($=A($),V($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Xr(this,U,m),_=cn(this.I),ze(_,"RID",u),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Sr(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(Tr($)))+"&"+m:this.m&&Qr(_,this.m,$)),ta(this.h,U),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",m),ze(_,"SID","null"),U.T=!0,ks(U,_,null)):ks(U,_,m),this.G=2}}else this.G==3&&(u?Fs(this,u):this.i.length==0||un(this.h)||Fs(this))};function Fs(u,m){var _;m?_=m.l:_=u.U++;const T=cn(u.I);ze(T,"SID",u.K),ze(T,"RID",_),ze(T,"AID",u.T),Sr(u,T),u.m&&u.o&&Qr(T,u.m,u.o),_=new Ln(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ta(u.h,_),ks(_,T,m)}function Sr(u,m){u.H&&le(u.H,function(_,T){ze(m,T,_)}),u.l&&$r({},function(_,T){ze(m,T,_)})}function Xr(u,m,_){_=Math.min(u.i.length,_);var T=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const te=["count="+_];$==-1?0<_?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let gt=0;gt<_;gt++){let Ne=U[gt].g;const St=U[gt].map;if(Ne-=$,0>Ne)$=Math.max(0,U[gt].g-100),je=!1;else try{Nl(St,te,"req"+Ne+"_")}catch{T&&T(St)}}if(je){T=te.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,T}function ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||ie(),ee||(Ae(),ee=!0),de.add(m,u),u.v=0}}function Us(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dn(S(u.Fa,u),Ol(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Bn(this),Ll(this))};function aa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),Sr(u,m),u.m&&u.o&&Qr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hr(cn(m)),_.m=null,_.P=!0,Zo(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),Us(this),at(19))};function Bs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function js(u,m){var _=null;if(u.g==m){Bs(u),aa(u),u.g=null;var T=2}else if(Kt(u.h,m))_=m.D,Rl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Vi(),mt(T,new Rs(T,_)),er(u)}else ji(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Wc(u,m)||T==2&&Us(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ar(u,5);break;case 4:Ar(u,10);break;case 3:Ar(u,6);break;default:Ar(u,2)}}}function Ol(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ar(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),T=u.Xa;const U=!T;T=new wr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fi(T,"https"),Hr(T),U?jc(T.toString(),_):Dl(T.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(m),bl(u),bs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function bl(u){if(u.G=0,u.ka=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function Fl(u,m,_){var T=_ instanceof wr?cn(_):new wr(_);if(T.g!="")m&&(T.g=m+"."+T.g),Wr(T,T.s);else{var U=f.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new wr(null);T&&Fi($,T),m&&($.g=m),U&&Wr($,U),_&&($.l=_),T=$}return _=u.D,m=u.ya,_&&m&&ze(T,_,m),ze(T,"VER",u.la),Sr(u,T),T}function Ul(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new Er({eb:_})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function la(){}n=la.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zs(){}zs.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){pt.call(this),this.g=new oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new tr(this)}L(Gt,pt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=qo(u),u=_);m.i.push(new Al(m.Ya++,u)),m.G==3&&er(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Gt.aa.N.call(this)};function Bl(u){Qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Bl,Qn);function jl(){Is.call(this),this.status=1}L(jl,Is);function tr(u){this.g=u}L(tr,la),tr.prototype.ua=function(){mt(this.g,"a")},tr.prototype.ta=function(u){mt(this.g,new Bl(u))},tr.prototype.sa=function(u){mt(this.g,new jl)},tr.prototype.ra=function(){mt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,pE=function(){return new zs},dE=function(){return Vi()},fE=Xn,ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Gu=Cs,wl.COMPLETE="complete",hE=wl,As.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Fa=As,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,cE=Xe}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new eE("@firebase/firestore");function co(){return cs.logLevel}function oe(n,...e){if(cs.logLevel<=Le.DEBUG){const t=e.map(sp);cs.debug(`Firestore (${Mo}): ${n}`,...t)}}function Fr(n,...e){if(cs.logLevel<=Le.ERROR){const t=e.map(sp);cs.error(`Firestore (${Mo}): ${n}`,...t)}}function Io(n,...e){if(cs.logLevel<=Le.WARN){const t=e.map(sp);cs.warn(`Firestore (${Mo}): ${n}`,...t)}}function sp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Be(n,e){n||Te()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ds{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class fC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ls,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ls)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new mE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Wt(e)}}class pC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new pC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new gC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=_C(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function Ro(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=or.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=or.isNumericId(e),o=or.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?or.extractNumericId(e).compare(or.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Je extends or{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const vC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends or{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return vC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}function wC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Ei(o,ve.empty(),e)}function EC(n){return new Ei(n.readTime,n.key,-1)}class Ei{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ei(Se.min(),ve.empty(),-1)}static max(){return new Ei(Se.max(),ve.empty(),-1)}}function TC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==SC)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,i)=>{t(e)})}static reject(e){return new q((t,i)=>{i(e)})}static waitFor(e){return new q((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=q.resolve(!1);for(const i of e)t=t.next(o=>o?q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new q((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function IC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ac.oe=-1;function Ic(n){return n==null}function lc(n){return n===0&&1/n==-1/0}function RC(n){return typeof n=="number"&&Number.isInteger(n)&&!lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I_(e)),e=CC(n.get(t),e);return I_(e)}function CC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function I_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Et(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _E("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(n){if(Be(!!n),typeof n=="string"){let e=0;const t=xC.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rc(n){const e=n.mapValue.fields.__previous_value__;return op(e)?Rc(e):e}function ol(n){const e=Ti(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t,i,o,l,c,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?op(n)?4:DC(n)?9007199254740991:VC(n)?10:11:Te()}function dr(n,e){if(n===e)return!0;const t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ti(o.timestampValue),f=Ti(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ct(o.doubleValue),f=ct(l.doubleValue);return c===f?lc(c)===lc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Ro(n.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(R_(c)!==R_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!dr(c[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function ll(n,e){return(n.values||[]).find(t=>dr(t,e))!==void 0}function Po(n,e){if(n===e)return 0;const t=Ai(n),i=Ai(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ct(l.integerValue||l.doubleValue),p=ct(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return C_(n.timestampValue,e.timestampValue);case 4:return C_(ol(n),ol(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Si(l),p=Si(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=Ve(f[y],p[y]);if(v!==0)return v}return Ve(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ve(ct(l.latitude),ct(c.latitude));return f!==0?f:Ve(ct(l.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return x_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,y,v;const E=l.fields||{},S=c.fields||{},R=(f=E.value)===null||f===void 0?void 0:f.arrayValue,L=(p=S.value)===null||p===void 0?void 0:p.arrayValue,O=Ve(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:x_(R,L)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Bu.mapValue&&c===Bu.mapValue)return 0;if(l===Bu.mapValue)return 1;if(c===Bu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Ve(p[E],v[E]);if(S!==0)return S;const R=Po(f[p[E]],y[v[E]]);if(R!==0)return R}return Ve(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function C_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ti(n),i=Ti(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function x_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Po(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function Co(n){return ud(n)}function ud(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ti(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ud(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${ud(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function Qu(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(n);return e?16+Qu(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Qu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ps(i.fields,(l,c)=>{o+=l.length+Qu(c)}),o}(n.mapValue);default:throw Te()}}function cd(n){return!!n&&"integerValue"in n}function ap(n){return!!n&&"arrayValue"in n}function k_(n){return!!n&&"nullValue"in n}function V_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function VC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ha(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ps(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ha(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Ha(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ps(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new kn(Ha(this.value))}}function vE(n){const e=[];return ps(n.fields,(t,i)=>{const o=new Ot([t]);if(Xu(i)){const l=vE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Se.min(),Se.min(),Se.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Se.min(),Se.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Se.min(),Se.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.position=e,this.inclusive=t}}function D_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Po(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function N_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class vt extends wE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LC(e,t,i):t==="array-contains"?new FC(e,i):t==="in"?new UC(e,i):t==="not-in"?new BC(e,i):t==="array-contains-any"?new jC(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OC(e,i):new bC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Po(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends wE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new pr(e,t)}matches(e){return EE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EE(n){return n.op==="and"}function TE(n){return MC(n)&&EE(n)}function MC(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function hd(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Co(n.value);if(TE(n))return n.filters.map(e=>hd(e)).join(",");{const e=n.filters.map(t=>hd(t)).join(",");return`${n.op}(${e})`}}function SE(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&dr(i.value,o.value)}(n,e):n instanceof pr?function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&SE(c,o.filters[f]),!0):!1}(n,e):void Te()}function AE(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(AE).join(" ,")+"}"}(n):"Filter"}class LC extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class OC extends vt{constructor(e,t){super(e,"in",t),this.keys=IE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bC extends vt{constructor(e,t){super(e,"not-in",t),this.keys=IE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class FC extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ap(t)&&ll(t.arrayValue,this.value)}}class UC extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ll(this.value.arrayValue,t)}}class BC extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ll(this.value.arrayValue,t)}}class jC extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ap(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function M_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new zC(n,e,t,i,o,l,c)}function lp(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ic(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Co(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Co(i)).join(",")),e.ue=t}return e.ue}function up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N_(n.startAt,e.startAt)&&N_(n.endAt,e.endAt)}function fd(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $C(n,e,t,i,o,l,c,f){return new Pc(n,e,t,i,o,l,c,f)}function cp(n){return new Pc(n)}function L_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WC(n){return n.collectionGroup!==null}function Ka(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Et(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new cc(l,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new cc(Ot.keyField(),i))}return e.ce}function cr(n){const e=Ie(n);return e.le||(e.le=qC(e,Ka(n))),e.le}function qC(n,e){if(n.limitType==="F")return M_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new cc(o.field,l)});const t=n.endAt?new uc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new uc(n.startAt.position,n.startAt.inclusive):null;return M_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dd(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cc(n,e){return up(cr(n),cr(e))&&n.limitType===e.limitType}function RE(n){return`${lp(cr(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>AE(o)).join(", ")}]`),Ic(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${i})`}(cr(n))}; limitType=${n.limitType})`}function xc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ka(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const y=D_(c,f,p);return c.inclusive?y<=0:y<0}(i.startAt,Ka(i),o)||i.endAt&&!function(c,f,p){const y=D_(c,f,p);return c.inclusive?y>=0:y>0}(i.endAt,Ka(i),o))}(n,e)}function HC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PE(n){return(e,t)=>{let i=!1;for(const o of Ka(n)){const l=KC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function KC(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Po(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new nt(ve.comparator);function Ur(){return GC}const CE=new nt(ve.comparator);function Ua(...n){let e=CE;for(const t of n)e=e.insert(t.key,t);return e}function xE(n){let e=CE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function os(){return Ga()}function kE(){return Ga()}function Ga(){return new ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const QC=new nt(ve.comparator),XC=new Et(ve.comparator);function xe(...n){let e=XC;for(const t of n)e=e.add(t);return e}const YC=new Et(Ve);function JC(){return YC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function VE(n){return{integerValue:""+n}}function ZC(n,e){return RC(e)?VE(e):hp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function ex(n,e,t){return n instanceof hc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&op(l)&&(l=Rc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof ul?NE(n,e):n instanceof cl?ME(n,e):function(o,l){const c=DE(o,l),f=O_(c)+O_(o.Pe);return cd(c)&&cd(o.Pe)?VE(f):hp(o.serializer,f)}(n,e)}function tx(n,e,t){return n instanceof ul?NE(n,e):n instanceof cl?ME(n,e):t}function DE(n,e){return n instanceof fc?function(i){return cd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class hc extends kc{}class ul extends kc{constructor(e){super(),this.elements=e}}function NE(n,e){const t=LE(e);for(const i of n.elements)t.some(o=>dr(o,i))||t.push(i);return{arrayValue:{values:t}}}class cl extends kc{constructor(e){super(),this.elements=e}}function ME(n,e){let t=LE(e);for(const i of n.elements)t=t.filter(o=>!dr(o,i));return{arrayValue:{values:t}}}class fc extends kc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function O_(n){return ct(n.integerValue||n.doubleValue)}function LE(n){return ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ul&&o instanceof ul||i instanceof cl&&o instanceof cl?Ro(i.elements,o.elements,dr):i instanceof fc&&o instanceof fc?dr(i.Pe,o.Pe):i instanceof hc&&o instanceof hc}(n.transform,e.transform)}class rx{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vc{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new FE(n.key,Lr.none()):new ml(n.key,n.data,Lr.none());{const t=n.data,i=kn.empty();let o=new Et(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new gs(n.key,i,new Gn(o.toArray()),Lr.none())}}function ix(n,e,t){n instanceof ml?function(o,l,c){const f=o.value.clone(),p=F_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof gs?function(o,l,c){if(!Yu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=F_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(bE(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Qa(n,e,t,i){return n instanceof ml?function(l,c,f,p){if(!Yu(l.precondition,c))return f;const y=l.value.clone(),v=U_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof gs?function(l,c,f,p){if(!Yu(l.precondition,c))return f;const y=U_(l.fieldTransforms,p,c),v=c.data;return v.setAll(bE(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,f){return Yu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function sx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=DE(i.transform,o||null);l!=null&&(t===null&&(t=kn.empty()),t.set(i.field,l))}return t||null}function b_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ro(i,o,(l,c)=>nx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ml extends Vc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends Vc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function F_(n,e,t){const i=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,tx(c,f,t[o]))}return i}function U_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,ex(l,c,e))}return i}class FE extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ix(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=kE();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=OE(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,i)=>b_(t,i))&&Ro(this.baseMutations,e.baseMutations,(t,i)=>b_(t,i))}}class fp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length);let o=function(){return QC}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new fp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function cx(n){switch(n){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function UE(n){if(n===void 0)return Fr("GRPC error has no .code"),J.UNKNOWN;switch(n){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new yi([4294967295,4294967295],0);function B_(n){const e=hx().encode(n),t=new uE;return t.update(e),new Uint8Array(t.digest())}function j_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yi([t,i],0),new yi([o,l],0)]}class dp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ba(`Invalid padding: ${t}`);if(i<0)throw new Ba(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=yi.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(yi.fromNumber(i)));return o.compare(fx)===1&&(o=new yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=B_(e),[i,o]=j_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new dp(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=B_(e),[i,o]=j_(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dc(Se.min(),o,new nt(Ve),Ur(),xe())}}class gl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gl(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class BE{constructor(e,t){this.targetId=e,this.me=t}}class jE{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class z_{constructor(){this.fe=0,this.ge=$_(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new gl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=$_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dx{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ur(),this.qe=ju(),this.Qe=ju(),this.Ke=new nt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(fd(l))if(i===0){const c=new ve(l.path);this.We(t,c,qt.newNoDocument(c,Se.min()))}else Be(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),p=f?this.et(f,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Si(i).toUint8Array()}catch(p){if(p instanceof _E)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new dp(c,o,l)}catch(p){return Io(p instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Be.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&fd(f.target)){const p=new ve(f.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,qt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Dc(e,t,this.Ke,this.ke,i);return this.ke=Ur(),this.qe=ju(),this.Qe=ju(),this.Ke=new nt(Ve),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new z_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new z_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function ju(){return new nt(ve.comparator)}function $_(){return new nt(ve.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gx={and:"AND",or:"OR"};class yx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pd(n,e){return n.useProto3Json||Ic(e)?e:{value:e}}function dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _x(n,e){return dc(n,e.toTimestamp())}function hr(n){return Be(!!n),Se.fromTimestamp(function(t){const i=Ti(t);return new wt(i.seconds,i.nanos)}(n))}function pp(n,e){return md(n,e).canonicalString()}function md(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $E(n){const e=Je.fromString(n);return Be(GE(e)),e}function gd(n,e){return pp(n.databaseId,e.path)}function Df(n,e){const t=$E(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(qE(t))}function WE(n,e){return pp(n.databaseId,e)}function vx(n){const e=$E(n);return e.length===4?Je.emptyPath():qE(e)}function yd(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qE(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function W_(n,e,t){return{name:gd(n,e),fields:t.value.mapValue.fields}}function wx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(Be(v===void 0||typeof v=="string"),bt.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array),bt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const v=y.code===void 0?J.UNKNOWN:UE(y.code);return new ge(v,y.message||"")}(c);t=new jE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Df(n,i.document.name),l=hr(i.document.updateTime),c=i.document.createTime?hr(i.document.createTime):Se.min(),f=new kn({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,l,c,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Ju(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Df(n,i.document),l=i.readTime?hr(i.readTime):Se.min(),c=qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Ju([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Df(n,i.document),l=i.removedTargetIds||[];t=new Ju([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new ux(o,l),f=i.targetId;t=new BE(f,c)}}return t}function Ex(n,e){let t;if(e instanceof ml)t={update:W_(n,e.key,e.value)};else if(e instanceof FE)t={delete:gd(n,e.key)};else if(e instanceof gs)t={update:W_(n,e.key,e.data),updateMask:kx(e.fieldMask)};else{if(!(e instanceof ox))return Te();t={verify:gd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof hc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:_x(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function Tx(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?hr(o.updateTime):hr(l);return c.isEqual(Se.min())&&(c=hr(l)),new rx(c,o.transformResults||[])}(t,e))):[]}function Sx(n,e){return{documents:[WE(n,e.path)]}}function Ax(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=WE(n,o);const l=function(y){if(y.length!==0)return KE(pr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(S){return{field:fo(S.field),direction:Px(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=pd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function Ix(n){let e=vx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const S=HE(E);return S instanceof pr&&TE(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(S=>function(L){return new cc(po(L.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(E){let S;return S=typeof E=="object"?E.value:E,Ic(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(E){const S=!!E.before,R=E.values||[];return new uc(R,S)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const S=!E.before,R=E.values||[];return new uc(R,S)}(t.endAt)),$C(e,o,c,l,f,"F",p,y)}function Rx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=po(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=po(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=po(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(i=>HE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function Px(n){return px[n]}function Cx(n){return mx[n]}function xx(n){return gx[n]}function fo(n){return{fieldPath:n.canonicalString()}}function po(n){return Ot.fromServerFormat(n.fieldPath)}function KE(n){return n instanceof vt?function(t){if(t.op==="=="){if(V_(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(k_(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V_(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(k_(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:Cx(t.op),value:t.value}}}(n):n instanceof pr?function(t){const i=t.getFilters().map(o=>KE(o));return i.length===1?i[0]:{compositeFilter:{op:xx(t.op),filters:i}}}(n):Te()}function kx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.ht=e}}function Dx(n){const e=Ix({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.ln=new Mx}addToCollectionParentIndex(e,t){return this.ln.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Ei.min())}updateCollectionGroup(e,t,i){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class Mx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new xo(0)}static Qn(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class Lx{constructor(e){this.Gn=e,this.buffer=new Et(H_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();H_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oo(t)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Yn(3e5)})}}class bx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return q.resolve(Ac.oe);const i=new Lx(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(q_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),co()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E})))}}function Fx(n,e){return new bx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.changes=new ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Qa(i.mutation,o,Gn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Ua();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=Ur();const c=Ga(),f=function(){return Ga()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof gs)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Qa(v.mutation,y,v.mutation.getFieldMask(),wt.now())):c.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var E;return f.set(y,new Bx(v,(E=c.get(y))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ga();let o=new nt((c,f)=>c-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Gn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const E=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,E)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,E=kE();v.forEach(S=>{if(!l.has(S)){const R=OE(t.get(S),i.get(S));R!==null&&E.set(S,R),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):q.resolve(os());let f=-1,p=l;return c.next(y=>q.forEach(y,(v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(v=>({batchId:f,changes:xE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=Ua();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ua();return this.indexManager.getCollectionParents(e,l).next(f=>q.forEach(f,p=>{const y=function(E,S){return new Pc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,qt.newInvalidDocument(v)))});let f=Ua();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&Qa(v.mutation,y,Gn.empty(),wt.now()),xc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Dx(o.bundledQuery),readTime:hr(o.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.overlays=new nt(ve.comparator),this.dr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=os();return q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),q.resolve()}getOverlaysForCollection(e,t,i){const o=os(),l=t.length+1,c=new ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=os(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=os(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=o)););return q.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lx(t,i));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Er=new Et(Pt.Ar),this.Rr=new Et(Pt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Pt.Ar)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ax(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return q.resolve(c)}lookupMutationBatch(e,t){return q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);l.push(f)}),q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Ve);return t.forEach(o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{i=i.add(f.br)})}),q.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new ve(l),0);let f=new Et(Ve);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},c),q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return q.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.Nr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return q.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ur();const c=t.path,f=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||TC(EC(v),i)<=0||(o.has(v.key)||xc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Br(e,t){return q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Kx(this)}getSize(e){return q.resolve(this.size)}}class Kx extends Ux{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.persistence=e,this.Lr=new ms(t=>lp(t),up),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new mp,this.targetCount=0,this.Qr=xo.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),q.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Un(t),q.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),q.waitFor(l).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return q.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),q.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return q.resolve(i)}containsKey(e,t){return q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ac(0),this.Ur=!1,this.Ur=!0,this.Wr=new Wx,this.referenceDelegate=e(this),this.Gr=new Gx(this),this.indexManager=new Nx,this.remoteDocumentCache=function(o){return new Hx(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Vx(t),this.jr=new zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $x,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new qx(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new Qx(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return q.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Qx extends AC{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Zr=new mp,this.Xr=null}static ei(e){return new gp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),q.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return q.or([()=>q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class pc{constructor(e,t){this.persistence=e,this.ri=new ms(i=>PC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Fx(this,t)}static ei(e,t){return new pc(e,t)}Hr(){}Jr(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return q.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),q.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qu(e.data.value)),t}ir(e,t,i){return q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new yp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return X1()?8:IC(G1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Xx;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(co()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),q.resolve()):(co()<=Le.DEBUG&&oe("QueryEngine","Query:",ho(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(co()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):q.resolve())}Xi(e,t){if(L_(t))return q.resolve(null);let i=cr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dd(t,null,"F"),i=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=xe(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,c,p.readTime)?this.Xi(e,dd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return L_(t)||o.isEqual(Se.min())?q.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?q.resolve(null):(co()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.os(e,c,t,wC(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(PE(e));return t.forEach((o,l)=>{xc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return co()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ho(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ei.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ve),this.cs=new ms(l=>lp(l),up),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Zx(n,e,t,i){return new Jx(n,e,t,i)}async function XE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=xe();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function ek(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const E=y.batch,S=E.keys();let R=q.resolve();return S.forEach(L=>{R=R.next(()=>v.getEntry(p,L)).next(O=>{const N=y.docVersions.get(L);Be(N!==null),O.version.compareTo(N)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),v.addEntry(O)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function YE(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function tk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;f.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,E)));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),o=o.insert(E,R),function(O,N,W){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(S,R,v)&&f.push(t.Gr.updateTargetData(l,R))});let p=Ur(),y=xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(nk(l,c,e.documentUpdates).next(v=>{p=v.Is,y=v.ds})),!i.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(E=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return q.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function nk(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ur();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:c,ds:o}})}function rk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ik(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,q.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function _d(n,e,t){const i=Ie(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Oo(c))throw c;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function K_(n,e,t){const i=Ie(n);let o=Se.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const E=Ie(p),S=E.cs.get(v);return S!==void 0?q.resolve(E.us.get(S)):E.Gr.getTargetData(y,v)}(i,c,cr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:xe())).next(f=>(sk(i,HC(e),f),{documents:f,Es:l})))}function sk(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class G_{constructor(){this.activeTargetIds=JC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ok{constructor(){this._o=new G_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new G_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Nf(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class ck extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const f=Nf(),p=this.No(t,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,c),this.Lo(t,p,y,o).then(v=>(oe("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Io("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,f){return this.Oo(t,i,o,l,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=lk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=Nf();return new Promise((c,f)=>{const p=new cE;p.setWithCredentials(!0),p.listenOnce(hE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gu.NO_ERROR:const v=p.getResponseJson();oe(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Gu.TIMEOUT:oe(zt,`RPC '${e}' ${l} timed out`),f(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const E=p.getStatus();if(oe(zt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const L=function(N){const W=N.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(R.status);f(new ge(L,R.message))}else f(new ge(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(zt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);oe(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Nf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=pE(),f=dE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");oe(zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);let S=!1,R=!1;const L=new uk({Eo:N=>{R?oe(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(S||(oe(zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),oe(zt,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Ao:()=>E.close()}),O=(N,W,K)=>{N.listen(W,Q=>{try{K(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return O(E,Fa.EventType.OPEN,()=>{R||(oe(zt,`RPC '${e}' stream ${o} transport opened.`),L.So())}),O(E,Fa.EventType.CLOSE,()=>{R||(R=!0,oe(zt,`RPC '${e}' stream ${o} transport closed`),L.Do())}),O(E,Fa.EventType.ERROR,N=>{R||(R=!0,Io(zt,`RPC '${e}' stream ${o} transport errored:`,N),L.Do(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),O(E,Fa.EventType.MESSAGE,N=>{var W;if(!R){const K=N.data[0];Be(!!K);const Q=K,ne=(Q==null?void 0:Q.error)||((W=Q[0])===null||W===void 0?void 0:W.error);if(ne){oe(zt,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let le=function(P){const V=dt[P];if(V!==void 0)return UE(V)}(re),k=ne.message;le===void 0&&(le=J.INTERNAL,k="Unknown error status: "+re+" with message "+ne.message),R=!0,L.Do(new ge(le,k)),E.close()}else oe(zt,`RPC '${e}' stream ${o} received:`,K),L.vo(K)}}),O(f,fE.STAT_EVENT,N=>{N.stat===ld.PROXY?oe(zt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===ld.NOPROXY&&oe(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){return new yx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,i,o,l,c,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new JE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ge(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hk extends ZE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=wx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?hr(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=yd(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=fd(p)?{documents:Sx(l,p)}:{query:Ax(l,p).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=zE(l,c.resumeToken);const y=pd(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=dc(l,c.snapshotVersion.toTimestamp());const y=pd(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=Rx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=yd(this.serializer),t.removeTarget=e,this.c_(t)}}class fk extends ZE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Tx(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=yd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ex(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,md(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(J.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,md(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(t),this.C_=!1):oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{ys(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.k_.add(4),await yl(y),y.K_.set("Unknown"),y.k_.delete(4),await Mc(y)}(this))})}),this.K_=new pk(i,o)}}async function Mc(n){if(ys(n))for(const e of n.q_)await e(!0)}async function yl(n){for(const e of n.q_)await e(!1)}function eT(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Ep(t)?wp(t):bo(t).s_()&&vp(t,e))}function _p(n,e){const t=Ie(n),i=bo(t);t.L_.delete(e),i.s_()&&tT(t,e),t.L_.size===0&&(i.s_()?i.a_():ys(t)&&t.K_.set("Unknown"))}function vp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bo(n).V_(e)}function tT(n,e){n.U_.xe(e),bo(n).m_(e)}function wp(n){n.U_=new dx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),bo(n).start(),n.K_.F_()}function Ep(n){return ys(n)&&!bo(n).i_()&&n.L_.size>0}function ys(n){return Ie(n).k_.size===0}function nT(n){n.U_=void 0}async function gk(n){n.K_.set("Online")}async function yk(n){n.L_.forEach((e,t)=>{vp(n,e)})}async function _k(n,e){nT(n),Ep(n)?(n.K_.O_(e),wp(n)):n.K_.set("Unknown")}async function vk(n,e,t){if(n.K_.set("Online"),e instanceof jE&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await mc(n,i)}else if(e instanceof Ju?n.U_.$e(e):e instanceof BE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await YE(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.L_.get(y);v&&l.L_.set(y,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const v=l.L_.get(p);if(!v)return;l.L_.set(p,v.withResumeToken(bt.EMPTY_BYTE_STRING,v.snapshotVersion)),tT(l,p);const E=new di(v.target,p,y,v.sequenceNumber);vp(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await mc(n,i)}}async function mc(n,e,t){if(!Oo(e))throw e;n.k_.add(1),await yl(n),n.K_.set("Offline"),t||(t=()=>YE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Mc(n)})}function rT(n,e){return e().catch(t=>mc(n,t,e))}async function Lc(n){const e=Ie(n),t=Ii(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;wk(e);)try{const o=await rk(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,Ek(e,o)}catch(o){await mc(e,o)}iT(e)&&sT(e)}function wk(n){return ys(n)&&n.B_.length<10}function Ek(n,e){n.B_.push(e);const t=Ii(n);t.s_()&&t.f_&&t.g_(e.mutations)}function iT(n){return ys(n)&&!Ii(n).i_()&&n.B_.length>0}function sT(n){Ii(n).start()}async function Tk(n){Ii(n).w_()}async function Sk(n){const e=Ii(n);for(const t of n.B_)e.g_(t.mutations)}async function Ak(n,e,t){const i=n.B_.shift(),o=fp.from(i,e,t);await rT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Lc(n)}async function Ik(n,e){e&&Ii(n).f_&&await async function(i,o){if(function(c){return cx(c)&&c!==J.ABORTED}(o.code)){const l=i.B_.shift();Ii(i).__(),await rT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Lc(i)}}(n,e),iT(n)&&sT(n)}async function X_(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=ys(t);t.k_.add(3),await yl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Mc(t)}async function Rk(n,e){const t=Ie(n);e?(t.k_.delete(2),await Mc(t)):e||(t.k_.add(2),await yl(t),t.K_.set("Unknown"))}function bo(n){return n.W_||(n.W_=function(t,i,o){const l=Ie(t);return l.b_(),new hk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:gk.bind(null,n),mo:yk.bind(null,n),po:_k.bind(null,n),R_:vk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ep(n)?wp(n):n.K_.set("Unknown")):(await n.W_.stop(),nT(n))})),n.W_}function Ii(n){return n.G_||(n.G_=function(t,i,o){const l=Ie(t);return l.b_(),new fk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Tk.bind(null,n),po:Ik.bind(null,n),p_:Sk.bind(null,n),y_:Ak.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Lc(n)):(await n.G_.stop(),n.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new Tp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),Oo(n))return new ge(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Ua(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.z_=new nt(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ko{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ko(e,t,wo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Ck{constructor(){this.queries=J_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=J_(),l.forEach((c,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function J_(){return new ms(n=>RE(n),Cc)}async function xk(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new Pk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Sp(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Ap(t)}async function kk(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Vk(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&Ap(t)}function Dk(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Ap(n){n.X_.forEach(e=>{e.next()})}var vd,Z_;(Z_=vd||(vd={})).na="default",Z_.Cache="cache";class Nk{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class Mk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=PE(e),this.ma=new wo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new Y_,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const S=o.get(v),R=xc(this.query,E)?E:null,L=!!S&&this.mutatedKeys.has(S.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;S&&R?S.data.isEqual(R.data)?L!==O&&(i.track({type:3,doc:R}),N=!0):this.ya(S,R)||(i.track({type:2,doc:R}),N=!0,(p&&this.Va(R,p)>0||y&&this.Va(R,y)<0)&&(f=!0)):!S&&R?(i.track({type:0,doc:R}),N=!0):S&&!R&&(i.track({type:1,doc:S}),N=!0,(p||y)&&(f=!0)),N&&(R?(c=c.add(R),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,E)=>function(R,L){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return O(R)-O(L)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ko(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Y_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new aT(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new oT(i))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Lk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ok{constructor(e){this.key=e,this.Fa=!1}}class bk{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ms(f=>RE(f),Cc),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ve.comparator),this.La=new Map,this.ka=new mp,this.qa={},this.Qa=new Map,this.Ka=xo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Fk(n,e,t=!0){const i=dT(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await lT(i,e,t,!0),o}async function Uk(n,e){const t=dT(n);await lT(t,e,!0,!1)}async function lT(n,e,t,i){const o=await ik(n.localStore,cr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Bk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&eT(n.remoteStore,o),f}async function Bk(n,e,t,i,o){n.Ua=(E,S,R)=>async function(O,N,W,K){let Q=N.view.ga(W);Q.ss&&(Q=await K_(O.localStore,N.query,!1).then(({documents:k})=>N.view.ga(k,Q)));const ne=K&&K.targetChanges.get(N.targetId),re=K&&K.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(Q,O.isPrimaryClient,ne,re);return tv(O,N.targetId,le.ba),le.snapshot}(n,E,S,R);const l=await K_(n.localStore,e,!0),c=new Mk(e,l.Es),f=c.ga(l.documents),p=gl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);tv(n,t,y.ba);const v=new Lk(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function jk(n,e,t){const i=Ie(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Cc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await _d(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&_p(i.remoteStore,o.targetId),wd(i,o.targetId)}).catch(Lo)):(wd(i,o.targetId),await _d(i.localStore,o.targetId,!0))}async function zk(n,e){const t=Ie(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_p(t.remoteStore,i.targetId))}async function $k(n,e,t){const i=Xk(n);try{const o=await function(c,f){const p=Ie(c),y=wt.now(),v=f.reduce((R,L)=>R.add(L.key),xe());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=Ur(),O=xe();return p.hs.getEntries(R,v).next(N=>{L=N,L.forEach((W,K)=>{K.isValidDocument()||(O=O.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,L)).next(N=>{E=N;const W=[];for(const K of f){const Q=sx(K,E.get(K.key).overlayedDocument);Q!=null&&W.push(new gs(K.key,Q,vE(Q.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,W,f)}).next(N=>{S=N;const W=N.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(R,N.batchId,W)})}).then(()=>({batchId:S.batchId,changes:xE(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let y=c.qa[c.currentUser.toKey()];y||(y=new nt(Ve)),y=y.insert(f,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await _l(i,o.changes),await Lc(i.remoteStore)}catch(o){const l=Sp(o,"Failed to persist write");t.reject(l)}}async function uT(n,e){const t=Ie(n);try{const i=await tk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.La.get(l);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Be(c.Fa):o.removedDocuments.size>0&&(Be(c.Fa),c.Fa=!1))}),await _l(t,i,e)}catch(i){await Lo(i)}}function ev(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Ie(c);p.onlineState=f;let y=!1;p.queries.forEach((v,E)=>{for(const S of E.J_)S.ea(f)&&(y=!0)}),y&&Ap(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Wk(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let c=new nt(ve.comparator);c=c.insert(l,qt.newNoDocument(l,Se.min()));const f=xe().add(l),p=new Dc(Se.min(),new Map,new nt(Ve),c,f);await uT(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),Ip(i)}else await _d(i.localStore,e,!1).then(()=>wd(i,e,t)).catch(Lo)}async function qk(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await ek(t.localStore,e);hT(t,i,null),cT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _l(t,o)}catch(o){await Lo(o)}}async function Hk(n,e,t){const i=Ie(n);try{const o=await function(c,f){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(E=>(Be(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);hT(i,e,t),cT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _l(i,o)}catch(o){await Lo(o)}}function cT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function hT(n,e,t){const i=Ie(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function wd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||fT(n,i)})}function fT(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(_p(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Ip(n))}function tv(n,e,t){for(const i of t)i instanceof oT?(n.ka.addReference(i.key,e),Kk(n,i)):i instanceof aT?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||fT(n,i.key)):Te()}function Kk(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.Na.add(i),Ip(n))}function Ip(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(Je.fromString(e)),i=n.Ka.next();n.La.set(i,new Ok(t)),n.Ba=n.Ba.insert(t,i),eT(n.remoteStore,new di(cr(cp(t.path)),i,"TargetPurposeLimboResolution",Ac.oe))}}async function _l(n,e,t){const i=Ie(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{c.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=yp.zi(p.targetId,y);l.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>q.forEach(y,S=>q.forEach(S.Wi,R=>v.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>q.forEach(S.Gi,R=>v.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!Oo(E))throw E;oe("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const R=v.us.get(S),L=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(L);v.us=v.us.insert(S,O)}}}(i.localStore,l))}async function Gk(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await XE(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ge(J.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _l(t,i.Ts)}}function Qk(n,e){const t=Ie(n),i=t.La.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function dT(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wk.bind(null,e),e.Ma.R_=Vk.bind(null,e.eventManager),e.Ma.Wa=Dk.bind(null,e.eventManager),e}function Xk(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hk.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Zx(this.persistence,new Yx,e.initialUser,this.serializer)}ja(e){return new QE(gp.ei,this.serializer)}za(e){return new ok}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class Yk extends gc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof pc);const i=this.persistence.referenceDelegate.garbageCollector;return new Ox(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new QE(i=>pc.ei(i,t),this.serializer)}}class Ed{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),await Rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const t=Nc(e.databaseInfo.databaseId),i=function(l){return new ck(l)}(e.databaseInfo);return function(l,c,f,p){return new dk(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new mk(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ev(this.syncEngine,t,0),function(){return Q_.p()?new Q_:new ak}())}createSyncEngine(e,t){return function(o,l,c,f,p,y,v){const E=new bk(o,l,c,f,p,y);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);oe("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await yl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ed.provider={build:()=>new Ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{oe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(oe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Sp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await XE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eV(n);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>X_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>X_(e.remoteStore,o)),n._onlineComponents=e}async function eV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new gc)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new Yk(void 0));return n._offlineComponents}async function pT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await nv(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await nv(n,new Ed))),n._onlineComponents}function tV(n){return pT(n).then(e=>e.syncEngine)}async function rv(n){const e=await pT(n),t=e.eventManager;return t.onListen=Fk.bind(null,e.syncEngine),t.onUnlisten=jk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Uk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zk.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,e,t){if(!t)throw new ge(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nV(n,e,t,i){if(e===!0&&i===!0)throw new ge(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sv(n){if(!ve.isDocumentKey(n))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ov(n){if(ve.isDocumentKey(n))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Xa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rp(n);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hC;switch(i.type){case"firstParty":return new mC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),iv.delete(t),i.terminate())}(this),Promise.resolve()}}function rV(n,e,t,i={}){var o;const l=(n=Xa(n,Oc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Wt.MOCK_USER;else{f=Jw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(y)}n._authCredentials=new fC(new mE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class Vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class _i extends bc{constructor(e,t,i){super(e,t,cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ve(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function iV(n,e,...t){if(n=fr(n),gT("collection","path",e),n instanceof Oc){const i=Je.fromString(e,...t);return ov(i),new _i(n,null,i)}{if(!(n instanceof Vn||n instanceof _i))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return ov(i),new _i(n.firestore,null,i)}}function sV(n,e,...t){if(n=fr(n),arguments.length===1&&(e=gE.newId()),gT("doc","path",e),n instanceof Oc){const i=Je.fromString(e,...t);return sv(i),new Vn(n,null,new ve(i))}{if(!(n instanceof Vn||n instanceof _i))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return sv(i),new Vn(n.firestore,n instanceof _i?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new JE(this,"async_queue_retry"),this.fu=()=>{const i=Mf();i&&oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new ls;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Oo(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Fr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Tp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function uv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class yc extends Oc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function oV(n,e){const t=typeof n=="object"?n:oE(),i=typeof n=="string"?n:"(default)",o=rE(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Xw("firestore");l&&rV(o,...l)}return o}function yT(n){if(n._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aV(n),n._firestoreClient}function aV(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,v){return new kC(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,mT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Zk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(bt.fromBase64String(e))}catch(t){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class uV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}function vT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class kp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return _c(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(vT(this.Mu)&&lV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class cV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nc(e)}$u(e,t,i,o=!1){return new kp({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hV(n){const e=n._freezeSettings(),t=Nc(n._databaseId);return new cV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fV(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);ST("Data must be an object, but it was:",c,i);const f=ET(i,c);let p,y;if(l.merge)p=new Gn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const S=dV(e,E,t);if(!c.contains(S))throw new ge(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);mV(v,S)||v.push(S)}p=new Gn(v),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new uV(new kn(f),p,y)}function wT(n,e){if(TT(n=fr(n)))return ST("Unsupported field value:",e,n),ET(n,e);if(n instanceof _T)return function(i,o){if(!vT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=wT(f,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=fr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:dc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dc(o.serializer,l)}}if(i instanceof Cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vo)return{bytesValue:zE(o.serializer,i._byteString)};if(i instanceof Vn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof xp)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return hp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Rp(i)}`)}(n,e)}function ET(n,e){const t={};return yE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(n,(i,o)=>{const l=wT(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function TT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Cp||n instanceof Vo||n instanceof Vn||n instanceof _T||n instanceof xp)}function ST(n,e,t){if(!TT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Rp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function dV(n,e,t){if((e=fr(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return AT(n,e);throw _c("Field path arguments must be of type string or ",n,!1,void 0,t)}const pV=new RegExp("[~\\*/\\[\\]]");function AT(n,e,t){if(e.search(pV)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pp(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _c(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(J.INVALID_ARGUMENT,f+n+p)}function mV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gV extends IT{data(){return super.data()}}function RT(n,e){return typeof e=="string"?AT(n,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _V{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ps(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new xp(l)}convertGeoPoint(e){return new Cp(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=Ti(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);Be(GE(i));const o=new al(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PT extends IT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zu extends PT{data(e={}){return super.data(e)}}class wV{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ja(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zu(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new Zu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Zu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:EV(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class CT extends _V{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function TV(n,e){const t=Xa(n.firestore,yc),i=sV(n),o=vV(n.converter,e);return AV(t,[fV(hV(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Lr.exists(!1))]).then(()=>i)}function SV(n,...e){var t,i,o;n=fr(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||uv(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(uv(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,v;if(n instanceof Vn)y=Xa(n.firestore,yc),v=cp(n._key.path),p={next:E=>{e[c]&&e[c](IV(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Xa(n,bc);y=Xa(E.firestore,yc),v=E._query;const S=new CT(y);p={next:R=>{e[c]&&e[c](new wV(y,S,E,R))},error:e[c+1],complete:e[c+2]},yV(n._query)}return function(S,R,L,O){const N=new Jk(O),W=new Nk(R,N,L);return S.asyncQueue.enqueueAndForget(async()=>xk(await rv(S),W)),()=>{N.eu(),S.asyncQueue.enqueueAndForget(async()=>kk(await rv(S),W))}}(yT(y),v,f,p)}function AV(n,e){return function(i,o){const l=new ls;return i.asyncQueue.enqueueAndForget(async()=>$k(await tV(i),o,l)),l.promise}(yT(n),e)}function IV(n,e,t){const i=t.docs.get(e._key),o=new CT(n);return new PT(n,o,e._key,i,new ja(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(iE),il(new Ao("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new yc(new dC(i.getProvider("auth-internal")),new yC(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),gi(A_,"4.7.6",e),gi(A_,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebasestorage.googleapis.com",kT="storageBucket",RV=2*60*1e3,PV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends ds{constructor(e,t,i=0){super(Of(e),`Firebase Storage: ${t} (${Of(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function Of(n){return"storage/"+n}function Vp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(st.UNKNOWN,n)}function CV(n){return new ot(st.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function xV(n){return new ot(st.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(st.UNAUTHENTICATED,n)}function VV(){return new ot(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DV(n){return new ot(st.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function NV(){return new ot(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MV(){return new ot(st.CANCELED,"User canceled the upload/download.")}function LV(n){return new ot(st.INVALID_URL,"Invalid URL '"+n+"'.")}function OV(n){return new ot(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function bV(){return new ot(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kT+"' property when initializing the app?")}function FV(){return new ot(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UV(){return new ot(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BV(n){return new ot(st.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Td(n){return new ot(st.INVALID_ARGUMENT,n)}function VT(){return new ot(st.APP_DELETED,"The Firebase app was deleted.")}function jV(n){return new ot(st.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ya(n,e){return new ot(st.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ma(n){throw new ot(st.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(i.path==="")return i;throw OV(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${v}/b/${o}/o${S}`,"i"),L={bucket:1,path:3},O=t===xT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",W=new RegExp(`^https?://${O}/${o}/${N}`,"i"),Q=[{regex:f,indices:p,postModify:l},{regex:R,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<Q.length;ne++){const re=Q[ne],le=re.regex.exec(e);if(le){const k=le[re.indices.bucket];let A=le[re.indices.path];A||(A=""),i=new gn(k,A),re.postModify(i);break}}if(i==null)throw LV(e);return i}}class zV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n,e,t){let i=1,o=null,l=null,c=!1,f=0;function p(){return f===2}let y=!1;function v(...N){y||(y=!0,e.apply(null,N))}function E(N){o=setTimeout(()=>{o=null,n(R,p())},N)}function S(){l&&clearTimeout(l)}function R(N,...W){if(y){S();return}if(N){S(),v.call(null,N,...W);return}if(p()||c){S(),v.call(null,N,...W);return}i<64&&(i*=2);let Q;f===1?(f=2,Q=0):Q=(i+Math.random())*1e3,E(Q)}let L=!1;function O(N){L||(L=!0,S(),!y&&(o!==null?(N||(f=2),clearTimeout(o),E(0)):N||(f=1)))}return E(0),l=setTimeout(()=>{c=!0,O(!0)},t),O}function WV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(n){return n!==void 0}function HV(n){return typeof n=="object"&&!Array.isArray(n)}function Dp(n){return typeof n=="string"||n instanceof String}function cv(n){return Np()&&n instanceof Blob}function Np(){return typeof Blob<"u"}function hv(n,e,t,i){if(i<e)throw Td(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Td(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function DT(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var us;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,t,i,o,l,c,f,p,y,v,E,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=E,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,L)=>{this.resolve_=R,this.reject_=L,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new $u(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===us.NO_ERROR,p=l.getStatus();if(!f||KV(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===us.ABORT;i(!1,new $u(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new $u(y,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());qV(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Vp();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(o.canceled){const p=this.appDelete_?VT():MV();c(p)}else{const p=NV();c(p)}};this.canceled_?t(!1,new $u(!1,null,!0)):this.backoffId_=$V(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function QV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function JV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ZV(n,e,t,i,o,l,c=!0){const f=DT(n.urlParams),p=n.url+f,y=Object.assign({},n.headers);return YV(y,e),QV(y,t),XV(y,l),JV(y,i),new GV(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tD(...n){const e=eD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Np())return new Blob(n);throw new ot(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){if(typeof atob>"u")throw BV("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bf{constructor(e,t){this.data=e,this.contentType=t||null}}function iD(n,e){switch(n){case ar.RAW:return new bf(NT(e));case ar.BASE64:case ar.BASE64URL:return new bf(MT(n,e));case ar.DATA_URL:return new bf(oD(e),aD(e))}throw Vp()}function NT(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function sD(n){let e;try{e=decodeURIComponent(n)}catch{throw Ya(ar.DATA_URL,"Malformed data URL.")}return NT(e)}function MT(n,e){switch(n){case ar.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Ya(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ar.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Ya(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=rD(e)}catch(o){throw o.message.includes("polyfill")?o:Ya(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class LT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ya(ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=lD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function oD(n){const e=new LT(n);return e.base64?MT(ar.BASE64,e.rest):sD(e.rest)}function aD(n){return new LT(n).contentType}function lD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){let i=0,o="";cv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(cv(this.data_)){const i=this.data_,o=nD(i,e,t);return o===null?null:new fi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new fi(i,!0)}}static getBlob(...e){if(Np()){const t=e.map(i=>i instanceof fi?i.data_:i);return new fi(tD.apply(null,t))}else{const t=e.map(c=>Dp(c)?iD(ar.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)o[l++]=c[f]}),new fi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n){let e;try{e=JSON.parse(n)}catch{return null}return HV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function cD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function bT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n,e){return e}class Yt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||hD}}let Wu=null;function fD(n){return!Dp(n)||n.length<2?n:bT(n)}function FT(){if(Wu)return Wu;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,c){return fD(c)}const t=new Yt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Yt("size");return o.xform=i,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),Wu=n,Wu}function dD(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new gn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function pD(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return dD(i,n),i}function UT(n,e,t){const i=OT(e);return i===null?null:pD(n,i,t)}function mD(n,e,t,i){const o=OT(e);if(o===null||!Dp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,E=n.fullPath,S="/b/"+c(v)+"/o/"+c(E),R=Mp(S,t,i),L=DT({alt:"media",token:y});return R+L})[0]}function gD(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class BT{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n){if(!n)throw Vp()}function yD(n,e){function t(i,o){const l=UT(n,o,e);return jT(l!==null),l}return t}function _D(n,e){function t(i,o){const l=UT(n,o,e);return jT(l!==null),mD(l,o,n.host,n._protocol)}return t}function zT(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=VV():o=kV():t.getStatus()===402?o=xV(n.bucket):t.getStatus()===403?o=DV(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function vD(n){const e=zT(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=CV(n.path)),l.serverResponse=o.serverResponse,l}return t}function wD(n,e,t){const i=e.fullServerUrl(),o=Mp(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new BT(o,l,_D(n,t),c);return f.errorHandler=vD(e),f}function ED(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function TD(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=ED(null,e)),i}function SD(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const y=TD(e,i,o),v=gD(y,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+p+"--",R=fi.getBlob(E,i,S);if(R===null)throw FV();const L={name:y.fullPath},O=Mp(l,n.host,n._protocol),N="POST",W=n.maxUploadRetryTime,K=new BT(O,N,yD(n,t),W);return K.urlParams=L,K.headers=c,K.body=R.uploadData(),K.errorHandler=zT(e),K}class AD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Ma("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ma("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ma("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ma("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ma("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ID extends AD{initXhr(){this.xhr_.responseType="text"}}function $T(){return new ID}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hs(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bT(this._location.path)}get storage(){return this._service}get parent(){const e=uD(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new hs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jV(e)}}function RD(n,e,t){n._throwIfRoot("uploadBytes");const i=SD(n.storage,n._location,FT(),new fi(e,!0),t);return n.storage.makeRequestWithTokens(i,$T).then(o=>({metadata:o,ref:n}))}function PD(n){n._throwIfRoot("getDownloadURL");const e=wD(n.storage,n._location,FT());return n.storage.makeRequestWithTokens(e,$T).then(t=>{if(t===null)throw UV();return t})}function CD(n,e){const t=cD(n._location.path,e),i=new gn(n._location.bucket,t);return new hs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){return/^[A-Za-z]+:\/\//.test(n)}function kD(n,e){return new hs(n,e)}function WT(n,e){if(n instanceof Lp){const t=n;if(t._bucket==null)throw bV();const i=new hs(t,t._bucket);return e!=null?WT(i,e):i}else return e!==void 0?CD(n,e):n}function VD(n,e){if(e&&xD(e)){if(n instanceof Lp)return kD(n,e);throw Td("To use ref(service, url), the first argument must be a Storage instance.")}else return WT(n,e)}function fv(n,e){const t=e==null?void 0:e[kT];return t==null?null:gn.makeFromBucketSpec(t,n)}function DD(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Jw(o,n.app.options.projectId))}class Lp{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=xT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RV,this._maxUploadRetryTime=PV,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=fv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=fv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hs(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new zV(VT());{const c=ZV(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const dv="@firebase/storage",pv="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="storage";function ND(n,e,t){return n=fr(n),RD(n,e,t)}function MD(n){return n=fr(n),PD(n)}function LD(n,e){return n=fr(n),VD(n,e)}function OD(n=oE(),e){n=fr(n);const i=rE(n,qT).getImmediate({identifier:e}),o=Xw("storage");return o&&bD(i,...o),i}function bD(n,e,t,i={}){DD(n,e,t,i)}function FD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Lp(t,i,o,e,iE)}function UD(){il(new Ao(qT,FD,"PUBLIC").setMultipleInstances(!0)),gi(dv,pv,""),gi(dv,pv,"esm2017")}UD();const BD={apiKey:"AIzaSyDaEBKWvFiT3hMTKhz_DU5k9i2FCip0Mx4",authDomain:"imageboard-176a7.firebaseapp.com",projectId:"imageboard-176a7",storageBucket:"imageboard-176a7.firebasestorage.app",messagingSenderId:"848950340650",appId:"1:848950340650:web:fd52a1c2805a6829e56753"},HT=sE(BD),jD=oV(HT),zD=OD(HT);function $D(){const[n,e]=fe.useState([]),[t,i]=fe.useState(""),[o,l]=fe.useState(null),[c,f]=fe.useState(""),[p,y]=fe.useState(""),v=iV(jD,"posts");fe.useEffect(()=>{const R=SV(v,L=>{const O=L.docs.map(N=>({id:N.id,...N.data()}));e(O)});return()=>R()},[]);const E=async()=>{if(t||o){const R=c.trim()?c:"An0n",L={text:t,image:o,username:R,country:p,comments:[],createdAt:new Date().toISOString()},O=await TV(v,L);e([{id:O.id,...L},...n]),i(""),l(null),f(""),y("")}},S=async R=>{const L=R.target.files[0];if(L)try{const O=LD(zD,`images/${L.name}`);await ND(O,L);const N=await MD(O);l(N),console.log("Uploaded Image URL:",N)}catch(O){console.error("Error uploading image:",O)}};return me.jsx("div",{className:"min-h-screen bg-purple-900 text-white p-6 flex flex-col items-center",children:me.jsxs("div",{className:"w-full max-w-2xl",children:[me.jsxs(Ff,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[me.jsx(qw,{username:c,setUsername:f,country:p,setCountry:y}),me.jsx(gv,{placeholder:"What's on your mind?",value:t,onChange:R=>i(R.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),me.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"upload"}),me.jsxs("label",{htmlFor:"upload",className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white",children:[me.jsx(uS,{size:20})," Upload Image"]}),o&&me.jsx("img",{src:o,alt:"Preview",className:"mt-3 rounded-lg max-h-40"}),me.jsx(mv,{onClick:E,className:"w-full mt-4 bg-purple-600 hover:bg-purple-500",children:"Post"})]}),me.jsx("div",{className:"mt-6 space-y-4",children:n.map(R=>me.jsx(M1.div,{initial:{opacity:0},animate:{opacity:1},children:me.jsxs(Ff,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[me.jsxs("div",{className:"flex items-center mb-2",children:[me.jsx("span",{className:"mr-2",children:R.country}),me.jsx("span",{className:"font-bold",children:R.username})]}),R.text&&me.jsx("p",{className:"mb-2 text-white",children:R.text}),R.image&&me.jsx("img",{src:R.image,alt:"Post",className:"rounded-lg max-h-60"}),me.jsx(Kw,{comments:R.comments,addReply:(L,O)=>{const N=R.comments.map(W=>W.id===L?{...W,replies:[...W.replies,O]}:W);e(W=>W.map(K=>K.id===R.id?{...K,comments:N}:K))}}),me.jsx(b1,{onSubmit:L=>{const O=n.map(N=>N.id===R.id?{...N,comments:[...N.comments,L]}:N);e(O)}})]})},R.id))})]})})}rS.createRoot(document.getElementById("root")).render(me.jsx(fe.StrictMode,{children:me.jsx($D,{})}));
