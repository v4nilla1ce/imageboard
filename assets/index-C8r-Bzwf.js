(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var wf={exports:{}},Fa={},Tf={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function RA(){if(uy)return Ce;uy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};function N(b,K,ge){this.props=b,this.context=K,this.refs=D,this.updater=ge||R}N.prototype.isReactComponent={},N.prototype.setState=function(b,K){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,K,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=N.prototype;function H(b,K,ge){this.props=b,this.context=K,this.refs=D,this.updater=ge||R}var Q=H.prototype=new q;Q.constructor=H,O(Q,N.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,ae={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(b,K,ge){var Re,Pe={},De=null,Fe=null;if(K!=null)for(Re in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)re.call(K,Re)&&!k.hasOwnProperty(Re)&&(Pe[Re]=K[Re]);var Ue=arguments.length-2;if(Ue===1)Pe.children=ge;else if(1<Ue){for(var $e=Array(Ue),Et=0;Et<Ue;Et++)$e[Et]=arguments[Et+2];Pe.children=$e}if(b&&b.defaultProps)for(Re in Ue=b.defaultProps,Ue)Pe[Re]===void 0&&(Pe[Re]=Ue[Re]);return{$$typeof:n,type:b,key:De,ref:Fe,props:Pe,_owner:ae.current}}function P(b,K){return{$$typeof:n,type:b.type,key:K,ref:b.ref,props:b.props,_owner:b._owner}}function V(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function L(b){var K={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ge){return K[ge]})}var F=/\/+/g;function C(b,K){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):K.toString(36)}function Xe(b,K,ge,Re,Pe){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var Fe=!1;if(b===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(b.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=b,Pe=Pe(Fe),b=Re===""?"."+C(Fe,0):Re,ne(Pe)?(ge="",b!=null&&(ge=b.replace(F,"$&/")+"/"),Xe(Pe,K,ge,"",function(Et){return Et})):Pe!=null&&(V(Pe)&&(Pe=P(Pe,ge+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+b)),K.push(Pe)),1;if(Fe=0,Re=Re===""?".":Re+":",ne(b))for(var Ue=0;Ue<b.length;Ue++){De=b[Ue];var $e=Re+C(De,Ue);Fe+=Xe(De,K,ge,$e,Pe)}else if($e=E(b),typeof $e=="function")for(b=$e.call(b),Ue=0;!(De=b.next()).done;)De=De.value,$e=Re+C(De,Ue++),Fe+=Xe(De,K,ge,$e,Pe);else if(De==="object")throw K=String(b),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(b,K,ge){if(b==null)return b;var Re=[],Pe=0;return Xe(b,Re,"","",function(De){return K.call(ge,De,Pe++)}),Re}function xt(b){if(b._status===-1){var K=b._result;K=K(),K.then(function(ge){(b._status===0||b._status===-1)&&(b._status=1,b._result=ge)},function(ge){(b._status===0||b._status===-1)&&(b._status=2,b._result=ge)}),b._status===-1&&(b._status=0,b._result=K)}if(b._status===1)return b._result.default;throw b._result}var Se={current:null},ee={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ae};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(b,K,ge){Ct(b,function(){K.apply(this,arguments)},ge)},count:function(b){var K=0;return Ct(b,function(){K++}),K},toArray:function(b){return Ct(b,function(K){return K})||[]},only:function(b){if(!V(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=N,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=H,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ce.act=ie,Ce.cloneElement=function(b,K,ge){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Re=O({},b.props),Pe=b.key,De=b.ref,Fe=b._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=ae.current),K.key!==void 0&&(Pe=""+K.key),b.type&&b.type.defaultProps)var Ue=b.type.defaultProps;for($e in K)re.call(K,$e)&&!k.hasOwnProperty($e)&&(Re[$e]=K[$e]===void 0&&Ue!==void 0?Ue[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Re.children=ge;else if(1<$e){Ue=Array($e);for(var Et=0;Et<$e;Et++)Ue[Et]=arguments[Et+2];Re.children=Ue}return{$$typeof:n,type:b.type,key:Pe,ref:De,props:Re,_owner:Fe}},Ce.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ce.createElement=S,Ce.createFactory=function(b){var K=S.bind(null,b);return K.type=b,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=V,Ce.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:xt}},Ce.memo=function(b,K){return{$$typeof:g,type:b,compare:K===void 0?null:K}},Ce.startTransition=function(b){var K=ee.transition;ee.transition={};try{b()}finally{ee.transition=K}},Ce.unstable_act=ie,Ce.useCallback=function(b,K){return Se.current.useCallback(b,K)},Ce.useContext=function(b){return Se.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Se.current.useDeferredValue(b)},Ce.useEffect=function(b,K){return Se.current.useEffect(b,K)},Ce.useId=function(){return Se.current.useId()},Ce.useImperativeHandle=function(b,K,ge){return Se.current.useImperativeHandle(b,K,ge)},Ce.useInsertionEffect=function(b,K){return Se.current.useInsertionEffect(b,K)},Ce.useLayoutEffect=function(b,K){return Se.current.useLayoutEffect(b,K)},Ce.useMemo=function(b,K){return Se.current.useMemo(b,K)},Ce.useReducer=function(b,K,ge){return Se.current.useReducer(b,K,ge)},Ce.useRef=function(b){return Se.current.useRef(b)},Ce.useState=function(b){return Se.current.useState(b)},Ce.useSyncExternalStore=function(b,K,ge){return Se.current.useSyncExternalStore(b,K,ge)},Ce.useTransition=function(){return Se.current.useTransition()},Ce.version="18.3.1",Ce}var cy;function Ld(){return cy||(cy=1,Tf.exports=RA()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function PA(){if(hy)return Fa;hy=1;var n=Ld(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var _,w={},E=null,R=null;g!==void 0&&(E=""+g),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:f,key:E,ref:R,props:w,_owner:o.current}}return Fa.Fragment=t,Fa.jsx=u,Fa.jsxs=u,Fa}var fy;function CA(){return fy||(fy=1,wf.exports=PA()),wf.exports}var de=CA(),pe=Ld(),ju={},Ef={exports:{}},an={},Af={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function xA(){return dy||(dy=1,function(n){function e(ee,me){var ie=ee.length;ee.push(me);e:for(;0<ie;){var b=ie-1>>>1,K=ee[b];if(0<o(K,me))ee[b]=me,ee[ie]=K,ie=b;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var me=ee[0],ie=ee.pop();if(ie!==me){ee[0]=ie;e:for(var b=0,K=ee.length,ge=K>>>1;b<ge;){var Re=2*(b+1)-1,Pe=ee[Re],De=Re+1,Fe=ee[De];if(0>o(Pe,ie))De<K&&0>o(Fe,Pe)?(ee[b]=Fe,ee[De]=ie,b=De):(ee[b]=Pe,ee[Re]=ie,b=Re);else if(De<K&&0>o(Fe,ie))ee[b]=Fe,ee[De]=ie,b=De;else break e}}return me}function o(ee,me){var ie=ee.sortIndex-me.sortIndex;return ie!==0?ie:ee.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],g=[],_=1,w=null,E=3,R=!1,O=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ee){for(var me=t(g);me!==null;){if(me.callback===null)i(g);else if(me.startTime<=ee)i(g),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(g)}}function ne(ee){if(D=!1,Q(ee),!O)if(t(p)!==null)O=!0,xt(re);else{var me=t(g);me!==null&&Se(ne,me.startTime-ee)}}function re(ee,me){O=!1,D&&(D=!1,q(S),S=-1),R=!0;var ie=E;try{for(Q(me),w=t(p);w!==null&&(!(w.expirationTime>me)||ee&&!L());){var b=w.callback;if(typeof b=="function"){w.callback=null,E=w.priorityLevel;var K=b(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),Q(me)}else i(p);w=t(p)}if(w!==null)var ge=!0;else{var Re=t(g);Re!==null&&Se(ne,Re.startTime-me),ge=!1}return ge}finally{w=null,E=ie,R=!1}}var ae=!1,k=null,S=-1,P=5,V=-1;function L(){return!(n.unstable_now()-V<P)}function F(){if(k!==null){var ee=n.unstable_now();V=ee;var me=!0;try{me=k(!0,ee)}finally{me?C():(ae=!1,k=null)}}else ae=!1}var C;if(typeof H=="function")C=function(){H(F)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Ct=Xe.port2;Xe.port1.onmessage=F,C=function(){Ct.postMessage(null)}}else C=function(){N(F,0)};function xt(ee){k=ee,ae||(ae=!0,C())}function Se(ee,me){S=N(function(){ee(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,xt(re))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ie=E;E=me;try{return ee()}finally{E=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=E;E=ee;try{return me()}finally{E=ie}},n.unstable_scheduleCallback=function(ee,me,ie){var b=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?b+ie:b):ie=b,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,ee={id:_++,callback:me,priorityLevel:ee,startTime:ie,expirationTime:K,sortIndex:-1},ie>b?(ee.sortIndex=ie,e(g,ee),t(p)===null&&ee===t(g)&&(D?(q(S),S=-1):D=!0,Se(ne,ie-b))):(ee.sortIndex=K,e(p,ee),O||R||(O=!0,xt(re))),ee},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ee){var me=E;return function(){var ie=E;E=me;try{return ee.apply(this,arguments)}finally{E=ie}}}}(Sf)),Sf}var py;function kA(){return py||(py=1,Af.exports=xA()),Af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function VA(){if(my)return an;my=1;var n=Ld(),e=kA();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function E(r){return p.call(w,r)?!0:p.call(_,r)?!1:g.test(r)?w[r]=!0:(_[r]=!0,!1)}function R(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||R(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(r,s,a,h,d,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new D(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,H);N[s]=new D(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,H);N[s]=new D(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,H);N[s]=new D(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,a,h){var d=N.hasOwnProperty(s)?N[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,h)&&(a=null),h||d===null?E(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),ae=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ee=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,b;function K(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var ge=!1;function Re(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,I=y.length-1;1<=T&&0<=I&&d[T]!==y[I];)I--;for(;1<=T&&0<=I;T--,I--)if(d[T]!==y[I]){if(T!==1||I!==1)do if(T--,I--,0>I||d[T]!==y[I]){var x=`
`+d[T].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=T&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ae:return"Portal";case P:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case Xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function gr(r){r._valueTracker||(r._valueTracker=Et(r))}function ws(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Di(r,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ts(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function qo(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function Wo(r,s){qo(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Es(r,s.type,a):s.hasOwnProperty("defaultValue")&&Es(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Rl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Es(r,s,a){(s!=="number"||jr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function _r(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Ho(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function As(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Ss(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Ko(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var vr,Go=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function zr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mi=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(r){Mi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ni[s]=Ni[r]})});function Qo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ni.hasOwnProperty(r)&&Ni[r]?(""+s).trim():s+"px"}function Xo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Qo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Yo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(r,s){if(s){if(Yo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Zo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function Is(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,En=null,Yn=null;function Ps(r){if(r=Aa(r)){if(typeof Rs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=nu(s),Rs(r.stateNode,r.type,s))}}function Jn(r){En?Yn?Yn.push(r):Yn=[r]:En=r}function ea(){if(En){var r=En,s=Yn;if(Yn=En=null,Ps(r),s)for(r=0;r<s.length;r++)Ps(s[r])}}function Oi(r,s){return r(s)}function ta(){}var wr=!1;function na(r,s,a){if(wr)return r(s,a);wr=!0;try{return Oi(r,s,a)}finally{wr=!1,(En!==null||Yn!==null)&&(ta(),ea())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=nu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Cs=!1;if(f)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Cs=!1}function bi(r,s,a,h,d,y,T,I,x){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Y){this.onError(Y)}}var Fi=!1,xs=null,Ln=!1,ra=null,Kc={onError:function(r){Fi=!0,xs=r}};function ks(r,s,a,h,d,y,T,I,x){Fi=!1,xs=null,bi.apply(Kc,arguments)}function Pl(r,s,a,h,d,y,T,I,x){if(ks.apply(this,arguments),Fi){if(Fi){var z=xs;Fi=!1,xs=null}else throw Error(t(198));Ln||(Ln=!0,ra=z)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ui(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bn(r){if(On(r)!==r)throw Error(t(188))}function Cl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return bn(d),r;if(y===h)return bn(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var T=!1,I=d.child;I;){if(I===a){T=!0,a=d,h=y;break}if(I===h){T=!0,h=d,a=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===a){T=!0,a=y,h=d;break}if(I===h){T=!0,h=y,a=d;break}I=I.sibling}if(!T)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ia(r){return r=Cl(r),r!==null?Vs(r):null}function Vs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Vs(r);if(s!==null)return s;r=r.sibling}return null}var Ds=e.unstable_scheduleCallback,sa=e.unstable_cancelCallback,xl=e.unstable_shouldYield,Gc=e.unstable_requestPaint,qe=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,Bi=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,oa=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,ji=null,fn=null;function Dl(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ji,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Ml,aa=Math.log,Nl=Math.LN2;function Ml(r){return r>>>=0,r===0?32:31-(aa(r)/Nl|0)|0}var Ns=64,Ms=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zi(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=a&268435455;if(T!==0){var I=T&~d;I!==0?h=qr(I):(y&=T,y!==0&&(h=qr(y)))}else T=a&~d,T!==0?h=qr(T):y!==0&&(h=qr(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function Qc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Kt(y),I=1<<T,x=d[T];x===-1?(!(I&a)||I&h)&&(d[T]=Qc(I,s)):x<=s&&(r.expiredLanes|=I),y&=~I}}function dn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $i(){var r=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),r}function Wr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Hr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Kr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Gr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ll,Ls,Ol,bl,Fl,la=!1,Zn=[],kt=null,Fn=null,Un=null,Qr=new Map,Sn=new Map,er=[],Xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Zt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Aa(s),s!==null&&Ls(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Yc(r,s,a,h,d){switch(s){case"focusin":return kt=Zt(kt,r,s,a,h,d),!0;case"dragenter":return Fn=Zt(Fn,r,s,a,h,d),!0;case"mouseover":return Un=Zt(Un,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Qr.set(y,Zt(Qr.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,Sn.set(y,Zt(Sn.get(y)||null,r,s,a,h,d)),!0}return!1}function Bl(r){var s=Gi(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=Ui(a),s!==null){r.blockedOn=s,Fl(r.priority,function(){Ol(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Er(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Os(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Li=h,a.target.dispatchEvent(h),Li=null}else return s=Aa(a),s!==null&&Ls(s),r.blockedOn=a,!1;s.shift()}return!0}function qi(r,s,a){Er(r)&&a.delete(s)}function jl(){la=!1,kt!==null&&Er(kt)&&(kt=null),Fn!==null&&Er(Fn)&&(Fn=null),Un!==null&&Er(Un)&&(Un=null),Qr.forEach(qi),Sn.forEach(qi)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function jn(r){function s(d){return Bn(d,r)}if(0<Zn.length){Bn(Zn[0],r);for(var a=1;a<Zn.length;a++){var h=Zn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Bn(kt,r),Fn!==null&&Bn(Fn,r),Un!==null&&Bn(Un,r),Qr.forEach(s),Sn.forEach(s),a=0;a<er.length;a++)h=er[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Bl(a),a.blockedOn===null&&er.shift()}var Ar=ne.ReactCurrentBatchConfig,Xr=!0;function Ye(r,s,a,h){var d=ke,y=Ar.transition;Ar.transition=null;try{ke=1,ua(r,s,a,h)}finally{ke=d,Ar.transition=y}}function Jc(r,s,a,h){var d=ke,y=Ar.transition;Ar.transition=null;try{ke=4,ua(r,s,a,h)}finally{ke=d,Ar.transition=y}}function ua(r,s,a,h){if(Xr){var d=Os(r,s,a,h);if(d===null)uh(r,s,h,Wi,a),Ul(r,h);else if(Yc(d,r,s,a,h))h.stopPropagation();else if(Ul(r,h),s&4&&-1<Xc.indexOf(r)){for(;d!==null;){var y=Aa(d);if(y!==null&&Ll(y),y=Os(r,s,a,h),y===null&&uh(r,s,h,Wi,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else uh(r,s,h,null,a)}}var Wi=null;function Os(r,s,a,h){if(Wi=null,r=Is(h),r=Gi(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ui(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Wi=r,null}function ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case Bi:return 1;case $r:return 4;case An:case oa:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var pn=null,bs=null,en=null;function ha(){if(en)return en;var r,s=bs,a=s.length,h,d="value"in pn?pn.value:pn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var T=a-r;for(h=1;h<=T&&s[a-h]===d[y-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function Fs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function tr(){return!0}function fa(){return!1}function Vt(r){function s(a,h,d,y,T){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?tr:fa,this.isPropagationStopped=fa,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),s}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Vt(zn),nr=ie({},zn,{view:0,detail:0}),Zc=Vt(nr),Bs,Sr,Yr,Hi=ie({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(Bs=r.screenX-Yr.screenX,Sr=r.screenY-Yr.screenY):Sr=Bs=0,Yr=r),Bs)},movementY:function(r){return"movementY"in r?r.movementY:Sr}}),js=Vt(Hi),da=ie({},Hi,{dataTransfer:0}),zl=Vt(da),zs=ie({},nr,{relatedTarget:0}),$s=Vt(zs),$l=ie({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Vt($l),ql=ie({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wl=Vt(ql),Hl=ie({},zn,{data:0}),pa=Vt(Hl),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kl[r])?!!s[r]:!1}function rr(){return Gl}var c=ie({},nr,{key:function(r){if(r.key){var s=qs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(c),v=ie({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Vt(v),U=ie({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),$=Vt(U),te=ie({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Vt(te),yt=ie({},Hi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(yt),At=[9,13,27,32],ht=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var mn=f&&"TextEvent"in window&&!In,Ki=f&&(!ht||In&&8<In&&11>=In),Ws=" ",rm=!1;function im(r,s){switch(r){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Hs=!1;function S0(r,s){switch(r){case"compositionend":return sm(s);case"keypress":return s.which!==32?null:(rm=!0,Ws);case"textInput":return r=s.data,r===Ws&&rm?null:r;default:return null}}function I0(r,s){if(Hs)return r==="compositionend"||!ht&&im(r,s)?(r=ha(),en=bs=pn=null,Hs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!R0[r.type]:s==="textarea"}function am(r,s,a,h){Jn(h),s=Zl(s,"onChange"),0<s.length&&(a=new Us("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ma=null,ga=null;function P0(r){Im(r,0)}function Ql(r){var s=Ys(r);if(ws(s))return r}function C0(r,s){if(r==="change")return s}var lm=!1;if(f){var eh;if(f){var th="oninput"in document;if(!th){var um=document.createElement("div");um.setAttribute("oninput","return;"),th=typeof um.oninput=="function"}eh=th}else eh=!1;lm=eh&&(!document.documentMode||9<document.documentMode)}function cm(){ma&&(ma.detachEvent("onpropertychange",hm),ga=ma=null)}function hm(r){if(r.propertyName==="value"&&Ql(ga)){var s=[];am(s,ga,r,Is(r)),na(P0,s)}}function x0(r,s,a){r==="focusin"?(cm(),ma=s,ga=a,ma.attachEvent("onpropertychange",hm)):r==="focusout"&&cm()}function k0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(ga)}function V0(r,s){if(r==="click")return Ql(s)}function D0(r,s){if(r==="input"||r==="change")return Ql(s)}function N0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:N0;function ya(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function fm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dm(r,s){var a=fm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fm(a)}}function pm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?pm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function mm(){for(var r=window,s=jr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=jr(r.document)}return s}function nh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function M0(r){var s=mm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&pm(a.ownerDocument.documentElement,a)){if(h!==null&&nh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=dm(a,y);var T=dm(a,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var L0=f&&"documentMode"in document&&11>=document.documentMode,Ks=null,rh=null,_a=null,ih=!1;function gm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||Ks==null||Ks!==jr(h)||(h=Ks,"selectionStart"in h&&nh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_a&&ya(_a,h)||(_a=h,h=Zl(rh,"onSelect"),0<h.length&&(s=new Us("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Ks)))}function Xl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Gs={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},sh={},ym={};f&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Yl(r){if(sh[r])return sh[r];if(!Gs[r])return r;var s=Gs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in ym)return sh[r]=s[a];return r}var _m=Yl("animationend"),vm=Yl("animationiteration"),wm=Yl("animationstart"),Tm=Yl("transitionend"),Em=new Map,Am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(r,s){Em.set(r,s),l(s,[r])}for(var oh=0;oh<Am.length;oh++){var ah=Am[oh],O0=ah.toLowerCase(),b0=ah[0].toUpperCase()+ah.slice(1);Jr(O0,"on"+b0)}Jr(_m,"onAnimationEnd"),Jr(vm,"onAnimationIteration"),Jr(wm,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(Tm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Sm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Pl(h,s,void 0,r),r.currentTarget=null}function Im(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var I=h[T],x=I.instance,z=I.currentTarget;if(I=I.listener,x!==y&&d.isPropagationStopped())break e;Sm(d,I,z),y=x}else for(T=0;T<h.length;T++){if(I=h[T],x=I.instance,z=I.currentTarget,I=I.listener,x!==y&&d.isPropagationStopped())break e;Sm(d,I,z),y=x}}}if(Ln)throw r=ra,Ln=!1,ra=null,r}function He(r,s){var a=s[mh];a===void 0&&(a=s[mh]=new Set);var h=r+"__bubble";a.has(h)||(Rm(s,r,2,!1),a.add(h))}function lh(r,s,a){var h=0;s&&(h|=4),Rm(a,r,h,s)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function wa(r){if(!r[Jl]){r[Jl]=!0,i.forEach(function(a){a!=="selectionchange"&&(F0.has(a)||lh(a,!1,r),lh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jl]||(s[Jl]=!0,lh("selectionchange",!1,s))}}function Rm(r,s,a,h){switch(ca(s)){case 1:var d=Ye;break;case 4:d=Jc;break;default:d=ua}a=d.bind(null,s,a,r),d=void 0,!Cs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function uh(r,s,a,h,d){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var x=T.tag;if((x===3||x===4)&&(x=T.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;T=T.return}for(;I!==null;){if(T=Gi(I),T===null)return;if(x=T.tag,x===5||x===6){h=y=T;continue e}I=I.parentNode}}h=h.return}na(function(){var z=y,Y=Is(a),J=[];e:{var X=Em.get(r);if(X!==void 0){var se=Us,ce=r;switch(r){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ce="focus",se=$s;break;case"focusout":ce="blur",se=$s;break;case"beforeblur":case"afterblur":se=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case _m:case vm:case wm:se=Ir;break;case Tm:se=je;break;case"scroll":se=Zc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=A}var he=(s&4)!==0,lt=!he&&r==="scroll",B=he?X!==null?X+"Capture":null:X;he=[];for(var M=z,j;M!==null;){j=M;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=at(M,B),Z!=null&&he.push(Ta(M,Z,j)))),lt)break;M=M.return}0<he.length&&(X=new se(X,ce,null,a,Y),J.push({event:X,listeners:he}))}}if(!(s&7)){e:{if(X=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",X&&a!==Li&&(ce=a.relatedTarget||a.fromElement)&&(Gi(ce)||ce[Rr]))break e;if((se||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?Gi(ce):null,ce!==null&&(lt=On(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(he=js,Z="onMouseLeave",B="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(he=A,Z="onPointerLeave",B="onPointerEnter",M="pointer"),lt=se==null?X:Ys(se),j=ce==null?X:Ys(ce),X=new he(Z,M+"leave",se,a,Y),X.target=lt,X.relatedTarget=j,Z=null,Gi(Y)===z&&(he=new he(B,M+"enter",ce,a,Y),he.target=j,he.relatedTarget=lt,Z=he),lt=Z,se&&ce)t:{for(he=se,B=ce,M=0,j=he;j;j=Qs(j))M++;for(j=0,Z=B;Z;Z=Qs(Z))j++;for(;0<M-j;)he=Qs(he),M--;for(;0<j-M;)B=Qs(B),j--;for(;M--;){if(he===B||B!==null&&he===B.alternate)break t;he=Qs(he),B=Qs(B)}he=null}else he=null;se!==null&&Pm(J,X,se,he,!1),ce!==null&&lt!==null&&Pm(J,lt,ce,he,!0)}}e:{if(X=z?Ys(z):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var fe=C0;else if(om(X))if(lm)fe=D0;else{fe=k0;var _e=x0}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=V0);if(fe&&(fe=fe(r,z))){am(J,fe,a,Y);break e}_e&&_e(r,X,z),r==="focusout"&&(_e=X._wrapperState)&&_e.controlled&&X.type==="number"&&Es(X,"number",X.value)}switch(_e=z?Ys(z):window,r){case"focusin":(om(_e)||_e.contentEditable==="true")&&(Ks=_e,rh=z,_a=null);break;case"focusout":_a=rh=Ks=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,gm(J,a,Y);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":gm(J,a,Y)}var ve;if(ht)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Hs?im(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Ki&&a.locale!=="ko"&&(Hs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Hs&&(ve=ha()):(pn=Y,bs="value"in pn?pn.value:pn.textContent,Hs=!0)),_e=Zl(z,Te),0<_e.length&&(Te=new pa(Te,r,null,a,Y),J.push({event:Te,listeners:_e}),ve?Te.data=ve:(ve=sm(a),ve!==null&&(Te.data=ve)))),(ve=mn?S0(r,a):I0(r,a))&&(z=Zl(z,"onBeforeInput"),0<z.length&&(Y=new pa("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=ve))}Im(J,s)})}function Ta(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Zl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,a),y!=null&&h.unshift(Ta(r,y,d)),y=at(r,s),y!=null&&h.push(Ta(r,y,d))),r=r.return}return h}function Qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Pm(r,s,a,h,d){for(var y=s._reactName,T=[];a!==null&&a!==h;){var I=a,x=I.alternate,z=I.stateNode;if(x!==null&&x===h)break;I.tag===5&&z!==null&&(I=z,d?(x=at(a,y),x!=null&&T.unshift(Ta(a,x,I))):d||(x=at(a,y),x!=null&&T.push(Ta(a,x,I)))),a=a.return}T.length!==0&&r.push({event:s,listeners:T})}var U0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function Cm(r){return(typeof r=="string"?r:""+r).replace(U0,`
`).replace(B0,"")}function eu(r,s,a){if(s=Cm(s),Cm(r)!==s&&a)throw Error(t(425))}function tu(){}var ch=null,hh=null;function fh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(r){return xm.resolve(null).then(r).catch($0)}:dh;function $0(r){setTimeout(function(){throw r})}function ph(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),jn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);jn(s)}function Zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function km(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),ir="__reactFiber$"+Xs,Ea="__reactProps$"+Xs,Rr="__reactContainer$"+Xs,mh="__reactEvents$"+Xs,q0="__reactListeners$"+Xs,W0="__reactHandles$"+Xs;function Gi(r){var s=r[ir];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rr]||a[ir]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=km(r);r!==null;){if(a=r[ir])return a;r=km(r)}return s}r=a,a=r.parentNode}return null}function Aa(r){return r=r[ir]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function nu(r){return r[Ea]||null}var gh=[],Js=-1;function ei(r){return{current:r}}function Ke(r){0>Js||(r.current=gh[Js],gh[Js]=null,Js--)}function We(r,s){Js++,gh[Js]=r.current,r.current=s}var ti={},Ft=ei(ti),tn=ei(!1),Qi=ti;function Zs(r,s){var a=r.type.contextTypes;if(!a)return ti;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function ru(){Ke(tn),Ke(Ft)}function Vm(r,s,a){if(Ft.current!==ti)throw Error(t(168));We(Ft,s),We(tn,a)}function Dm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return ie({},a,h)}function iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ti,Qi=Ft.current,We(Ft,r),We(tn,tn.current),!0}function Nm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Dm(r,s,Qi),h.__reactInternalMemoizedMergedChildContext=r,Ke(tn),Ke(Ft),We(Ft,r)):Ke(tn),We(tn,a)}var Pr=null,su=!1,yh=!1;function Mm(r){Pr===null?Pr=[r]:Pr.push(r)}function H0(r){su=!0,Mm(r)}function ni(){if(!yh&&Pr!==null){yh=!0;var r=0,s=ke;try{var a=Pr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Pr=null,su=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),Ds(Bi,ni),d}finally{ke=s,yh=!1}}return null}var eo=[],to=0,ou=null,au=0,Rn=[],Pn=0,Xi=null,Cr=1,xr="";function Yi(r,s){eo[to++]=au,eo[to++]=ou,ou=r,au=s}function Lm(r,s,a){Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Xi,Xi=r;var h=Cr;r=xr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var y=32-Kt(s)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,Cr=1<<32-Kt(s)+d|a<<d|h,xr=y+r}else Cr=1<<y|a<<d|h,xr=r}function _h(r){r.return!==null&&(Yi(r,1),Lm(r,1,0))}function vh(r){for(;r===ou;)ou=eo[--to],eo[to]=null,au=eo[--to],eo[to]=null;for(;r===Xi;)Xi=Rn[--Pn],Rn[Pn]=null,xr=Rn[--Pn],Rn[Pn]=null,Cr=Rn[--Pn],Rn[Pn]=null}var gn=null,yn=null,Je=!1,qn=null;function Om(r,s){var a=Vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function bm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,gn=r,yn=Zr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,gn=r,yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Xi!==null?{id:Cr,overflow:xr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,gn=r,yn=null,!0):!1;default:return!1}}function wh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Th(r){if(Je){var s=yn;if(s){var a=s;if(!bm(r,s)){if(wh(r))throw Error(t(418));s=Zr(a.nextSibling);var h=gn;s&&bm(r,s)?Om(h,a):(r.flags=r.flags&-4097|2,Je=!1,gn=r)}}else{if(wh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,gn=r}}}function Fm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gn=r}function lu(r){if(r!==gn)return!1;if(!Je)return Fm(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!fh(r.type,r.memoizedProps)),s&&(s=yn)){if(wh(r))throw Um(),Error(t(418));for(;s;)Om(r,s),s=Zr(s.nextSibling)}if(Fm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){yn=Zr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}yn=null}}else yn=gn?Zr(r.stateNode.nextSibling):null;return!0}function Um(){for(var r=yn;r;)r=Zr(r.nextSibling)}function no(){yn=gn=null,Je=!1}function Eh(r){qn===null?qn=[r]:qn.push(r)}var K0=ne.ReactCurrentBatchConfig;function Sa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var I=d.refs;T===null?delete I[y]:I[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Bm(r){var s=r._init;return s(r._payload)}function jm(r){function s(B,M){if(r){var j=B.deletions;j===null?(B.deletions=[M],B.flags|=16):j.push(M)}}function a(B,M){if(!r)return null;for(;M!==null;)s(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function d(B,M){return B=ci(B,M),B.index=0,B.sibling=null,B}function y(B,M,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<M?(B.flags|=2,M):j):(B.flags|=2,M)):(B.flags|=1048576,M)}function T(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,M,j,Z){return M===null||M.tag!==6?(M=pf(j,B.mode,Z),M.return=B,M):(M=d(M,j),M.return=B,M)}function x(B,M,j,Z){var fe=j.type;return fe===k?Y(B,M,j.props.children,Z,j.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===xt&&Bm(fe)===M.type)?(Z=d(M,j.props),Z.ref=Sa(B,M,j),Z.return=B,Z):(Z=Nu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Sa(B,M,j),Z.return=B,Z)}function z(B,M,j,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=mf(j,B.mode,Z),M.return=B,M):(M=d(M,j.children||[]),M.return=B,M)}function Y(B,M,j,Z,fe){return M===null||M.tag!==7?(M=ss(j,B.mode,Z,fe),M.return=B,M):(M=d(M,j),M.return=B,M)}function J(B,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return M=pf(""+M,B.mode,j),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return j=Nu(M.type,M.key,M.props,null,B.mode,j),j.ref=Sa(B,null,M),j.return=B,j;case ae:return M=mf(M,B.mode,j),M.return=B,M;case xt:var Z=M._init;return J(B,Z(M._payload),j)}if(yr(M)||me(M))return M=ss(M,B.mode,j,null),M.return=B,M;uu(B,M)}return null}function X(B,M,j,Z){var fe=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return fe!==null?null:I(B,M,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return j.key===fe?x(B,M,j,Z):null;case ae:return j.key===fe?z(B,M,j,Z):null;case xt:return fe=j._init,X(B,M,fe(j._payload),Z)}if(yr(j)||me(j))return fe!==null?null:Y(B,M,j,Z,null);uu(B,j)}return null}function se(B,M,j,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,I(M,B,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case re:return B=B.get(Z.key===null?j:Z.key)||null,x(M,B,Z,fe);case ae:return B=B.get(Z.key===null?j:Z.key)||null,z(M,B,Z,fe);case xt:var _e=Z._init;return se(B,M,j,_e(Z._payload),fe)}if(yr(Z)||me(Z))return B=B.get(j)||null,Y(M,B,Z,fe,null);uu(M,Z)}return null}function ce(B,M,j,Z){for(var fe=null,_e=null,ve=M,Te=M=0,Rt=null;ve!==null&&Te<j.length;Te++){ve.index>Te?(Rt=ve,ve=null):Rt=ve.sibling;var be=X(B,ve,j[Te],Z);if(be===null){ve===null&&(ve=Rt);break}r&&ve&&be.alternate===null&&s(B,ve),M=y(be,M,Te),_e===null?fe=be:_e.sibling=be,_e=be,ve=Rt}if(Te===j.length)return a(B,ve),Je&&Yi(B,Te),fe;if(ve===null){for(;Te<j.length;Te++)ve=J(B,j[Te],Z),ve!==null&&(M=y(ve,M,Te),_e===null?fe=ve:_e.sibling=ve,_e=ve);return Je&&Yi(B,Te),fe}for(ve=h(B,ve);Te<j.length;Te++)Rt=se(ve,B,Te,j[Te],Z),Rt!==null&&(r&&Rt.alternate!==null&&ve.delete(Rt.key===null?Te:Rt.key),M=y(Rt,M,Te),_e===null?fe=Rt:_e.sibling=Rt,_e=Rt);return r&&ve.forEach(function(hi){return s(B,hi)}),Je&&Yi(B,Te),fe}function he(B,M,j,Z){var fe=me(j);if(typeof fe!="function")throw Error(t(150));if(j=fe.call(j),j==null)throw Error(t(151));for(var _e=fe=null,ve=M,Te=M=0,Rt=null,be=j.next();ve!==null&&!be.done;Te++,be=j.next()){ve.index>Te?(Rt=ve,ve=null):Rt=ve.sibling;var hi=X(B,ve,be.value,Z);if(hi===null){ve===null&&(ve=Rt);break}r&&ve&&hi.alternate===null&&s(B,ve),M=y(hi,M,Te),_e===null?fe=hi:_e.sibling=hi,_e=hi,ve=Rt}if(be.done)return a(B,ve),Je&&Yi(B,Te),fe;if(ve===null){for(;!be.done;Te++,be=j.next())be=J(B,be.value,Z),be!==null&&(M=y(be,M,Te),_e===null?fe=be:_e.sibling=be,_e=be);return Je&&Yi(B,Te),fe}for(ve=h(B,ve);!be.done;Te++,be=j.next())be=se(ve,B,Te,be.value,Z),be!==null&&(r&&be.alternate!==null&&ve.delete(be.key===null?Te:be.key),M=y(be,M,Te),_e===null?fe=be:_e.sibling=be,_e=be);return r&&ve.forEach(function(IA){return s(B,IA)}),Je&&Yi(B,Te),fe}function lt(B,M,j,Z){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case re:e:{for(var fe=j.key,_e=M;_e!==null;){if(_e.key===fe){if(fe=j.type,fe===k){if(_e.tag===7){a(B,_e.sibling),M=d(_e,j.props.children),M.return=B,B=M;break e}}else if(_e.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===xt&&Bm(fe)===_e.type){a(B,_e.sibling),M=d(_e,j.props),M.ref=Sa(B,_e,j),M.return=B,B=M;break e}a(B,_e);break}else s(B,_e);_e=_e.sibling}j.type===k?(M=ss(j.props.children,B.mode,Z,j.key),M.return=B,B=M):(Z=Nu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Sa(B,M,j),Z.return=B,B=Z)}return T(B);case ae:e:{for(_e=j.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(B,M.sibling),M=d(M,j.children||[]),M.return=B,B=M;break e}else{a(B,M);break}else s(B,M);M=M.sibling}M=mf(j,B.mode,Z),M.return=B,B=M}return T(B);case xt:return _e=j._init,lt(B,M,_e(j._payload),Z)}if(yr(j))return ce(B,M,j,Z);if(me(j))return he(B,M,j,Z);uu(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,M!==null&&M.tag===6?(a(B,M.sibling),M=d(M,j),M.return=B,B=M):(a(B,M),M=pf(j,B.mode,Z),M.return=B,B=M),T(B)):a(B,M)}return lt}var ro=jm(!0),zm=jm(!1),cu=ei(null),hu=null,io=null,Ah=null;function Sh(){Ah=io=hu=null}function Ih(r){var s=cu.current;Ke(cu),r._currentValue=s}function Rh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function so(r,s){hu=r,Ah=io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(Ah!==r)if(r={context:r,memoizedValue:s,next:null},io===null){if(hu===null)throw Error(t(308));io=r,hu.dependencies={lanes:0,firstContext:r}}else io=io.next=r;return s}var Ji=null;function Ph(r){Ji===null?Ji=[r]:Ji.push(r)}function $m(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Ph(s)):(a.next=d.next,d.next=a),s.interleaved=a,kr(r,h)}function kr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ri=!1;function Ch(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Oe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,kr(r,a)}return d=h.interleaved,d===null?(s.next=s,Ph(h)):(s.next=d.next,d.next=s),h.interleaved=s,kr(r,a)}function fu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}function Wm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function du(r,s,a,h){var d=r.updateQueue;ri=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var x=I,z=x.next;x.next=null,T===null?y=z:T.next=z,T=x;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==T&&(I===null?Y.firstBaseUpdate=z:I.next=z,Y.lastBaseUpdate=x))}if(y!==null){var J=d.baseState;T=0,Y=z=x=null,I=y;do{var X=I.lane,se=I.eventTime;if((h&X)===X){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=r,he=I;switch(X=s,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){J=ce.call(se,J,X);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(se,J,X):ce,X==null)break e;J=ie({},J,X);break e;case 2:ri=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[I]:X.push(I))}else se={eventTime:se,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(z=Y=se,x=J):Y=Y.next=se,T|=X;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;X=I,I=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Y===null&&(x=J),d.baseState=x,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,s=d.shared.interleaved,s!==null){d=s;do T|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);ts|=T,r.lanes=T,r.memoizedState=J}}function Hm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ia={},sr=ei(Ia),Ra=ei(Ia),Pa=ei(Ia);function Zi(r){if(r===Ia)throw Error(t(174));return r}function xh(r,s){switch(We(Pa,s),We(Ra,r),We(sr,Ia),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Ke(sr),We(sr,s)}function oo(){Ke(sr),Ke(Ra),Ke(Pa)}function Km(r){Zi(Pa.current);var s=Zi(sr.current),a=gt(s,r.type);s!==a&&(We(Ra,r),We(sr,a))}function kh(r){Ra.current===r&&(Ke(sr),Ke(Ra))}var Ze=ei(0);function pu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function Dh(){for(var r=0;r<Vh.length;r++)Vh[r]._workInProgressVersionPrimary=null;Vh.length=0}var mu=ne.ReactCurrentDispatcher,Nh=ne.ReactCurrentBatchConfig,es=0,et=null,_t=null,St=null,gu=!1,Ca=!1,xa=0,G0=0;function Ut(){throw Error(t(321))}function Mh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function Lh(r,s,a,h,d,y){if(es=y,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=r===null||r.memoizedState===null?J0:Z0,r=a(h,d),Ca){y=0;do{if(Ca=!1,xa=0,25<=y)throw Error(t(301));y+=1,St=_t=null,s.updateQueue=null,mu.current=eA,r=a(h,d)}while(Ca)}if(mu.current=vu,s=_t!==null&&_t.next!==null,es=0,St=_t=et=null,gu=!1,s)throw Error(t(300));return r}function Oh(){var r=xa!==0;return xa=0,r}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?et.memoizedState=St=r:St=St.next=r,St}function xn(){if(_t===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=St===null?et.memoizedState:St.next;if(s!==null)St=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?et.memoizedState=St=r:St=St.next=r}return St}function ka(r,s){return typeof s=="function"?s(r):s}function bh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=_t,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var I=T=null,x=null,z=y;do{var Y=z.lane;if((es&Y)===Y)x!==null&&(x=x.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};x===null?(I=x=J,T=h):x=x.next=J,et.lanes|=Y,ts|=Y}z=z.next}while(z!==null&&z!==y);x===null?T=h:x.next=I,$n(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,et.lanes|=y,ts|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Fh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);$n(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Gm(){}function Qm(r,s){var a=et,h=xn(),d=s(),y=!$n(h.memoizedState,d);if(y&&(h.memoizedState=d,rn=!0),h=h.queue,Uh(Jm.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Va(9,Ym.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));es&30||Xm(a,s,d)}return d}function Xm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Ym(r,s,a,h){s.value=a,s.getSnapshot=h,Zm(s)&&eg(r)}function Jm(r,s,a){return a(function(){Zm(s)&&eg(r)})}function Zm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function eg(r){var s=kr(r,1);s!==null&&Gn(s,r,1,-1)}function tg(r){var s=or();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},s.queue=r,r=r.dispatch=Y0.bind(null,et,r),[s.memoizedState,r]}function Va(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function ng(){return xn().memoizedState}function yu(r,s,a,h){var d=or();et.flags|=r,d.memoizedState=Va(1|s,a,void 0,h===void 0?null:h)}function _u(r,s,a,h){var d=xn();h=h===void 0?null:h;var y=void 0;if(_t!==null){var T=_t.memoizedState;if(y=T.destroy,h!==null&&Mh(h,T.deps)){d.memoizedState=Va(s,a,y,h);return}}et.flags|=r,d.memoizedState=Va(1|s,a,y,h)}function rg(r,s){return yu(8390656,8,r,s)}function Uh(r,s){return _u(2048,8,r,s)}function ig(r,s){return _u(4,2,r,s)}function sg(r,s){return _u(4,4,r,s)}function og(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ag(r,s,a){return a=a!=null?a.concat([r]):null,_u(4,4,og.bind(null,s,r),a)}function Bh(){}function lg(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Mh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function ug(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Mh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function cg(r,s,a){return es&21?($n(a,s)||(a=$i(),et.lanes|=a,ts|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function Q0(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Nh.transition;Nh.transition={};try{r(!1),s()}finally{ke=a,Nh.transition=h}}function hg(){return xn().memoizedState}function X0(r,s,a){var h=li(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},fg(r))dg(s,a);else if(a=$m(r,s,a,h),a!==null){var d=Xt();Gn(a,r,h,d),pg(a,s,h)}}function Y0(r,s,a){var h=li(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(fg(r))dg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,I=y(T,a);if(d.hasEagerState=!0,d.eagerState=I,$n(I,T)){var x=s.interleaved;x===null?(d.next=d,Ph(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=$m(r,s,d,h),a!==null&&(d=Xt(),Gn(a,r,h,d),pg(a,s,h))}}function fg(r){var s=r.alternate;return r===et||s!==null&&s===et}function dg(r,s){Ca=gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function pg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}var vu={readContext:Cn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},J0={readContext:Cn,useCallback:function(r,s){return or().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:rg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,yu(4194308,4,og.bind(null,s,r),a)},useLayoutEffect:function(r,s){return yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return yu(4,2,r,s)},useMemo:function(r,s){var a=or();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=or();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=X0.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=or();return r={current:r},s.memoizedState=r},useState:tg,useDebugValue:Bh,useDeferredValue:function(r){return or().memoizedState=r},useTransition:function(){var r=tg(!1),s=r[0];return r=Q0.bind(null,r[1]),or().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,d=or();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));es&30||Xm(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,rg(Jm.bind(null,h,y,r),[r]),h.flags|=2048,Va(9,Ym.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=or(),s=It.identifierPrefix;if(Je){var a=xr,h=Cr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=G0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Z0={readContext:Cn,useCallback:lg,useContext:Cn,useEffect:Uh,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:bh,useRef:ng,useState:function(){return bh(ka)},useDebugValue:Bh,useDeferredValue:function(r){var s=xn();return cg(s,_t.memoizedState,r)},useTransition:function(){var r=bh(ka)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Gm,useSyncExternalStore:Qm,useId:hg,unstable_isNewReconciler:!1},eA={readContext:Cn,useCallback:lg,useContext:Cn,useEffect:Uh,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:Fh,useRef:ng,useState:function(){return Fh(ka)},useDebugValue:Bh,useDeferredValue:function(r){var s=xn();return _t===null?s.memoizedState=r:cg(s,_t.memoizedState,r)},useTransition:function(){var r=Fh(ka)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Gm,useSyncExternalStore:Qm,useId:hg,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function jh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ie({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=Vr(h,d);y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Gn(s,r,d,h),fu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=Vr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Gn(s,r,d,h),fu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=li(r),d=Vr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ii(r,d,h),s!==null&&(Gn(s,r,h,a),fu(s,r,h))}};function mg(r,s,a,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!ya(a,h)||!ya(d,y):!0}function gg(r,s,a){var h=!1,d=ti,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(d=nn(s)?Qi:Ft.current,h=s.contextTypes,y=(h=h!=null)?Zs(r,d):ti),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function yg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&wu.enqueueReplaceState(s,s.state,null)}function zh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Ch(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=Cn(y):(y=nn(s)?Qi:Ft.current,d.context=Zs(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(jh(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&wu.enqueueReplaceState(d,d.state,null),du(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ao(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function $h(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function qh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function _g(r,s,a){a=Vr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Pu||(Pu=!0,of=h),qh(r,s)},a}function vg(r,s,a){a=Vr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){qh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){qh(r,s),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),a}function wg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new tA;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=mA.bind(null,r,s,a),s.then(r,r))}function Tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Eg(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Vr(-1,1),s.tag=2,ii(a,s,1))),a.lanes|=1),r)}var nA=ne.ReactCurrentOwner,rn=!1;function Qt(r,s,a,h){s.child=r===null?zm(s,null,a,h):ro(s,r.child,a,h)}function Ag(r,s,a,h,d){a=a.render;var y=s.ref;return so(s,d),h=Lh(r,s,a,h,y,d),a=Oh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Je&&a&&_h(s),s.flags|=1,Qt(r,s,h,d),s.child)}function Sg(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!df(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Ig(r,s,y,h,d)):(r=Nu(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&d)){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(T,h)&&r.ref===s.ref)return Dr(r,s,d)}return s.flags|=1,r=ci(y,h),r.ref=s.ref,r.return=s,s.child=r}function Ig(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(ya(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Dr(r,s,d)}return Wh(r,s,a,h,d)}function Rg(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(uo,_n),_n|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(uo,_n),_n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,We(uo,_n),_n|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,We(uo,_n),_n|=h;return Qt(r,s,d,a),s.child}function Pg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wh(r,s,a,h,d){var y=nn(a)?Qi:Ft.current;return y=Zs(s,y),so(s,d),a=Lh(r,s,a,h,y,d),h=Oh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Je&&h&&_h(s),s.flags|=1,Qt(r,s,a,d),s.child)}function Cg(r,s,a,h,d){if(nn(a)){var y=!0;iu(s)}else y=!1;if(so(s,d),s.stateNode===null)Eu(r,s),gg(s,a,h),zh(s,a,h,d),h=!0;else if(r===null){var T=s.stateNode,I=s.memoizedProps;T.props=I;var x=T.context,z=a.contextType;typeof z=="object"&&z!==null?z=Cn(z):(z=nn(a)?Qi:Ft.current,z=Zs(s,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof T.getSnapshotBeforeUpdate=="function";J||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==h||x!==z)&&yg(s,T,h,z),ri=!1;var X=s.memoizedState;T.state=X,du(s,h,T,d),x=s.memoizedState,I!==h||X!==x||tn.current||ri?(typeof Y=="function"&&(jh(s,a,Y,h),x=s.memoizedState),(I=ri||mg(s,a,I,h,X,x,z))?(J||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),T.props=h,T.state=x,T.context=z,h=I):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,qm(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:Wn(s.type,I),T.props=z,J=s.pendingProps,X=T.context,x=a.contextType,typeof x=="object"&&x!==null?x=Cn(x):(x=nn(a)?Qi:Ft.current,x=Zs(s,x));var se=a.getDerivedStateFromProps;(Y=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==J||X!==x)&&yg(s,T,h,x),ri=!1,X=s.memoizedState,T.state=X,du(s,h,T,d);var ce=s.memoizedState;I!==J||X!==ce||tn.current||ri?(typeof se=="function"&&(jh(s,a,se,h),ce=s.memoizedState),(z=ri||mg(s,a,z,h,X,ce,x)||!1)?(Y||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ce,x),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ce,x)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),T.props=h,T.state=ce,T.context=x,h=z):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return Hh(r,s,a,h,y,d)}function Hh(r,s,a,h,d,y){Pg(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return d&&Nm(s,a,!1),Dr(r,s,y);h=s.stateNode,nA.current=s;var I=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=ro(s,r.child,null,y),s.child=ro(s,null,I,y)):Qt(r,s,I,y),s.memoizedState=h.state,d&&Nm(s,a,!0),s.child}function xg(r){var s=r.stateNode;s.pendingContext?Vm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Vm(r,s.context,!1),xh(r,s.containerInfo)}function kg(r,s,a,h,d){return no(),Eh(d),s.flags|=256,Qt(r,s,a,h),s.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Gh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vg(r,s,a){var h=s.pendingProps,d=Ze.current,y=!1,T=(s.flags&128)!==0,I;if((I=T)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(Ze,d&1),r===null)return Th(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Mu(T,h,0,null),r=ss(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Gh(a),s.memoizedState=Kh,r):Qh(s,T));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return rA(r,s,T,h,I,d,a);if(y){y=h.fallback,T=s.mode,d=r.child,I=d.sibling;var x={mode:"hidden",children:h.children};return!(T&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=ci(d,x),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?y=ci(I,y):(y=ss(y,T,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Gh(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~a,s.memoizedState=Kh,h}return y=r.child,r=y.sibling,h=ci(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Qh(r,s){return s=Mu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Tu(r,s,a,h){return h!==null&&Eh(h),ro(s,r.child,null,a),r=Qh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rA(r,s,a,h,d,y,T){if(a)return s.flags&256?(s.flags&=-257,h=$h(Error(t(422))),Tu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Mu({mode:"visible",children:h.children},d,0,null),y=ss(y,d,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&ro(s,r.child,null,T),s.child.memoizedState=Gh(T),s.memoizedState=Kh,y);if(!(s.mode&1))return Tu(r,s,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,y=Error(t(419)),h=$h(y,h,void 0),Tu(r,s,T,h)}if(I=(T&r.childLanes)!==0,rn||I){if(h=It,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|T)?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,kr(r,d),Gn(h,r,d,-1))}return ff(),h=$h(Error(t(421))),Tu(r,s,T,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=gA.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,yn=Zr(d.nextSibling),gn=s,Je=!0,qn=null,r!==null&&(Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Xi,Cr=r.id,xr=r.overflow,Xi=s),s=Qh(s,h.children),s.flags|=4096,s)}function Dg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Rh(r.return,s,a)}function Xh(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Ng(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Qt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dg(r,a,s);else if(r.tag===19)Dg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Xh(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&pu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Xh(s,!0,a,null,y);break;case"together":Xh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ts|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ci(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ci(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function iA(r,s,a){switch(s.tag){case 3:xg(s),no();break;case 5:Km(s);break;case 1:nn(s.type)&&iu(s);break;case 4:xh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(cu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?Vg(r,s,a):(We(Ze,Ze.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Ng(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,Rg(r,s,a)}return Dr(r,s,a)}var Mg,Yh,Lg,Og;Mg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Yh=function(){},Lg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Zi(sr.current);var y=null;switch(a){case"input":d=Di(r,d),h=Di(r,h),y=[];break;case"select":d=ie({},d,{value:void 0}),h=ie({},h,{value:void 0}),y=[];break;case"textarea":d=Ho(r,d),h=Ho(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=tu)}Jo(a,h);var T;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(T in I)I.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var x=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&x!==I&&(x!=null||I!=null))if(z==="style")if(I){for(T in I)!I.hasOwnProperty(T)||x&&x.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in x)x.hasOwnProperty(T)&&I[T]!==x[T]&&(a||(a={}),a[T]=x[T])}else a||(y||(y=[]),y.push(z,a)),a=x;else z==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(y=y||[]).push(z,x)):z==="children"?typeof x!="string"&&typeof x!="number"||(y=y||[]).push(z,""+x):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(x!=null&&z==="onScroll"&&He("scroll",r),y||I===x||(y=[])):(y=y||[]).push(z,x))}a&&(y=y||[]).push("style",a);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},Og=function(r,s,a,h){a!==h&&(s.flags|=4)};function Da(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function sA(r,s,a){var h=s.pendingProps;switch(vh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&ru(),Bt(s),null;case 3:return h=s.stateNode,oo(),Ke(tn),Ke(Ft),Dh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(lu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qn!==null&&(uf(qn),qn=null))),Yh(r,s),Bt(s),null;case 5:kh(s);var d=Zi(Pa.current);if(a=s.type,r!==null&&s.stateNode!=null)Lg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Zi(sr.current),lu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[ir]=s,h[Ea]=y,r=(s.mode&1)!==0,a){case"dialog":He("cancel",h),He("close",h);break;case"iframe":case"object":case"embed":He("load",h);break;case"video":case"audio":for(d=0;d<va.length;d++)He(va[d],h);break;case"source":He("error",h);break;case"img":case"image":case"link":He("error",h),He("load",h);break;case"details":He("toggle",h);break;case"input":Ts(h,y),He("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},He("invalid",h);break;case"textarea":As(h,y),He("invalid",h)}Jo(a,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var I=y[T];T==="children"?typeof I=="string"?h.textContent!==I&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&eu(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(T)&&I!=null&&T==="onScroll"&&He("scroll",h)}switch(a){case"input":gr(h),Rl(h,y,!0);break;case"textarea":gr(h),Ko(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=tu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(a,{is:h.is}):(r=T.createElement(a),a==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,a),r[ir]=s,r[Ea]=h,Mg(r,s,!1,!1),s.stateNode=r;e:{switch(T=Zo(a,h),a){case"dialog":He("cancel",r),He("close",r),d=h;break;case"iframe":case"object":case"embed":He("load",r),d=h;break;case"video":case"audio":for(d=0;d<va.length;d++)He(va[d],r);d=h;break;case"source":He("error",r),d=h;break;case"img":case"image":case"link":He("error",r),He("load",r),d=h;break;case"details":He("toggle",r),d=h;break;case"input":Ts(r,h),d=Di(r,h),He("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ie({},h,{value:void 0}),He("invalid",r);break;case"textarea":As(r,h),d=Ho(r,h),He("invalid",r);break;default:d=h}Jo(a,d),I=d;for(y in I)if(I.hasOwnProperty(y)){var x=I[y];y==="style"?Xo(r,x):y==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Go(r,x)):y==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&zr(r,x):typeof x=="number"&&zr(r,""+x):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?x!=null&&y==="onScroll"&&He("scroll",r):x!=null&&Q(r,y,x,T))}switch(a){case"input":gr(r),Rl(r,h,!1);break;case"textarea":gr(r),Ko(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?_r(r,!!h.multiple,y,!1):h.defaultValue!=null&&_r(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=tu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)Og(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Zi(Pa.current),Zi(sr.current),lu(s)){if(h=s.stateNode,a=s.memoizedProps,h[ir]=s,(y=h.nodeValue!==a)&&(r=gn,r!==null))switch(r.tag){case 3:eu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&eu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ir]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ke(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&yn!==null&&s.mode&1&&!(s.flags&128))Um(),no(),s.flags|=98560,y=!1;else if(y=lu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ir]=s}else no(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else qn!==null&&(uf(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?vt===0&&(vt=3):ff())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return oo(),Yh(r,s),r===null&&wa(s.stateNode.containerInfo),Bt(s),null;case 10:return Ih(s.type._context),Bt(s),null;case 17:return nn(s.type)&&ru(),Bt(s),null;case 19:if(Ke(Ze),y=s.memoizedState,y===null)return Bt(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)Da(y,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(T=pu(r),T!==null){for(s.flags|=128,Da(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}r=r.sibling}y.tail!==null&&qe()>co&&(s.flags|=128,h=!0,Da(y,!1),s.lanes=4194304)}else{if(!h)if(r=pu(T),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Da(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Je)return Bt(s),null}else 2*qe()-y.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,h=!0,Da(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(a=y.last,a!==null?a.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,a=Ze.current,We(Ze,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return hf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?_n&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function oA(r,s){switch(vh(s),s.tag){case 1:return nn(s.type)&&ru(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return oo(),Ke(tn),Ke(Ft),Dh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return kh(s),null;case 13:if(Ke(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));no()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ze),null;case 4:return oo(),null;case 10:return Ih(s.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var Au=!1,jt=!1,aA=typeof WeakSet=="function"?WeakSet:Set,le=null;function lo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function Jh(r,s,a){try{a()}catch(h){rt(r,s,h)}}var bg=!1;function lA(r,s){if(ch=Xr,r=mm(),nh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,I=-1,x=-1,z=0,Y=0,J=r,X=null;t:for(;;){for(var se;J!==a||d!==0&&J.nodeType!==3||(I=T+d),J!==y||h!==0&&J.nodeType!==3||(x=T+h),J.nodeType===3&&(T+=J.nodeValue.length),(se=J.firstChild)!==null;)X=J,J=se;for(;;){if(J===r)break t;if(X===a&&++z===d&&(I=T),X===y&&++Y===h&&(x=T),(se=J.nextSibling)!==null)break;J=X,X=J.parentNode}J=se}a=I===-1||x===-1?null:{start:I,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:r,selectionRange:a},Xr=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,lt=ce.memoizedState,B=s.stateNode,M=B.getSnapshotBeforeUpdate(s.elementType===s.type?he:Wn(s.type,he),lt);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ce=bg,bg=!1,ce}function Na(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Jh(s,a,y)}d=d.next}while(d!==h)}}function Su(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Zh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Fg(r){var s=r.alternate;s!==null&&(r.alternate=null,Fg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ir],delete s[Ea],delete s[mh],delete s[q0],delete s[W0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ug(r){return r.tag===5||r.tag===3||r.tag===4}function Bg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ug(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ef(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=tu));else if(h!==4&&(r=r.child,r!==null))for(ef(r,s,a),r=r.sibling;r!==null;)ef(r,s,a),r=r.sibling}function tf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(tf(r,s,a),r=r.sibling;r!==null;)tf(r,s,a),r=r.sibling}var Dt=null,Hn=!1;function si(r,s,a){for(a=a.child;a!==null;)jg(r,s,a),a=a.sibling}function jg(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 5:jt||lo(a,s);case 6:var h=Dt,d=Hn;Dt=null,si(r,s,a),Dt=h,Hn=d,Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?ph(r.parentNode,a):r.nodeType===1&&ph(r,a),jn(r)):ph(Dt,a.stateNode));break;case 4:h=Dt,d=Hn,Dt=a.stateNode.containerInfo,Hn=!0,si(r,s,a),Dt=h,Hn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&Jh(a,s,T),d=d.next}while(d!==h)}si(r,s,a);break;case 1:if(!jt&&(lo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){rt(a,s,I)}si(r,s,a);break;case 21:si(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,si(r,s,a),jt=h):si(r,s,a);break;default:si(r,s,a)}}function zg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new aA),s.forEach(function(h){var d=yA.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Kn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Hn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Hn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Hn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));jg(y,T,d),Dt=null,Hn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(z){rt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$g(s,r),s=s.sibling}function $g(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),ar(r),h&4){try{Na(3,r,r.return),Su(3,r)}catch(he){rt(r,r.return,he)}try{Na(5,r,r.return)}catch(he){rt(r,r.return,he)}}break;case 1:Kn(s,r),ar(r),h&512&&a!==null&&lo(a,a.return);break;case 5:if(Kn(s,r),ar(r),h&512&&a!==null&&lo(a,a.return),r.flags&32){var d=r.stateNode;try{zr(d,"")}catch(he){rt(r,r.return,he)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=a!==null?a.memoizedProps:y,I=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&qo(d,y),Zo(I,T);var z=Zo(I,y);for(T=0;T<x.length;T+=2){var Y=x[T],J=x[T+1];Y==="style"?Xo(d,J):Y==="dangerouslySetInnerHTML"?Go(d,J):Y==="children"?zr(d,J):Q(d,Y,J,z)}switch(I){case"input":Wo(d,y);break;case"textarea":Ss(d,y);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var se=y.value;se!=null?_r(d,!!y.multiple,se,!1):X!==!!y.multiple&&(y.defaultValue!=null?_r(d,!!y.multiple,y.defaultValue,!0):_r(d,!!y.multiple,y.multiple?[]:"",!1))}d[Ea]=y}catch(he){rt(r,r.return,he)}}break;case 6:if(Kn(s,r),ar(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(he){rt(r,r.return,he)}}break;case 3:if(Kn(s,r),ar(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(he){rt(r,r.return,he)}break;case 4:Kn(s,r),ar(r);break;case 13:Kn(s,r),ar(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(sf=qe())),h&4&&zg(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||Y,Kn(s,r),jt=z):Kn(s,r),ar(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Y&&r.mode&1)for(le=r,Y=r.child;Y!==null;){for(J=le=Y;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:Na(4,X,X.return);break;case 1:lo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){rt(h,a,he)}}break;case 5:lo(X,X.return);break;case 22:if(X.memoizedState!==null){Hg(J);continue}}se!==null?(se.return=X,le=se):Hg(J)}Y=Y.sibling}e:for(Y=null,J=r;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,z?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=J.stateNode,x=J.memoizedProps.style,T=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=Qo("display",T))}catch(he){rt(r,r.return,he)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(he){rt(r,r.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Kn(s,r),ar(r),h&4&&zg(r);break;case 21:break;default:Kn(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Ug(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(zr(d,""),h.flags&=-33);var y=Bg(r);tf(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,I=Bg(r);ef(r,I,T);break;default:throw Error(t(161))}}catch(x){rt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function uA(r,s,a){le=r,qg(r)}function qg(r,s,a){for(var h=(r.mode&1)!==0;le!==null;){var d=le,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||Au;if(!T){var I=d.alternate,x=I!==null&&I.memoizedState!==null||jt;I=Au;var z=jt;if(Au=T,(jt=x)&&!z)for(le=d;le!==null;)T=le,x=T.child,T.tag===22&&T.memoizedState!==null?Kg(d):x!==null?(x.return=T,le=x):Kg(d);for(;y!==null;)le=y,qg(y),y=y.sibling;le=d,Au=I,jt=z}Wg(r)}else d.subtreeFlags&8772&&y!==null?(y.return=d,le=y):Wg(r)}}function Wg(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||Su(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Wn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Hm(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Hm(s,T,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&jn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Zh(s)}catch(X){rt(s,s.return,X)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Hg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Kg(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Su(4,s)}catch(x){rt(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(x){rt(s,d,x)}}var y=s.return;try{Zh(s)}catch(x){rt(s,y,x)}break;case 5:var T=s.return;try{Zh(s)}catch(x){rt(s,T,x)}}}catch(x){rt(s,s.return,x)}if(s===r){le=null;break}var I=s.sibling;if(I!==null){I.return=s.return,le=I;break}le=s.return}}var cA=Math.ceil,Iu=ne.ReactCurrentDispatcher,nf=ne.ReactCurrentOwner,kn=ne.ReactCurrentBatchConfig,Oe=0,It=null,ft=null,Nt=0,_n=0,uo=ei(0),vt=0,Ma=null,ts=0,Ru=0,rf=0,La=null,sn=null,sf=0,co=1/0,Nr=null,Pu=!1,of=null,oi=null,Cu=!1,ai=null,xu=0,Oa=0,af=null,ku=-1,Vu=0;function Xt(){return Oe&6?qe():ku!==-1?ku:ku=qe()}function li(r){return r.mode&1?Oe&2&&Nt!==0?Nt&-Nt:K0.transition!==null?(Vu===0&&(Vu=$i()),Vu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:ca(r.type)),r):1}function Gn(r,s,a,h){if(50<Oa)throw Oa=0,af=null,Error(t(185));Hr(r,a,h),(!(Oe&2)||r!==It)&&(r===It&&(!(Oe&2)&&(Ru|=a),vt===4&&ui(r,Nt)),on(r,h),a===1&&Oe===0&&!(s.mode&1)&&(co=qe()+500,su&&ni()))}function on(r,s){var a=r.callbackNode;Tr(r,s);var h=zi(r,r===It?Nt:0);if(h===0)a!==null&&sa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&sa(a),s===1)r.tag===0?H0(Qg.bind(null,r)):Mm(Qg.bind(null,r)),z0(function(){!(Oe&6)&&ni()}),a=null;else{switch(Gr(h)){case 1:a=Bi;break;case 4:a=$r;break;case 16:a=An;break;case 536870912:a=Vl;break;default:a=An}a=ry(a,Gg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Gg(r,s){if(ku=-1,Vu=0,Oe&6)throw Error(t(327));var a=r.callbackNode;if(ho()&&r.callbackNode!==a)return null;var h=zi(r,r===It?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Du(r,h);else{s=h;var d=Oe;Oe|=2;var y=Yg();(It!==r||Nt!==s)&&(Nr=null,co=qe()+500,rs(r,s));do try{dA();break}catch(I){Xg(r,I)}while(!0);Sh(),Iu.current=y,Oe=d,ft!==null?s=0:(It=null,Nt=0,s=vt)}if(s!==0){if(s===2&&(d=dn(r),d!==0&&(h=d,s=lf(r,d))),s===1)throw a=Ma,rs(r,0),ui(r,h),on(r,qe()),a;if(s===6)ui(r,h);else{if(d=r.current.alternate,!(h&30)&&!hA(d)&&(s=Du(r,h),s===2&&(y=dn(r),y!==0&&(h=y,s=lf(r,y))),s===1))throw a=Ma,rs(r,0),ui(r,h),on(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:is(r,sn,Nr);break;case 3:if(ui(r,h),(h&130023424)===h&&(s=sf+500-qe(),10<s)){if(zi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=dh(is.bind(null,r,sn,Nr),s);break}is(r,sn,Nr);break;case 4:if(ui(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var T=31-Kt(h);y=1<<T,T=s[T],T>d&&(d=T),h&=~y}if(h=d,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*cA(h/1960))-h,10<h){r.timeoutHandle=dh(is.bind(null,r,sn,Nr),h);break}is(r,sn,Nr);break;case 5:is(r,sn,Nr);break;default:throw Error(t(329))}}}return on(r,qe()),r.callbackNode===a?Gg.bind(null,r):null}function lf(r,s){var a=La;return r.current.memoizedState.isDehydrated&&(rs(r,s).flags|=256),r=Du(r,s),r!==2&&(s=sn,sn=a,s!==null&&uf(s)),r}function uf(r){sn===null?sn=r:sn.push.apply(sn,r)}function hA(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!$n(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(r,s){for(s&=~rf,s&=~Ru,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function Qg(r){if(Oe&6)throw Error(t(327));ho();var s=zi(r,0);if(!(s&1))return on(r,qe()),null;var a=Du(r,s);if(r.tag!==0&&a===2){var h=dn(r);h!==0&&(s=h,a=lf(r,h))}if(a===1)throw a=Ma,rs(r,0),ui(r,s),on(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,is(r,sn,Nr),on(r,qe()),null}function cf(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(co=qe()+500,su&&ni())}}function ns(r){ai!==null&&ai.tag===0&&!(Oe&6)&&ho();var s=Oe;Oe|=1;var a=kn.transition,h=ke;try{if(kn.transition=null,ke=1,r)return r()}finally{ke=h,kn.transition=a,Oe=s,!(Oe&6)&&ni()}}function hf(){_n=uo.current,Ke(uo)}function rs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,j0(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(vh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ru();break;case 3:oo(),Ke(tn),Ke(Ft),Dh();break;case 5:kh(h);break;case 4:oo();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Ih(h.type._context);break;case 22:case 23:hf()}a=a.return}if(It=r,ft=r=ci(r.current,null),Nt=_n=s,vt=0,Ma=null,rf=Ru=ts=0,sn=La=null,Ji!==null){for(s=0;s<Ji.length;s++)if(a=Ji[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}a.pending=h}Ji=null}return r}function Xg(r,s){do{var a=ft;try{if(Sh(),mu.current=vu,gu){for(var h=et.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}gu=!1}if(es=0,St=_t=et=null,Ca=!1,xa=0,nf.current=null,a===null||a.return===null){vt=1,Ma=s,ft=null;break}e:{var y=r,T=a.return,I=a,x=s;if(s=Nt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=x,Y=I,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Tg(T);if(se!==null){se.flags&=-257,Eg(se,T,I,y,s),se.mode&1&&wg(y,z,s),s=se,x=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(x),s.updateQueue=he}else ce.add(x);break e}else{if(!(s&1)){wg(y,z,s),ff();break e}x=Error(t(426))}}else if(Je&&I.mode&1){var lt=Tg(T);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Eg(lt,T,I,y,s),Eh(ao(x,I));break e}}y=x=ao(x,I),vt!==4&&(vt=2),La===null?La=[y]:La.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=_g(y,x,s);Wm(y,B);break e;case 1:I=x;var M=y.type,j=y.stateNode;if(!(y.flags&128)&&(typeof M.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(oi===null||!oi.has(j)))){y.flags|=65536,s&=-s,y.lanes|=s;var Z=vg(y,I,s);Wm(y,Z);break e}}y=y.return}while(y!==null)}Zg(a)}catch(fe){s=fe,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Yg(){var r=Iu.current;return Iu.current=vu,r===null?vu:r}function ff(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||!(ts&268435455)&&!(Ru&268435455)||ui(It,Nt)}function Du(r,s){var a=Oe;Oe|=2;var h=Yg();(It!==r||Nt!==s)&&(Nr=null,rs(r,s));do try{fA();break}catch(d){Xg(r,d)}while(!0);if(Sh(),Oe=a,Iu.current=h,ft!==null)throw Error(t(261));return It=null,Nt=0,vt}function fA(){for(;ft!==null;)Jg(ft)}function dA(){for(;ft!==null&&!xl();)Jg(ft)}function Jg(r){var s=ny(r.alternate,r,_n);r.memoizedProps=r.pendingProps,s===null?Zg(r):ft=s,nf.current=null}function Zg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=oA(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,ft=null;return}}else if(a=sA(a,s,_n),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);vt===0&&(vt=5)}function is(r,s,a){var h=ke,d=kn.transition;try{kn.transition=null,ke=1,pA(r,s,a,h)}finally{kn.transition=d,ke=h}return null}function pA(r,s,a,h){do ho();while(ai!==null);if(Oe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ze(r,y),r===It&&(ft=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Cu||(Cu=!0,ry(An,function(){return ho(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=kn.transition,kn.transition=null;var T=ke;ke=1;var I=Oe;Oe|=4,nf.current=null,lA(r,a),$g(a,r),M0(hh),Xr=!!ch,hh=ch=null,r.current=a,uA(a),Gc(),Oe=I,ke=T,kn.transition=y}else r.current=a;if(Cu&&(Cu=!1,ai=r,xu=d),y=r.pendingLanes,y===0&&(oi=null),Dl(a.stateNode),on(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Pu)throw Pu=!1,r=of,of=null,r;return xu&1&&r.tag!==0&&ho(),y=r.pendingLanes,y&1?r===af?Oa++:(Oa=0,af=r):Oa=0,ni(),null}function ho(){if(ai!==null){var r=Gr(xu),s=kn.transition,a=ke;try{if(kn.transition=null,ke=16>r?16:r,ai===null)var h=!1;else{if(r=ai,ai=null,xu=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,le=r.current;le!==null;){var y=le,T=y.child;if(le.flags&16){var I=y.deletions;if(I!==null){for(var x=0;x<I.length;x++){var z=I[x];for(le=z;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Na(8,Y,y)}var J=Y.child;if(J!==null)J.return=Y,le=J;else for(;le!==null;){Y=le;var X=Y.sibling,se=Y.return;if(Fg(Y),Y===z){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ce=y.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}le=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,le=T;else e:for(;le!==null;){if(y=le,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Na(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,le=B;break e}le=y.return}}var M=r.current;for(le=M;le!==null;){T=le;var j=T.child;if(T.subtreeFlags&2064&&j!==null)j.return=T,le=j;else e:for(T=M;le!==null;){if(I=le,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Su(9,I)}}catch(fe){rt(I,I.return,fe)}if(I===T){le=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,le=Z;break e}le=I.return}}if(Oe=d,ni(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ji,r)}catch{}h=!0}return h}finally{ke=a,kn.transition=s}}return!1}function ey(r,s,a){s=ao(a,s),s=_g(r,s,1),r=ii(r,s,1),s=Xt(),r!==null&&(Hr(r,1,s),on(r,s))}function rt(r,s,a){if(r.tag===3)ey(r,r,a);else for(;s!==null;){if(s.tag===3){ey(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))){r=ao(a,r),r=vg(s,r,1),s=ii(s,r,1),r=Xt(),s!==null&&(Hr(s,1,r),on(s,r));break}}s=s.return}}function mA(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>qe()-sf?rs(r,0):rf|=a),on(r,s)}function ty(r,s){s===0&&(r.mode&1?(s=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):s=1);var a=Xt();r=kr(r,s),r!==null&&(Hr(r,s,a),on(r,a))}function gA(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ty(r,a)}function yA(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ty(r,a)}var ny;ny=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,iA(r,s,a);rn=!!(r.flags&131072)}else rn=!1,Je&&s.flags&1048576&&Lm(s,au,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Eu(r,s),r=s.pendingProps;var d=Zs(s,Ft.current);so(s,a),d=Lh(null,s,h,r,d,a);var y=Oh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,iu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ch(s),d.updater=wu,s.stateNode=d,d._reactInternals=s,zh(s,h,r,a),s=Hh(null,s,h,!0,y,a)):(s.tag=0,Je&&y&&_h(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Eu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=vA(h),r=Wn(h,r),d){case 0:s=Wh(null,s,h,r,a);break e;case 1:s=Cg(null,s,h,r,a);break e;case 11:s=Ag(null,s,h,r,a);break e;case 14:s=Sg(null,s,h,Wn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Wh(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Cg(r,s,h,d,a);case 3:e:{if(xg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,qm(r,s),du(s,h,null,a);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=ao(Error(t(423)),s),s=kg(r,s,h,a,d);break e}else if(h!==d){d=ao(Error(t(424)),s),s=kg(r,s,h,a,d);break e}else for(yn=Zr(s.stateNode.containerInfo.firstChild),gn=s,Je=!0,qn=null,a=zm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),h===d){s=Dr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Km(s),r===null&&Th(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,fh(h,d)?T=null:y!==null&&fh(h,y)&&(s.flags|=32),Pg(r,s),Qt(r,s,T,a),s.child;case 6:return r===null&&Th(s),null;case 13:return Vg(r,s,a);case 4:return xh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ro(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Ag(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,T=d.value,We(cu,h._currentValue),h._currentValue=T,y!==null)if($n(y.value,T)){if(y.children===d.children&&!tn.current){s=Dr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var I=y.dependencies;if(I!==null){T=y.child;for(var x=I.firstContext;x!==null;){if(x.context===h){if(y.tag===1){x=Vr(-1,a&-a),x.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),z.pending=x}}y.lanes|=a,x=y.alternate,x!==null&&(x.lanes|=a),Rh(y.return,a,s),I.lanes|=a;break}x=x.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=a,I=T.alternate,I!==null&&(I.lanes|=a),Rh(T,a,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,so(s,a),d=Cn(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=Wn(h,s.pendingProps),d=Wn(h.type,d),Sg(r,s,h,d,a);case 15:return Ig(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Eu(r,s),s.tag=1,nn(h)?(r=!0,iu(s)):r=!1,so(s,a),gg(s,h,d),zh(s,h,d,a),Hh(null,s,h,!0,r,a);case 19:return Ng(r,s,a);case 22:return Rg(r,s,a)}throw Error(t(156,s.tag))};function ry(r,s){return Ds(r,s)}function _A(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,a,h){return new _A(r,s,a,h)}function df(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vA(r){if(typeof r=="function")return df(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ct)return 14}return 2}function ci(r,s){var a=r.alternate;return a===null?(a=Vn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Nu(r,s,a,h,d,y){var T=2;if(h=r,typeof r=="function")df(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case k:return ss(a.children,d,y,s);case S:T=8,d|=8;break;case P:return r=Vn(12,a,s,d|2),r.elementType=P,r.lanes=y,r;case C:return r=Vn(13,a,s,d),r.elementType=C,r.lanes=y,r;case Xe:return r=Vn(19,a,s,d),r.elementType=Xe,r.lanes=y,r;case Se:return Mu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case L:T=9;break e;case F:T=11;break e;case Ct:T=14;break e;case xt:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(T,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function ss(r,s,a,h){return r=Vn(7,r,h,s),r.lanes=a,r}function Mu(r,s,a,h){return r=Vn(22,r,h,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function pf(r,s,a){return r=Vn(6,r,null,s),r.lanes=a,r}function mf(r,s,a){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function wA(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gf(r,s,a,h,d,y,T,I,x){return r=new wA(r,s,a,I,x),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Vn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(y),r}function TA(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function iy(r){if(!r)return ti;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Dm(r,a,s)}return s}function sy(r,s,a,h,d,y,T,I,x){return r=gf(a,h,!0,r,d,y,T,I,x),r.context=iy(null),a=r.current,h=Xt(),d=li(a),y=Vr(h,d),y.callback=s??null,ii(a,y,d),r.current.lanes=d,Hr(r,d,h),on(r,h),r}function Lu(r,s,a,h){var d=s.current,y=Xt(),T=li(d);return a=iy(a),s.context===null?s.context=a:s.pendingContext=a,s=Vr(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ii(d,s,T),r!==null&&(Gn(r,d,T,y),fu(r,d,T)),T}function Ou(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function oy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function yf(r,s){oy(r,s),(r=r.alternate)&&oy(r,s)}var ay=typeof reportError=="function"?reportError:function(r){console.error(r)};function _f(r){this._internalRoot=r}bu.prototype.render=_f.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Lu(r,s,null,null)},bu.prototype.unmount=_f.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ns(function(){Lu(null,r,null,null)}),s[Rr]=null}};function bu(r){this._internalRoot=r}bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=bl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Bl(r)}};function vf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ly(){}function EA(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var z=Ou(T);y.call(z)}}var T=sy(s,h,r,0,null,!1,!1,"",ly);return r._reactRootContainer=T,r[Rr]=T.current,wa(r.nodeType===8?r.parentNode:r),ns(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=Ou(x);I.call(z)}}var x=gf(r,0,!1,null,null,!1,!1,"",ly);return r._reactRootContainer=x,r[Rr]=x.current,wa(r.nodeType===8?r.parentNode:r),ns(function(){Lu(s,x,a,h)}),x}function Uu(r,s,a,h,d){var y=a._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var I=d;d=function(){var x=Ou(T);I.call(x)}}Lu(s,T,r,d)}else T=EA(a,s,r,d,h);return Ou(T)}Ll=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=qr(s.pendingLanes);a!==0&&(Kr(s,a|1),on(s,qe()),!(Oe&6)&&(co=qe()+500,ni()))}break;case 13:ns(function(){var h=kr(r,1);if(h!==null){var d=Xt();Gn(h,r,1,d)}}),yf(r,1)}},Ls=function(r){if(r.tag===13){var s=kr(r,134217728);if(s!==null){var a=Xt();Gn(s,r,134217728,a)}yf(r,134217728)}},Ol=function(r){if(r.tag===13){var s=li(r),a=kr(r,s);if(a!==null){var h=Xt();Gn(a,r,s,h)}yf(r,s)}},bl=function(){return ke},Fl=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},Rs=function(r,s,a){switch(s){case"input":if(Wo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=nu(h);if(!d)throw Error(t(90));ws(h),Wo(h,d)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&_r(r,!!a.multiple,s,!1)}},Oi=cf,ta=ns;var AA={usingClientEntryPoint:!1,Events:[Aa,Ys,nu,Jn,ea,cf]},ba={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SA={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ia(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{ji=Bu.inject(SA),fn=Bu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vf(s))throw Error(t(200));return TA(r,s,null,a)},an.createRoot=function(r,s){if(!vf(r))throw Error(t(299));var a=!1,h="",d=ay;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=gf(r,1,!1,null,null,a,!1,h,d),r[Rr]=s.current,wa(r.nodeType===8?r.parentNode:r),new _f(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ia(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return ns(r)},an.hydrate=function(r,s,a){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!vf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",T=ay;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),s=sy(s,null,r,1,a??null,d,!1,y,T),r[Rr]=s.current,wa(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new bu(s)},an.render=function(r,s,a){if(!Fu(s))throw Error(t(200));return Uu(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(t(40));return r._reactRootContainer?(ns(function(){Uu(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},an.unstable_batchedUpdates=cf,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Fu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Uu(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var gy;function DA(){if(gy)return Ef.exports;gy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ef.exports=VA(),Ef.exports}var yy;function NA(){if(yy)return ju;yy=1;var n=DA();return ju.createRoot=n.createRoot,ju.hydrateRoot=n.hydrateRoot,ju}var MA=NA();function Gf({children:n}){return de.jsx("div",{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:n})}function Uv({children:n,onClick:e}){return de.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white",onClick:e,children:n})}function Bv({value:n,onChange:e,placeholder:t}){return de.jsx("textarea",{className:"w-full p-2 rounded-lg bg-purple-700 text-white resize-none",value:n,onChange:e,placeholder:t,rows:"4"})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=pe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>pe.createElement("svg",{ref:p,...OA,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:jv("lucide",o),...f},[...u.map(([g,_])=>pe.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=(n,e)=>{const t=pe.forwardRef(({className:i,...o},l)=>pe.createElement(bA,{ref:l,iconNode:e,className:jv(`lucide-${LA(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],BA=FA("Upload",UA),zv=pe.createContext({});function jA(n){const e=pe.useRef(null);return e.current===null&&(e.current=n()),e.current}const Od=pe.createContext(null),$v=pe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function zA(n=!0){const e=pe.useContext(Od);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=pe.useId();pe.useEffect(()=>{n&&o(l)},[n]);const u=pe.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,u]:[!0]}const bd=typeof window<"u",$A=bd?pe.useLayoutEffect:pe.useEffect,Tn=n=>n;let Qf=Tn;function Fd(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ao=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Mr=n=>n*1e3,Lr=n=>n/1e3,qA={skipAnimations:!1,useManualTiming:!1};function WA(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),n()),g(u)}const p={schedule:(g,_=!1,w=!1)=>{const R=w&&i?e:t;return _&&l.add(g),R.has(g)||R.add(g),g},cancel:g=>{t.delete(g),l.delete(g)},process:g=>{if(u=g,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const zu=["read","resolveKeyframes","update","preRender","render","postRender"],HA=40;function qv(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=zu.reduce((q,H)=>(q[H]=WA(l),q),{}),{read:f,resolveKeyframes:p,update:g,preRender:_,render:w,postRender:E}=u,R=()=>{const q=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,HA),1),o.timestamp=q,o.isProcessing=!0,f.process(o),p.process(o),g.process(o),_.process(o),w.process(o),E.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(R))},O=()=>{t=!0,i=!0,o.isProcessing||n(R)};return{schedule:zu.reduce((q,H)=>{const Q=u[H];return q[H]=(ne,re=!1,ae=!1)=>(t||O(),Q.schedule(ne,re,ae)),q},{}),cancel:q=>{for(let H=0;H<zu.length;H++)u[zu[H]].cancel(q)},state:o,steps:u}}const{schedule:Qe,cancel:Ti,state:Mt,steps:If}=qv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0),Wv=pe.createContext({strict:!1}),_y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const n in _y)So[n]={isEnabled:e=>_y[n].some(t=>!!e[t])};function KA(n){for(const e in n)So[e]={...So[e],...n[e]}}const GA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||GA.has(n)}let Hv=n=>!lc(n);function QA(n){n&&(Hv=e=>e.startsWith("on")?!lc(e):n(e))}try{QA(require("@emotion/is-prop-valid").default)}catch{}function XA(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(Hv(o)||t===!0&&lc(o)||!e&&!lc(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function YA(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Rc=pe.createContext({});function rl(n){return typeof n=="string"||Array.isArray(n)}function Pc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ud=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bd=["initial",...Ud];function Cc(n){return Pc(n.animate)||Bd.some(e=>rl(n[e]))}function Kv(n){return!!(Cc(n)||n.variants)}function JA(n,e){if(Cc(n)){const{initial:t,animate:i}=n;return{initial:t===!1||rl(t)?t:void 0,animate:rl(i)?i:void 0}}return n.inherit!==!1?e:{}}function ZA(n){const{initial:e,animate:t}=JA(n,pe.useContext(Rc));return pe.useMemo(()=>({initial:e,animate:t}),[vy(e),vy(t)])}function vy(n){return Array.isArray(n)?n.join(" "):n}const eS=Symbol.for("motionComponentSymbol");function yo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function tS(n,e,t){return pe.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yo(t)&&(t.current=i))},[e])}const jd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nS="framerAppearId",Gv="data-"+jd(nS),{schedule:zd,cancel:g2}=qv(queueMicrotask,!1),Qv=pe.createContext({});function rS(n,e,t,i,o){var l,u;const{visualElement:f}=pe.useContext(Rc),p=pe.useContext(Wv),g=pe.useContext(Od),_=pe.useContext($v).reducedMotion,w=pe.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:_}));const E=w.current,R=pe.useContext(Qv);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&iS(w.current,t,o,R);const O=pe.useRef(!1);pe.useInsertionEffect(()=>{E&&O.current&&E.update(t,g)});const D=t[Gv],N=pe.useRef(!!D&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,D))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,D)));return $A(()=>{E&&(O.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),zd.render(E.render),N.current&&E.animationState&&E.animationState.animateChanges())}),pe.useEffect(()=>{E&&(!N.current&&E.animationState&&E.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,D)}),N.current=!1))}),E}function iS(n,e,t,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Xv(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&yo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function Xv(n){if(n)return n.options.allowProjection!==!1?n.projection:Xv(n.parent)}function sS({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,u;n&&KA(n);function f(g,_){let w;const E={...pe.useContext($v),...g,layoutId:oS(g)},{isStatic:R}=E,O=ZA(g),D=i(g,R);if(!R&&bd){aS();const N=lS(E);w=N.MeasureLayout,O.visualElement=rS(o,D,E,e,N.ProjectionNode)}return de.jsxs(Rc.Provider,{value:O,children:[w&&O.visualElement?de.jsx(w,{visualElement:O.visualElement,...E}):null,t(o,g,tS(D,O.visualElement,_),D,R,O.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const p=pe.forwardRef(f);return p[eS]=o,p}function oS({layoutId:n}){const e=pe.useContext(zv).id;return e&&n!==void 0?e+"-"+n:n}function aS(n,e){pe.useContext(Wv).strict}function lS(n){const{drag:e,layout:t}=So;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const uS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $d(n){return typeof n!="string"||n.includes("-")?!1:!!(uS.indexOf(n)>-1||/[A-Z]/u.test(n))}function wy(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function qd(n,e,t,i){if(typeof e=="function"){const[o,l]=wy(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=wy(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Xf=n=>Array.isArray(n),cS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),hS=n=>Xf(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function Ju(n){const e=Ht(n)?n.get():n;return cS(e)?e.toValue():e}function fS({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const u={latestValues:dS(i,o,l,n),renderState:e()};return t&&(u.onMount=f=>t({props:i,current:f,...u}),u.onUpdate=f=>t(f)),u}const Yv=n=>(e,t)=>{const i=pe.useContext(Rc),o=pe.useContext(Od),l=()=>fS(n,e,i,o);return t?l():jA(l)};function dS(n,e,t,i){const o={},l=i(n,{});for(const E in l)o[E]=Ju(l[E]);let{initial:u,animate:f}=n;const p=Cc(n),g=Kv(n);e&&g&&!p&&n.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const w=_?f:u;if(w&&typeof w!="boolean"&&!Pc(w)){const E=Array.isArray(w)?w:[w];for(let R=0;R<E.length;R++){const O=qd(n,E[R]);if(O){const{transitionEnd:D,transition:N,...q}=O;for(const H in q){let Q=q[H];if(Array.isArray(Q)){const ne=_?Q.length-1:0;Q=Q[ne]}Q!==null&&(o[H]=Q)}for(const H in D)o[H]=D[H]}}}return o}const Oo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gs=new Set(Oo),Jv=n=>e=>typeof e=="string"&&e.startsWith(n),Wd=Jv("--"),pS=Jv("var(--"),Hd=n=>pS(n)?mS.test(n.split("/*")[0].trim()):!1,mS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zv=(n,e)=>e&&typeof n=="number"?e.transform(n):n,br=(n,e,t)=>t>e?e:t<n?n:t,bo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},il={...bo,transform:n=>br(0,1,n)},$u={...bo,default:1},yl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fi=yl("deg"),cr=yl("%"),we=yl("px"),gS=yl("vh"),yS=yl("vw"),Ty={...cr,parse:n=>cr.parse(n)/100,transform:n=>cr.transform(n*100)},_S={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},vS={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:fi,skewX:fi,skewY:fi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:il,originX:Ty,originY:Ty,originZ:we},Ey={...bo,transform:Math.round},Kd={..._S,...vS,zIndex:Ey,size:we,fillOpacity:il,strokeOpacity:il,numOctaves:Ey},wS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TS=Oo.length;function ES(n,e,t){let i="",o=!0;for(let l=0;l<TS;l++){const u=Oo[l],f=n[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const g=Zv(f,Kd[u]);if(!p){o=!1;const _=wS[u]||u;i+=`${_}(${g}) `}t&&(e[u]=g)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Gd(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let u=!1,f=!1;for(const p in e){const g=e[p];if(gs.has(p)){u=!0;continue}else if(Wd(p)){o[p]=g;continue}else{const _=Zv(g,Kd[p]);p.startsWith("origin")?(f=!0,l[p]=_):i[p]=_}}if(e.transform||(u||t?i.transform=ES(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:_=0}=l;i.transformOrigin=`${p} ${g} ${_}`}}const AS={offset:"stroke-dashoffset",array:"stroke-dasharray"},SS={offset:"strokeDashoffset",array:"strokeDasharray"};function IS(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?AS:SS;n[l.offset]=we.transform(-i);const u=we.transform(e),f=we.transform(t);n[l.array]=`${u} ${f}`}function Ay(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function RS(n,e,t){const i=Ay(e,n.x,n.width),o=Ay(t,n.y,n.height);return`${i} ${o}`}function Qd(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:f=1,pathOffset:p=0,...g},_,w){if(Gd(n,g,w),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:R,dimensions:O}=n;E.transform&&(O&&(R.transform=E.transform),delete E.transform),O&&(o!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=RS(O,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),i!==void 0&&(E.scale=i),u!==void 0&&IS(E,u,f,p,!1)}const Xd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ew=()=>({...Xd(),attrs:{}}),Yd=n=>typeof n=="string"&&n.toLowerCase()==="svg";function tw(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const nw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rw(n,e,t,i){tw(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(nw.has(o)?o:jd(o),e.attrs[o])}const sl={};function PS(n){for(const e in n)sl[e]=n[e],Wd(e)&&(sl[e].isCSSVariable=!0)}function iw(n,{layout:e,layoutId:t}){return gs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!sl[n]||n==="opacity")}function Jd(n,e,t){var i;const{style:o}=n,l={};for(const u in o)(Ht(o[u])||e.style&&Ht(e.style[u])||iw(u,n)||((i=t==null?void 0:t.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=o[u]);return l}function sw(n,e,t){const i=Jd(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=Oo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function CS(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Sy=["x","y","width","height","cx","cy","r"],xS={useVisualState:Yv({scrapeMotionValuesFromProps:sw,createRenderState:ew,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(gs.has(f)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let f=0;f<Sy.length;f++){const p=Sy[f];n[p]!==e[p]&&(u=!0)}u&&Qe.read(()=>{CS(t,i),Qe.render(()=>{Qd(i,o,Yd(t.tagName),n.transformTemplate),rw(t,i)})})}})},kS={useVisualState:Yv({scrapeMotionValuesFromProps:Jd,createRenderState:Xd})};function ow(n,e,t){for(const i in e)!Ht(e[i])&&!iw(i,t)&&(n[i]=e[i])}function VS({transformTemplate:n},e){return pe.useMemo(()=>{const t=Xd();return Gd(t,e,n),Object.assign({},t.vars,t.style)},[e])}function DS(n,e){const t=n.style||{},i={};return ow(i,t,n),Object.assign(i,VS(n,e)),i}function NS(n,e){const t={},i=DS(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function MS(n,e,t,i){const o=pe.useMemo(()=>{const l=ew();return Qd(l,e,Yd(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};ow(l,n.style,n),o.style={...l,...o.style}}return o}function LS(n=!1){return(t,i,o,{latestValues:l},u)=>{const p=($d(t)?MS:NS)(i,l,u,t),g=XA(i,typeof t=="string",n),_=t!==pe.Fragment?{...g,...p,ref:o}:{},{children:w}=i,E=pe.useMemo(()=>Ht(w)?w.get():w,[w]);return pe.createElement(t,{..._,children:E})}}function OS(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...$d(i)?xS:kS,preloadedFeatures:n,useRender:LS(o),createVisualElement:e,Component:i};return sS(u)}}function aw(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function xc(n,e,t){const i=n.getProps();return qd(i,e,t!==void 0?t:i.custom,n)}const bS=Fd(()=>window.ScrollTimeline!==void 0);class FS{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(bS()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class US extends FS{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Zd(n,e){return n?n[e]||n.default||n:void 0}const Yf=2e4;function lw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Yf;)e+=t,i=n.next(e);return e>=Yf?1/0:e}function ep(n){return typeof n=="function"}function Iy(n,e){n.timeline=e,n.onfinish=null}const tp=n=>Array.isArray(n)&&typeof n[0]=="number",BS={linearEasing:void 0};function jS(n,e){const t=Fd(n);return()=>{var i;return(i=BS[e])!==null&&i!==void 0?i:t()}}const uc=jS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uw=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Ao(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function cw(n){return!!(typeof n=="function"&&uc()||!n||typeof n=="string"&&(n in Jf||uc())||tp(n)||Array.isArray(n)&&n.every(cw))}const ja=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Jf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ja([0,.65,.55,1]),circOut:ja([.55,0,1,.45]),backIn:ja([.31,.01,.66,-.59]),backOut:ja([.33,1.53,.69,.99])};function hw(n,e){if(n)return typeof n=="function"&&uc()?uw(n,e):tp(n)?ja(n):Array.isArray(n)?n.map(t=>hw(t,e)||Jf.easeOut):Jf[n]}const Qn={x:!1,y:!1};function fw(){return Qn.x||Qn.y}function zS(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function dw(n,e){const t=zS(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function Ry(n){return!(n.pointerType==="touch"||fw())}function $S(n,e,t={}){const[i,o,l]=dw(n,t),u=f=>{if(!Ry(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const _=w=>{Ry(w)&&(g(w),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const pw=(n,e)=>e?n===e?!0:pw(n,e.parentElement):!1,np=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,qS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WS(n){return qS.has(n.tagName)||n.tabIndex!==-1}const za=new WeakSet;function Py(n){return e=>{e.key==="Enter"&&n(e)}}function Rf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HS=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Py(()=>{if(za.has(t))return;Rf(t,"down");const o=Py(()=>{Rf(t,"up")}),l=()=>Rf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Cy(n){return np(n)&&!fw()}function KS(n,e,t={}){const[i,o,l]=dw(n,t),u=f=>{const p=f.currentTarget;if(!Cy(f)||za.has(p))return;za.add(p);const g=e(p,f),_=(R,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),!(!Cy(R)||!za.has(p))&&(za.delete(p),typeof g=="function"&&g(R,{success:O}))},w=R=>{_(R,t.useGlobalTarget||pw(p,R.target))},E=R=>{_(R,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return i.forEach(f=>{!WS(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),f.addEventListener("focus",g=>HS(g,o),o)}),l}function GS(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}const mw=new Set(["width","height","top","left","right","bottom",...Oo]);let Zu;function QS(){Zu=void 0}const hr={now:()=>(Zu===void 0&&hr.set(Mt.isProcessing||qA.useManualTiming?Mt.timestamp:performance.now()),Zu),set:n=>{Zu=n,queueMicrotask(QS)}};function rp(n,e){n.indexOf(e)===-1&&n.push(e)}function ip(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class sp{constructor(){this.subscriptions=[]}add(e){return rp(this.subscriptions,e),()=>ip(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gw(n,e){return e?n*(1e3/e):0}const xy=30,XS=n=>!isNaN(parseFloat(n));class YS{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=hr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sp);const i=this.events[e].add(t);return e==="change"?()=>{i(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xy)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,xy);return gw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(n,e){return new YS(n,e)}function JS(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ol(t))}function ZS(n,e){const t=xc(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const u in l){const f=hS(l[u]);JS(n,u,f)}}function eI(n){return!!(Ht(n)&&n.add)}function Zf(n,e){const t=n.getValue("willChange");if(eI(t))return t.add(e)}function yw(n){return n.props[Gv]}const _w=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,tI=1e-7,nI=12;function rI(n,e,t,i,o){let l,u,f=0;do u=e+(t-e)/2,l=_w(u,i,o)-n,l>0?t=u:e=u;while(Math.abs(l)>tI&&++f<nI);return u}function _l(n,e,t,i){if(n===e&&t===i)return Tn;const o=l=>rI(l,0,1,n,t);return l=>l===0||l===1?l:_w(o(l),e,i)}const vw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ww=n=>e=>1-n(1-e),Tw=_l(.33,1.53,.69,.99),op=ww(Tw),Ew=vw(op),Aw=n=>(n*=2)<1?.5*op(n):.5*(2-Math.pow(2,-10*(n-1))),ap=n=>1-Math.sin(Math.acos(n)),Sw=ww(ap),Iw=vw(ap),Rw=n=>/^0[^.\s]+$/u.test(n);function iI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Rw(n):!0}const Ga=n=>Math.round(n*1e5)/1e5,lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sI(n){return n==null}const oI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,up=(n,e)=>t=>!!(typeof t=="string"&&oI.test(t)&&t.startsWith(n)||e&&!sI(t)&&Object.prototype.hasOwnProperty.call(t,e)),Pw=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(lp);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},aI=n=>br(0,255,n),Pf={...bo,transform:n=>Math.round(aI(n))},cs={test:up("rgb","red"),parse:Pw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Pf.transform(n)+", "+Pf.transform(e)+", "+Pf.transform(t)+", "+Ga(il.transform(i))+")"};function lI(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const ed={test:up("#"),parse:lI,transform:cs.transform},_o={test:up("hsl","hue"),parse:Pw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+cr.transform(Ga(e))+", "+cr.transform(Ga(t))+", "+Ga(il.transform(i))+")"},$t={test:n=>cs.test(n)||ed.test(n)||_o.test(n),parse:n=>cs.test(n)?cs.parse(n):_o.test(n)?_o.parse(n):ed.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?cs.transform(n):_o.transform(n)},uI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(lp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(uI))===null||t===void 0?void 0:t.length)||0)>0}const Cw="number",xw="color",hI="var",fI="var(",ky="${}",dI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function al(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(dI,p=>($t.test(p)?(i.color.push(l),o.push(xw),t.push($t.parse(p))):p.startsWith(fI)?(i.var.push(l),o.push(hI),t.push(p)):(i.number.push(l),o.push(Cw),t.push(parseFloat(p))),++l,ky)).split(ky);return{values:t,split:f,indexes:i,types:o}}function kw(n){return al(n).values}function Vw(n){const{split:e,types:t}=al(n),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const f=t[u];f===Cw?l+=Ga(o[u]):f===xw?l+=$t.transform(o[u]):l+=o[u]}return l}}const pI=n=>typeof n=="number"?0:n;function mI(n){const e=kw(n);return Vw(n)(e.map(pI))}const Ei={test:cI,parse:kw,createTransformer:Vw,getAnimatableNone:mI},gI=new Set(["brightness","contrast","saturate","opacity"]);function yI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(lp)||[];if(!i)return n;const o=t.replace(i,"");let l=gI.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const _I=/\b([a-z-]*)\(.*?\)/gu,td={...Ei,getAnimatableNone:n=>{const e=n.match(_I);return e?e.map(yI).join(" "):n}},vI={...Kd,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:td,WebkitFilter:td},cp=n=>vI[n];function Dw(n,e){let t=cp(n);return t!==td&&(t=Ei),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const wI=new Set(["auto","none","0"]);function TI(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!wI.has(l)&&al(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=Dw(t,o)}const Vy=n=>n===bo||n===we,Dy=(n,e)=>parseFloat(n.split(", ")[e]),Ny=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Dy(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?Dy(l[1],n):0}},EI=new Set(["x","y","z"]),AI=Oo.filter(n=>!EI.has(n));function SI(n){const e=[];return AI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Io={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Ny(4,13),y:Ny(5,14)};Io.translateX=Io.x;Io.translateY=Io.y;const fs=new Set;let nd=!1,rd=!1;function Nw(){if(rd){const n=Array.from(fs).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=SI(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,u])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}rd=!1,nd=!1,fs.forEach(n=>n.complete()),fs.clear()}function Mw(){fs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rd=!0)})}function II(){Mw(),Nw()}class hp{constructor(e,t,i,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fs.add(this),nd||(nd=!0,Qe.read(Mw),Qe.resolveKeyframes(Nw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=o==null?void 0:o.get(),f=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&u===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Lw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),RI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PI(n){const e=RI.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function Ow(n,e,t=1){const[i,o]=PI(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return Lw(u)?parseFloat(u):u}return Hd(o)?Ow(o,e,t+1):o}const bw=n=>e=>e.test(n),CI={test:n=>n==="auto",parse:n=>n},Fw=[bo,we,cr,fi,yS,gS,CI],My=n=>Fw.find(bw(n));class Uw extends hp{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Hd(g))){const _=Ow(g,t.current);_!==void 0&&(e[p]=_),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!mw.has(i)||e.length!==2)return;const[o,l]=e,u=My(o),f=My(l);if(u!==f)if(Vy(u)&&Vy(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)iI(e[o])&&i.push(o);i.length&&TI(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,f=o[u];o[u]=Io[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const Ly=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ei.test(n)||n==="0")&&!n.startsWith("url("));function xI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function kI(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=Ly(o,e),f=Ly(l,e);return!u||!f?!1:xI(n)||(t==="spring"||ep(t))&&i}const VI=n=>n!==null;function kc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(VI),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const DI=40;class Bw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>DI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&II(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=hr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:u,onComplete:f,onUpdate:p,isGenerator:g}=this.options;if(!g&&!kI(e,i,o,l))if(u)this.options.duration=0;else{p&&p(kc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,t);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,..._},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function Cf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function NI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=Cf(p,f,n+1/3),l=Cf(p,f,n),u=Cf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function cc(n,e){return t=>t>0?e:n}const xf=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},MI=[ed,cs,_o],LI=n=>MI.find(e=>e.test(n));function Oy(n){const e=LI(n);if(!e)return!1;let t=e.parse(n);return e===_o&&(t=NI(t)),t}const by=(n,e)=>{const t=Oy(n),i=Oy(e);if(!t||!i)return cc(n,e);const o={...t};return l=>(o.red=xf(t.red,i.red,l),o.green=xf(t.green,i.green,l),o.blue=xf(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),cs.transform(o))},OI=(n,e)=>t=>e(n(t)),vl=(...n)=>n.reduce(OI),id=new Set(["none","hidden"]);function bI(n,e){return id.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function FI(n,e){return t=>tt(n,e,t)}function fp(n){return typeof n=="number"?FI:typeof n=="string"?Hd(n)?cc:$t.test(n)?by:jI:Array.isArray(n)?jw:typeof n=="object"?$t.test(n)?by:UI:cc}function jw(n,e){const t=[...n],i=t.length,o=n.map((l,u)=>fp(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)t[u]=o[u](l);return t}}function UI(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=fp(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function BI(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],f=n.indexes[u][o[u]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[u]++}return i}const jI=(n,e)=>{const t=Ei.createTransformer(e),i=al(n),o=al(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?id.has(n)&&!o.values.length||id.has(e)&&!i.values.length?bI(n,e):vl(jw(BI(i,o),o.values),t):cc(n,e)};function zw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):fp(n)(n,e)}const zI=5;function $w(n,e,t){const i=Math.max(e-zI,0);return gw(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fy=.001;function $I({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,u=1-e;u=br(it.minDamping,it.maxDamping,u),n=br(it.minDuration,it.maxDuration,Lr(n)),u<1?(o=g=>{const _=g*u,w=_*n,E=_-t,R=sd(g,u),O=Math.exp(-w);return Fy-E/R*O},l=g=>{const w=g*u*n,E=w*t+t,R=Math.pow(u,2)*Math.pow(g,2)*n,O=Math.exp(-w),D=sd(Math.pow(g,2),u);return(-o(g)+Fy>0?-1:1)*((E-R)*O)/D}):(o=g=>{const _=Math.exp(-g*n),w=(g-t)*n+1;return-.001+_*w},l=g=>{const _=Math.exp(-g*n),w=(t-g)*(n*n);return _*w});const f=5/n,p=WI(o,l,f);if(n=Mr(n),isNaN(p))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:n}}}const qI=12;function WI(n,e,t){let i=t;for(let o=1;o<qI;o++)i=i-n(i)/e(i);return i}function sd(n,e){return n*Math.sqrt(1-e*e)}const HI=["duration","bounce"],KI=["stiffness","damping","mass"];function Uy(n,e){return e.some(t=>n[t]!==void 0)}function GI(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!Uy(n,KI)&&Uy(n,HI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*br(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=$I(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function qw(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:_,duration:w,velocity:E,isResolvedFromDuration:R}=GI({...t,velocity:-Lr(t.velocity||0)}),O=E||0,D=g/(2*Math.sqrt(p*_)),N=u-l,q=Lr(Math.sqrt(p/_)),H=Math.abs(N)<5;i||(i=H?it.restSpeed.granular:it.restSpeed.default),o||(o=H?it.restDelta.granular:it.restDelta.default);let Q;if(D<1){const re=sd(q,D);Q=ae=>{const k=Math.exp(-D*q*ae);return u-k*((O+D*q*N)/re*Math.sin(re*ae)+N*Math.cos(re*ae))}}else if(D===1)Q=re=>u-Math.exp(-q*re)*(N+(O+q*N)*re);else{const re=q*Math.sqrt(D*D-1);Q=ae=>{const k=Math.exp(-D*q*ae),S=Math.min(re*ae,300);return u-k*((O+D*q*N)*Math.sinh(S)+re*N*Math.cosh(S))/re}}const ne={calculatedDuration:R&&w||null,next:re=>{const ae=Q(re);if(R)f.done=re>=w;else{let k=0;D<1&&(k=re===0?Mr(O):$w(Q,re,ae));const S=Math.abs(k)<=i,P=Math.abs(u-ae)<=o;f.done=S&&P}return f.value=f.done?u:ae,f},toString:()=>{const re=Math.min(lw(ne),Yf),ae=uw(k=>ne.next(re*k).value,re,30);return re+"ms "+ae}};return ne}function By({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:g=.5,restSpeed:_}){const w=n[0],E={done:!1,value:w},R=S=>f!==void 0&&S<f||p!==void 0&&S>p,O=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let D=t*e;const N=w+D,q=u===void 0?N:u(N);q!==N&&(D=q-w);const H=S=>-D*Math.exp(-S/i),Q=S=>q+H(S),ne=S=>{const P=H(S),V=Q(S);E.done=Math.abs(P)<=g,E.value=E.done?q:V};let re,ae;const k=S=>{R(E.value)&&(re=S,ae=qw({keyframes:[E.value,O(E.value)],velocity:$w(Q,S,E.value),damping:o,stiffness:l,restDelta:g,restSpeed:_}))};return k(0),{calculatedDuration:null,next:S=>{let P=!1;return!ae&&re===void 0&&(P=!0,ne(S),k(S)),re!==void 0&&S>=re?ae.next(S-re):(!P&&ne(S),E)}}}const QI=_l(.42,0,1,1),XI=_l(0,0,.58,1),Ww=_l(.42,0,.58,1),YI=n=>Array.isArray(n)&&typeof n[0]!="number",jy={linear:Tn,easeIn:QI,easeInOut:Ww,easeOut:XI,circIn:ap,circInOut:Iw,circOut:Sw,backIn:op,backInOut:Ew,backOut:Tw,anticipate:Aw},zy=n=>{if(tp(n)){Qf(n.length===4);const[e,t,i,o]=n;return _l(e,t,i,o)}else if(typeof n=="string")return Qf(jy[n]!==void 0),jy[n];return n};function JI(n,e,t){const i=[],o=t||zw,l=n.length-1;for(let u=0;u<l;u++){let f=o(n[u],n[u+1]);if(e){const p=Array.isArray(e)?e[u]||Tn:e;f=vl(p,f)}i.push(f)}return i}function ZI(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Qf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=JI(e,i,o),p=f.length,g=_=>{if(u&&_<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(_<n[w+1]);w++);const E=Ao(n[w],n[w+1],_);return f[w](E)};return t?_=>g(br(n[0],n[l-1],_)):g}function eR(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Ao(0,e,i);n.push(tt(t,1,o))}}function tR(n){const e=[0];return eR(e,n.length-1),e}function nR(n,e){return n.map(t=>t*e)}function rR(n,e){return n.map(()=>e||Ww).splice(0,n.length-1)}function hc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=YI(i)?i.map(zy):zy(i),l={done:!1,value:e[0]},u=nR(t&&t.length===e.length?t:tR(e),n),f=ZI(u,e,{ease:Array.isArray(o)?o:rR(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const iR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qe.update(e,!0),stop:()=>Ti(e),now:()=>Mt.isProcessing?Mt.timestamp:hr.now()}},sR={decay:By,inertia:By,tween:hc,keyframes:hc,spring:qw},oR=n=>n/100;class dp extends Bw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,u=(o==null?void 0:o.KeyframeResolver)||hp,f=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new u(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,f=ep(t)?t:sR[t]||hc;let p,g;f!==hc&&typeof e[0]!="number"&&(p=vl(oR,zw(e[0],e[1])),e=[0,100]);const _=f({...this.options,keyframes:e});l==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=lw(_));const{calculatedDuration:w}=_,E=w+o,R=E*(i+1)-o;return{generator:_,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:E,totalDuration:R}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:g,totalDuration:_,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:E,repeat:R,repeatType:O,repeatDelay:D,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-E*(this.speed>=0?1:-1),H=this.speed>=0?q<0:q>_;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let Q=this.currentTime,ne=l;if(R){const S=Math.min(this.currentTime,_)/w;let P=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&P--,P=Math.min(P,R+1),!!(P%2)&&(O==="reverse"?(V=1-V,D&&(V-=D/w)):O==="mirror"&&(ne=u)),Q=br(0,1,V)*w}const re=H?{done:!1,value:p[0]}:ne.next(Q);f&&(re.value=f(re.value));let{done:ae}=re;!H&&g!==null&&(ae=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return k&&o!==void 0&&(re.value=kc(p,this.options,o)),N&&N(re.value),k&&this.finish(),re}get duration(){const{resolved:e}=this;return e?Lr(e.calculatedDuration):0}get time(){return Lr(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=iR,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const aR=new Set(["opacity","clipPath","filter","transform"]);function lR(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeInOut",times:p}={}){const g={[e]:t};p&&(g.offset=p);const _=hw(f,o);return Array.isArray(_)&&(g.easing=_),n.animate(g,{delay:i,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const uR=Fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fc=10,cR=2e4;function hR(n){return ep(n.type)||n.type==="spring"||!cw(n.ease)}function fR(n,e){const t=new dp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<cR;)i=t.sample(l),o.push(i.value),l+=fc;return{times:void 0,keyframes:o,duration:l-fc,ease:"linear"}}const Hw={anticipate:Aw,backInOut:Ew,circInOut:Iw};function dR(n){return n in Hw}class $y extends Bw{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Uw(l,(u,f)=>this.onKeyframesResolved(u,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:u,motionValue:f,name:p,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&uc()&&dR(l)&&(l=Hw[l]),hR(this.options)){const{onComplete:w,onUpdate:E,motionValue:R,element:O,...D}=this.options,N=fR(e,D);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,o=N.times,l=N.ease,u="keyframes"}const _=lR(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(Iy(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;f.set(kc(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Lr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Lr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Tn;const{animation:i}=t;Iy(i,e)}return Tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:u,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:_,onComplete:w,element:E,...R}=this.options,O=new dp({...R,keyframes:i,duration:o,type:l,ease:u,times:f,isGenerator:!0}),D=Mr(this.time);g.setWithVelocity(O.sample(D-fc).value,O.sample(D).value,fc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:u,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return uR()&&i&&aR.has(i)&&!p&&!g&&!o&&l!=="mirror"&&u!==0&&f!=="inertia"}}const pR={type:"spring",stiffness:500,damping:25,restSpeed:10},mR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gR={type:"keyframes",duration:.8},yR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_R=(n,{keyframes:e})=>e.length>2?gR:gs.has(n)?n.startsWith("scale")?mR(e[1]):pR:yR;function vR({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const pp=(n,e,t,i={},o,l)=>u=>{const f=Zd(i,n)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Mr(p);let _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};vR(f)||(_={..._,..._R(n,_)}),_.duration&&(_.duration=Mr(_.duration)),_.repeatDelay&&(_.repeatDelay=Mr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const E=kc(_.keyframes,f);if(E!==void 0)return Qe.update(()=>{_.onUpdate(E),_.onComplete()}),new US([])}return!l&&$y.supports(_)?new $y(_):new dp(_)};function wR({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Kw(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:u=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(u=i);const g=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const E=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),R=p[w];if(R===void 0||_&&wR(_,w))continue;const O={delay:t,...Zd(u||{},w)};let D=!1;if(window.MotionHandoffAnimation){const q=yw(n);if(q){const H=window.MotionHandoffAnimation(q,w,Qe);H!==null&&(O.startTime=H,D=!0)}}Zf(n,w),E.start(pp(w,E,R,n.shouldReduceMotion&&mw.has(w)?{type:!1}:O,n,D));const N=E.animation;N&&g.push(N)}return f&&Promise.all(g).then(()=>{Qe.update(()=>{f&&ZS(n,f)})}),g}function od(n,e,t={}){var i;const o=xc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const u=o?()=>Promise.all(Kw(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:w,staggerDirection:E}=l;return TR(n,e,_+g,w,E,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[g,_]=p==="beforeChildren"?[u,f]:[f,u];return g().then(()=>_())}else return Promise.all([u(),f(t.delay)])}function TR(n,e,t=0,i=0,o=1,l){const u=[],f=(n.variantChildren.size-1)*i,p=o===1?(g=0)=>g*i:(g=0)=>f-g*i;return Array.from(n.variantChildren).sort(ER).forEach((g,_)=>{g.notify("AnimationStart",e),u.push(od(g,e,{...l,delay:t+p(_)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(u)}function ER(n,e){return n.sortNodePosition(e)}function AR(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>od(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=od(n,e,t);else{const o=typeof e=="function"?xc(n,e,t.custom):e;i=Promise.all(Kw(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const SR=Bd.length;function Gw(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Gw(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<SR;t++){const i=Bd[t],o=n.props[i];(rl(o)||o===!1)&&(e[i]=o)}return e}const IR=[...Ud].reverse(),RR=Ud.length;function PR(n){return e=>Promise.all(e.map(({animation:t,options:i})=>AR(n,t,i)))}function CR(n){let e=PR(n),t=qy(),i=!0;const o=p=>(g,_)=>{var w;const E=xc(n,_,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:R,transitionEnd:O,...D}=E;g={...g,...D,...O}}return g};function l(p){e=p(n)}function u(p){const{props:g}=n,_=Gw(n.parent)||{},w=[],E=new Set;let R={},O=1/0;for(let N=0;N<RR;N++){const q=IR[N],H=t[q],Q=g[q]!==void 0?g[q]:_[q],ne=rl(Q),re=q===p?H.isActive:null;re===!1&&(O=N);let ae=Q===_[q]&&Q!==g[q]&&ne;if(ae&&i&&n.manuallyAnimateOnMount&&(ae=!1),H.protectedKeys={...R},!H.isActive&&re===null||!Q&&!H.prevProp||Pc(Q)||typeof Q=="boolean")continue;const k=xR(H.prevProp,Q);let S=k||q===p&&H.isActive&&!ae&&ne||N>O&&ne,P=!1;const V=Array.isArray(Q)?Q:[Q];let L=V.reduce(o(q),{});re===!1&&(L={});const{prevResolvedValues:F={}}=H,C={...F,...L},Xe=Se=>{S=!0,E.has(Se)&&(P=!0,E.delete(Se)),H.needsAnimating[Se]=!0;const ee=n.getValue(Se);ee&&(ee.liveStyle=!1)};for(const Se in C){const ee=L[Se],me=F[Se];if(R.hasOwnProperty(Se))continue;let ie=!1;Xf(ee)&&Xf(me)?ie=!aw(ee,me):ie=ee!==me,ie?ee!=null?Xe(Se):E.add(Se):ee!==void 0&&E.has(Se)?Xe(Se):H.protectedKeys[Se]=!0}H.prevProp=Q,H.prevResolvedValues=L,H.isActive&&(R={...R,...L}),i&&n.blockInitialAnimation&&(S=!1),S&&(!(ae&&k)||P)&&w.push(...V.map(Se=>({animation:Se,options:{type:q}})))}if(E.size){const N={};E.forEach(q=>{const H=n.getBaseTarget(q),Q=n.getValue(q);Q&&(Q.liveStyle=!0),N[q]=H??null}),w.push({animation:N})}let D=!!w.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(w):Promise.resolve()}function f(p,g){var _;if(t[p].isActive===g)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(E=>{var R;return(R=E.animationState)===null||R===void 0?void 0:R.setActive(p,g)}),t[p].isActive=g;const w=u(p);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=qy(),i=!0}}}function xR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!aw(e,n):!1}function os(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qy(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kR extends Ci{constructor(e){super(e),e.animationState||(e.animationState=CR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let VR=0;class DR extends Ci{constructor(){super(...arguments),this.id=VR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const NR={animation:{Feature:kR},exit:{Feature:DR}};function ll(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function wl(n){return{point:{x:n.pageX,y:n.pageY}}}const MR=n=>e=>np(e)&&n(e,wl(e));function Qa(n,e,t,i){return ll(n,e,MR(t),i)}const Wy=(n,e)=>Math.abs(n-e);function LR(n,e){const t=Wy(n.x,e.x),i=Wy(n.y,e.y);return Math.sqrt(t**2+i**2)}class Qw{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,R=LR(w.offset,{x:0,y:0})>=3;if(!E&&!R)return;const{point:O}=w,{timestamp:D}=Mt;this.history.push({...O,timestamp:D});const{onStart:N,onMove:q}=this.handlers;E||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=kf(E,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:R,onSessionEnd:O,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Vf(w.type==="pointercancel"?this.lastMoveEventInfo:kf(E,this.transformPagePoint),this.history);this.startEvent&&R&&R(w,N),O&&O(w,N)},!np(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const u=wl(e),f=kf(u,this.transformPagePoint),{point:p}=f,{timestamp:g}=Mt;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,Vf(f,this.history)),this.removeListeners=vl(Qa(this.contextWindow,"pointermove",this.handlePointerMove),Qa(this.contextWindow,"pointerup",this.handlePointerUp),Qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ti(this.updatePoint)}}function kf(n,e){return e?{point:e(n.point)}:n}function Hy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vf({point:n},e){return{point:n,delta:Hy(n,Xw(e)),offset:Hy(n,OR(e)),velocity:bR(e,.1)}}function OR(n){return n[0]}function Xw(n){return n[n.length-1]}function bR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Xw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Mr(e)));)t--;if(!i)return{x:0,y:0};const l=Lr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const Yw=1e-4,FR=1-Yw,UR=1+Yw,Jw=.01,BR=0-Jw,jR=0+Jw;function Jt(n){return n.max-n.min}function zR(n,e,t){return Math.abs(n-e)<=t}function Ky(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Jt(t)/Jt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=FR&&n.scale<=UR||isNaN(n.scale))&&(n.scale=1),(n.translate>=BR&&n.translate<=jR||isNaN(n.translate))&&(n.translate=0)}function Xa(n,e,t,i){Ky(n.x,e.x,t.x,i?i.originX:void 0),Ky(n.y,e.y,t.y,i?i.originY:void 0)}function Gy(n,e,t){n.min=t.min+e.min,n.max=n.min+Jt(e)}function $R(n,e,t){Gy(n.x,e.x,t.x),Gy(n.y,e.y,t.y)}function Qy(n,e,t){n.min=e.min-t.min,n.max=n.min+Jt(e)}function Ya(n,e,t){Qy(n.x,e.x,t.x),Qy(n.y,e.y,t.y)}function qR(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function Xy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function WR(n,{top:e,left:t,bottom:i,right:o}){return{x:Xy(n.x,t,o),y:Xy(n.y,e,i)}}function Yy(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function HR(n,e){return{x:Yy(n.x,e.x),y:Yy(n.y,e.y)}}function KR(n,e){let t=.5;const i=Jt(n),o=Jt(e);return o>i?t=Ao(e.min,e.max-i,n.min):i>o&&(t=Ao(n.min,n.max-o,e.min)),br(0,1,t)}function GR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ad=.35;function QR(n=ad){return n===!1?n=0:n===!0&&(n=ad),{x:Jy(n,"left","right"),y:Jy(n,"top","bottom")}}function Jy(n,e,t){return{min:Zy(n,e),max:Zy(n,t)}}function Zy(n,e){return typeof n=="number"?n:n[e]||0}const e_=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:e_(),y:e_()}),t_=()=>({min:0,max:0}),ut=()=>({x:t_(),y:t_()});function Nn(n){return[n("x"),n("y")]}function Zw({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function XR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function YR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Df(n){return n===void 0||n===1}function ld({scale:n,scaleX:e,scaleY:t}){return!Df(n)||!Df(e)||!Df(t)}function as(n){return ld(n)||eT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function eT(n){return n_(n.x)||n_(n.y)}function n_(n){return n&&n!=="0%"}function dc(n,e,t){const i=n-t,o=e*i;return t+o}function r_(n,e,t,i,o){return o!==void 0&&(n=dc(n,o,i)),dc(n,t,i)+e}function ud(n,e=0,t=1,i,o){n.min=r_(n.min,e,t,i,o),n.max=r_(n.max,e,t,i,o)}function tT(n,{x:e,y:t}){ud(n.x,e.translate,e.scale,e.originPoint),ud(n.y,t.translate,t.scale,t.originPoint)}const i_=.999999999999,s_=1.0000000000001;function JR(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let f=0;f<o;f++){l=t[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&To(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,tT(n,u)),i&&as(l.latestValues)&&To(n,l.latestValues))}e.x<s_&&e.x>i_&&(e.x=1),e.y<s_&&e.y>i_&&(e.y=1)}function wo(n,e){n.min=n.min+e,n.max=n.max+e}function o_(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);ud(n,e,t,l,i)}function To(n,e){o_(n.x,e.x,e.scaleX,e.scale,e.originX),o_(n.y,e.y,e.scaleY,e.scale,e.originY)}function nT(n,e){return Zw(YR(n.getBoundingClientRect(),e))}function ZR(n,e,t){const i=nT(n,t),{scroll:o}=e;return o&&(wo(i.x,o.offset.x),wo(i.y,o.offset.y)),i}const rT=({current:n})=>n?n.ownerDocument.defaultView:null,eP=new WeakMap;class tP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wl(_).point)},l=(_,w)=>{const{drag:E,dragPropagation:R,onDragStart:O}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GS(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(N=>{let q=this.getAxisMotionValue(N).get()||0;if(cr.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const Q=H.layout.layoutBox[N];Q&&(q=Jt(Q)*(parseFloat(q)/100))}}this.originPoint[N]=q}),O&&Qe.postRender(()=>O(_,w)),Zf(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(_,w)=>{const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:O,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:N}=w;if(R&&this.currentDirection===null){this.currentDirection=nP(N),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,N),this.updateAxis("y",w.point,N),this.visualElement.render(),D&&D(_,w)},f=(_,w)=>this.stop(_,w),p=()=>Nn(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Qw(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:rT(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Qe.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!qu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=qR(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=WR(o.layoutBox,t):this.constraints=!1,this.elastic=QR(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Nn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=GR(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=ZR(i,o.root,this.visualElement.getTransformPagePoint());let u=HR(o.layout.layoutBox,l);if(t){const f=t(XR(u));this.hasMutatedConstraints=!!f,f&&(u=Zw(f))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Nn(_=>{if(!qu(_,t,this.currentDirection))return;let w=p[_]||{};u&&(w={min:0,max:0});const E=o?200:1e6,R=o?40:1e7,O={type:"inertia",velocity:i?e[_]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(_,O)});return Promise.all(g).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Zf(this.visualElement,e),i.start(pp(e,i,0,t,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nn(t=>{const{drag:i}=this.getProps();if(!qu(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[t];l.set(e[t]-tt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yo(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();o[u]=KR({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(u=>{if(!qu(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];f.set(tt(p,g,o[u]))})}addListeners(){if(!this.visualElement.current)return;eP.set(this.visualElement,this);const e=this.visualElement.current,t=Qa(e,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(i);const u=ll(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Nn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=p[_].translate,w.set(w.get()+p[_].translate))}),this.visualElement.render())});return()=>{u(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=ad,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function qu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function nP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class rP extends Ci{constructor(e){super(e),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new tP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const a_=n=>(e,t)=>{n&&Qe.postRender(()=>n(e,t))};class iP extends Ci{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(e){this.session=new Qw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:a_(e),onStart:a_(t),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Qe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ec={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ua={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=l_(n,e.target.x),i=l_(n,e.target.y);return`${t}% ${i}%`}},sP={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Ei.parse(n);if(o.length>5)return i;const l=Ei.createTransformer(n),u=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+u]/=f,o[1+u]/=p;const g=tt(f,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=g),typeof o[3+u]=="number"&&(o[3+u]/=g),l(o)}};class oP extends pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;PS(aP),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ec.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Qe.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iT(n){const[e,t]=zA(),i=pe.useContext(zv);return de.jsx(oP,{...n,layoutGroup:i,switchLayoutGroup:pe.useContext(Qv),isPresent:e,safeToRemove:t})}const aP={borderRadius:{...Ua,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ua,borderTopRightRadius:Ua,borderBottomLeftRadius:Ua,borderBottomRightRadius:Ua,boxShadow:sP};function lP(n,e,t){const i=Ht(n)?n:ol(n);return i.start(pp("",i,e,t)),i.animation}function uP(n){return n instanceof SVGElement&&n.tagName!=="svg"}const cP=(n,e)=>n.depth-e.depth;class hP{constructor(){this.children=[],this.isDirty=!1}add(e){rp(this.children,e),this.isDirty=!0}remove(e){ip(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cP),this.isDirty=!1,this.children.forEach(e)}}function fP(n,e){const t=hr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(Ti(i),n(l-e))};return Qe.read(i,!0),()=>Ti(i)}const sT=["TopLeft","TopRight","BottomLeft","BottomRight"],dP=sT.length,u_=n=>typeof n=="string"?parseFloat(n):n,c_=n=>typeof n=="number"||we.test(n);function pP(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,mP(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,gP(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let u=0;u<dP;u++){const f=`border${sT[u]}Radius`;let p=h_(e,f),g=h_(t,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||c_(p)===c_(g)?(n[f]=Math.max(tt(u_(p),u_(g),i),0),(cr.test(g)||cr.test(p))&&(n[f]+="%")):n[f]=g}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function h_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const mP=oT(0,.5,Sw),gP=oT(.5,.95,Tn);function oT(n,e,t){return i=>i<n?0:i>e?1:t(Ao(n,e,i))}function f_(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){f_(n.x,e.x),f_(n.y,e.y)}function d_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function p_(n,e,t,i,o){return n-=e,n=dc(n,1/t,i),o!==void 0&&(n=dc(n,1/o,i)),n}function yP(n,e=0,t=1,i=.5,o,l=n,u=n){if(cr.test(e)&&(e=parseFloat(e),e=tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=tt(l.min,l.max,i);n===l&&(f-=e),n.min=p_(n.min,e,t,f,o),n.max=p_(n.max,e,t,f,o)}function m_(n,e,[t,i,o],l,u){yP(n,e[t],e[i],e[o],e.scale,l,u)}const _P=["x","scaleX","originX"],vP=["y","scaleY","originY"];function g_(n,e,t,i){m_(n.x,e,_P,t?t.x:void 0,i?i.x:void 0),m_(n.y,e,vP,t?t.y:void 0,i?i.y:void 0)}function y_(n){return n.translate===0&&n.scale===1}function aT(n){return y_(n.x)&&y_(n.y)}function __(n,e){return n.min===e.min&&n.max===e.max}function wP(n,e){return __(n.x,e.x)&&__(n.y,e.y)}function v_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function lT(n,e){return v_(n.x,e.x)&&v_(n.y,e.y)}function w_(n){return Jt(n.x)/Jt(n.y)}function T_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class TP{constructor(){this.members=[]}add(e){rp(this.members,e),e.scheduleRender()}remove(e){if(ip(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EP(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:_,rotateX:w,rotateY:E,skewX:R,skewY:O}=t;g&&(i=`perspective(${g}px) ${i}`),_&&(i+=`rotate(${_}deg) `),w&&(i+=`rotateX(${w}deg) `),E&&(i+=`rotateY(${E}deg) `),R&&(i+=`skewX(${R}deg) `),O&&(i+=`skewY(${O}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$a=typeof window<"u"&&window.MotionDebug!==void 0,Nf=["","X","Y","Z"],AP={visibility:"hidden"},E_=1e3;let SP=0;function Mf(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function uT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=yw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qe,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&uT(i)}function cT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=SP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$a&&(ls.totalNodes=ls.resolvedTargetDeltas=ls.recalculatedProjection=0),this.nodes.forEach(PP),this.nodes.forEach(DP),this.nodes.forEach(NP),this.nodes.forEach(CP),$a&&window.MotionDebug.record(ls)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new hP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uP(u),this.instance=u;const{layoutId:p,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||p)&&(this.isLayoutDirty=!0),n){let w;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=fP(E,250),ec.hasAnimatedSinceResize&&(ec.hasAnimatedSinceResize=!1,this.nodes.forEach(S_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeLayoutChanged:R,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||_.getDefaultTransition()||FP,{onLayoutAnimationStart:N,onLayoutAnimationComplete:q}=_.getProps(),H=!this.targetLayout||!lT(this.targetLayout,O),Q=!E&&R;if(this.options.layoutRoot||this.resumeFrom||Q||E&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Q);const ne={...Zd(D,"layout"),onPlay:N,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else E||S_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A_);return}this.isUpdating||this.nodes.forEach(kP),this.isUpdating=!1,this.nodes.forEach(VP),this.nodes.forEach(IP),this.nodes.forEach(RP),this.clearAllSnapshots();const f=hr.now();Mt.delta=br(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,If.update.process(Mt),If.preRender.process(Mt),If.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xP),this.sharedNodes.forEach(LP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!aT(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;u&&(f||as(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),UP(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(BP))){const{scroll:_}=this.root;_&&(wo(p.x,_.offset.x),wo(p.y,_.offset.y))}return p}removeElementScroll(u){var f;const p=ut();if(Dn(p,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:w,options:E}=_;_!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Dn(p,u),wo(p.x,w.offset.x),wo(p.y,w.offset.y))}return p}applyTransform(u,f=!1){const p=ut();Dn(p,u);for(let g=0;g<this.path.length;g++){const _=this.path[g];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&To(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),as(_.latestValues)&&To(p,_.latestValues)}return as(this.latestValues)&&To(p,this.latestValues),p}removeTransform(u){const f=ut();Dn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!as(g.latestValues))continue;ld(g.latestValues)&&g.updateSnapshot();const _=ut(),w=g.measurePageBox();Dn(_,w),g_(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return as(this.latestValues)&&g_(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$R(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),tT(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ya(this.relativeTargetOrigin,this.target,R.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$a&&ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ld(this.parent.latestValues)||eT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(g=!1),g)return;const{layout:_,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,R=this.treeScale.y;JR(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:O}=f;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(d_(this.prevProjectionDelta.x,this.projectionDelta.x),d_(this.prevProjectionDelta.y,this.projectionDelta.y)),Xa(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==R||!T_(this.projectionDelta.x,this.prevProjectionDelta.x)||!T_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),$a&&ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(u,f=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},w=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=ut(),R=p?p.source:void 0,O=this.layout?this.layout.source:void 0,D=R!==O,N=this.getStack(),q=!N||N.members.length<=1,H=!!(D&&!q&&this.options.crossfade===!0&&!this.path.some(bP));this.animationProgress=0;let Q;this.mixTargetDelta=ne=>{const re=ne/1e3;I_(w.x,u.x,re),I_(w.y,u.y,re),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OP(this.relativeTarget,this.relativeTargetOrigin,E,re),Q&&wP(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ut()),Dn(Q,this.relativeTarget)),D&&(this.animationValues=_,pP(_,g,this.latestValues,re,H,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{ec.hasAnimatedSinceResize=!0,this.currentAnimation=lP(0,E_,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:_}=u;if(!(!f||!p||!g)){if(this!==u&&this.layout&&g&&hT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ut();const w=Jt(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+w;const E=Jt(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+E}Dn(f,p),To(f,_),Xa(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new TP),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Mf("z",u,g,this.animationValues);for(let _=0;_<Nf.length;_++)Mf(`rotate${Nf[_]}`,u,g,this.animationValues),Mf(`skew${Nf[_]}`,u,g,this.animationValues);u.render();for(const _ in g)u.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);u.scheduleRender()}getProjectionStyles(u){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AP;const g={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Ju(u==null?void 0:u.pointerEvents)||"",g.transform=_?_(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Ju(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!as(this.latestValues)&&(D.transform=_?_({},""):"none",this.hasProjected=!1),D}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=EP(this.projectionDeltaWithTransform,this.treeScale,E),_&&(g.transform=_(E,g.transform));const{x:R,y:O}=this.projectionDelta;g.transformOrigin=`${R.origin*100}% ${O.origin*100}% 0`,w.animationValues?g.opacity=w===this?(p=(f=E.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:g.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in sl){if(E[D]===void 0)continue;const{correct:N,applyTo:q,isCSSVariable:H}=sl[D],Q=g.transform==="none"?E[D]:N(E[D],w);if(q){const ne=q.length;for(let re=0;re<ne;re++)g[q[re]]=Q}else H?this.options.visualElement.renderState.vars[D]=Q:g[D]=Q}return this.options.layoutId&&(g.pointerEvents=w===this?Ju(u==null?void 0:u.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(A_),this.root.sharedNodes.clear()}}}function IP(n){n.updateLayout()}function RP(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?Nn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],R=Jt(E);E.min=i[w].min,E.max=E.min+R}):hT(l,t.layoutBox,i)&&Nn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],R=Jt(i[w]);E.max=E.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+R)});const f=vo();Xa(f,i,t.layoutBox);const p=vo();u?Xa(p,n.applyTransform(o,!0),t.measuredBox):Xa(p,i,t.layoutBox);const g=!aT(f);let _=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:R}=w;if(E&&R){const O=ut();Ya(O,t.layoutBox,E.layoutBox);const D=ut();Ya(D,i,R.layoutBox),lT(O,D)||(_=!0),w.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function PP(n){$a&&ls.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function CP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xP(n){n.clearSnapshot()}function A_(n){n.clearMeasurements()}function kP(n){n.isLayoutDirty=!1}function VP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function S_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function DP(n){n.resolveTargetDelta()}function NP(n){n.calcProjection()}function MP(n){n.resetSkewAndRotation()}function LP(n){n.removeLeadSnapshot()}function I_(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function R_(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function OP(n,e,t,i){R_(n.x,e.x,t.x,i),R_(n.y,e.y,t.y,i)}function bP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const FP={duration:.45,ease:[.4,0,.1,1]},P_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),C_=P_("applewebkit/")&&!P_("chrome/")?Math.round:Tn;function x_(n){n.min=C_(n.min),n.max=C_(n.max)}function UP(n){x_(n.x),x_(n.y)}function hT(n,e,t){return n==="position"||n==="preserve-aspect"&&!zR(w_(e),w_(t),.2)}function BP(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const jP=cT({attachResizeListener:(n,e)=>ll(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lf={current:void 0},fT=cT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Lf.current){const n=new jP({});n.mount(window),n.setOptions({layoutScroll:!0}),Lf.current=n}return Lf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zP={pan:{Feature:iP},drag:{Feature:rP,ProjectionNode:fT,MeasureLayout:iT}};function k_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Qe.postRender(()=>l(e,wl(e)))}class $P extends Ci{mount(){const{current:e}=this.node;e&&(this.unmount=$S(e,(t,i)=>(k_(this.node,i,"Start"),o=>k_(this.node,o,"End"))))}unmount(){}}class qP extends Ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Qe.postRender(()=>l(e,wl(e)))}class WP extends Ci{mount(){const{current:e}=this.node;e&&(this.unmount=KS(e,(t,i)=>(V_(this.node,i,"Start"),(o,{success:l})=>V_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cd=new WeakMap,Of=new WeakMap,HP=n=>{const e=cd.get(n.target);e&&e(n)},KP=n=>{n.forEach(HP)};function GP({root:n,...e}){const t=n||document;Of.has(t)||Of.set(t,{});const i=Of.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(KP,{root:n,...e})),i[o]}function QP(n,e,t){const i=GP(e);return cd.set(n,t),i.observe(n),()=>{cd.delete(n),i.unobserve(n)}}const XP={some:0,all:1};class YP extends Ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:XP[o]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),E=g?_:w;E&&E(p)};return QP(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(JP(e,t))&&this.startObserver()}unmount(){}}function JP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ZP={inView:{Feature:YP},tap:{Feature:WP},focus:{Feature:qP},hover:{Feature:$P}},e1={layout:{ProjectionNode:fT,MeasureLayout:iT}},hd={current:null},dT={current:!1};function t1(){if(dT.current=!0,!!bd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hd.current=n.matches;n.addListener(e),e()}else hd.current=!1}const n1=[...Fw,$t,Ei],r1=n=>n1.find(bw(n)),D_=new WeakMap;function i1(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,ol(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(i);n.addValue(i,ol(u!==void 0?u:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const N_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s1{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=hr.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Qe.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:_}=u;this.onUpdate=_,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Cc(t),this.isVariantNode=Kv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const R in E){const O=E[R];p[R]!==void 0&&Ht(O)&&O.set(p[R],!1)}}mount(e){this.current=e,D_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),dT.current||t1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){D_.delete(this.current),this.projection&&this.projection.unmount(),Ti(this.notifyUpdate),Ti(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=gs.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in So){const t=So[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<N_.length;i++){const o=N_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=i1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ol(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Lw(o)||Rw(o))?o=parseFloat(o):!r1(o)&&Ei.test(t)&&(o=Dw(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=qd(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class pT extends s1{constructor(){super(...arguments),this.KeyframeResolver=Uw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function o1(n){return window.getComputedStyle(n)}class a1 extends pT{constructor(){super(...arguments),this.type="html",this.renderInstance=tw}readValueFromInstance(e,t){if(gs.has(t)){const i=cp(t);return i&&i.default||0}else{const i=o1(e),o=(Wd(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nT(e,t)}build(e,t,i){Gd(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Jd(e,t,i)}}class l1 extends pT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(gs.has(t)){const i=cp(t);return i&&i.default||0}return t=nw.has(t)?t:jd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return sw(e,t,i)}build(e,t,i){Qd(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){rw(e,t,i,o)}mount(e){this.isSVGTag=Yd(e.tagName),super.mount(e)}}const u1=(n,e)=>$d(n)?new l1(e):new a1(e,{allowProjection:n!==pe.Fragment}),c1=OS({...NR,...ZP,...zP,...e1},u1),h1=YA(c1);function f1({type:n="text",...e}){return de.jsx("input",{type:n,className:"p-2 rounded bg-purple-700 text-white",...e})}function mT({username:n,setUsername:e,country:t,setCountry:i}){return de.jsxs("div",{className:"mb-4",children:[de.jsx(f1,{placeholder:"Select a temporary username (optional)",value:n,onChange:o=>e(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),de.jsxs("select",{value:t,onChange:o=>i(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white",children:[de.jsx("option",{value:"",children:"Select a country"}),de.jsx("option",{value:"",children:"United States"}),de.jsx("option",{value:"",children:"United Kingdom"}),de.jsx("option",{value:"",children:"Germany"}),de.jsx("option",{value:"",children:"France"}),de.jsx("option",{value:"",children:"Japan"}),de.jsx("option",{value:"",children:"India"})]})]})}var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},d1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,f=u?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,w=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,R=g&63;p||(R=64,u||(E=64)),i.push(t[_],t[w],t[E],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):d1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||g==null||w==null)throw new p1;const E=l<<2|f>>4;if(i.push(E),g!==64){const R=f<<4&240|g>>2;if(i.push(R),w!==64){const O=g<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(n){const e=gT(n);return yT.encodeByteArray(e,!0)},pc=function(n){return m1(n).replace(/\./g,"")},g1=function(n){try{return yT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>y1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof M_>"u")return;const n=M_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},w1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&g1(n[1]);return e&&JSON.parse(e)},mp=()=>{try{return _1()||v1()||w1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T1=n=>{var e,t;return(t=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_T=n=>{const e=T1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},vT=()=>{var n;return(n=mp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pc(JSON.stringify(t)),pc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){var n;const e=(n=mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="FirebaseError";class ys extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=C1,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,TT.prototype.create)}}class TT{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?x1(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ys(o,f,i)}}function x1(n,e){return n.replace(k1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const k1=/\{\$([^}]+)}/g;function mc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],u=e[o];if(L_(l)&&L_(u)){if(!mc(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new E1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N1(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(n){return n===us?void 0:n}function N1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const L1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},O1=Le.INFO,b1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},F1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=b1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ET{constructor(e){this.name=e,this._logLevel=O1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const U1=(n,e)=>e.some(t=>n instanceof t);let O_,b_;function B1(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,fd=new WeakMap,ST=new WeakMap,bf=new WeakMap,gp=new WeakMap;function z1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(mi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&AT.set(t,n)}).catch(()=>{}),gp.set(e,n),e}function $1(n){if(fd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});fd.set(n,e)}let dd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ST.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function q1(n){dd=n(dd)}function W1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ff(this),e,...t);return ST.set(i,e.sort?e.sort():[e]),mi(i)}:j1().includes(n)?function(...e){return n.apply(Ff(this),e),mi(AT.get(this))}:function(...e){return mi(n.apply(Ff(this),e))}}function H1(n){return typeof n=="function"?W1(n):(n instanceof IDBTransaction&&$1(n),U1(n,B1())?new Proxy(n,dd):n)}function mi(n){if(n instanceof IDBRequest)return z1(n);if(bf.has(n))return bf.get(n);const e=H1(n);return e!==n&&(bf.set(n,e),gp.set(e,n)),e}const Ff=n=>gp.get(n);function K1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),f=mi(u);return i&&u.addEventListener("upgradeneeded",p=>{i(mi(u.result),p.oldVersion,p.newVersion,mi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const G1=["get","getKey","getAll","getAllKeys","count"],Q1=["put","add","delete","clear"],Uf=new Map;function F_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Q1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return Uf.set(e,l),l}q1(n=>({...n,get:(e,t,i)=>F_(e,t)||n.get(e,t,i),has:(e,t)=>!!F_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Y1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pd="@firebase/app",U_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new ET("@firebase/app"),J1="@firebase/app-compat",Z1="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",rC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",oC="@firebase/data-connect",aC="@firebase/database-compat",lC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",hC="@firebase/installations-compat",fC="@firebase/messaging",dC="@firebase/messaging-compat",pC="@firebase/performance",mC="@firebase/performance-compat",gC="@firebase/remote-config",yC="@firebase/remote-config-compat",_C="@firebase/storage",vC="@firebase/storage-compat",wC="@firebase/firestore",TC="@firebase/vertexai",EC="@firebase/firestore-compat",AC="firebase",SC="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",IC={[pd]:"fire-core",[J1]:"fire-core-compat",[eC]:"fire-analytics",[Z1]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[rC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[oC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[lC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[hC]:"fire-iid-compat",[fC]:"fire-fcm",[dC]:"fire-fcm-compat",[pC]:"fire-perf",[mC]:"fire-perf-compat",[gC]:"fire-rc",[yC]:"fire-rc-compat",[_C]:"fire-gcs",[vC]:"fire-gcs-compat",[wC]:"fire-fst",[EC]:"fire-fst-compat",[TC]:"fire-vertex","fire-js":"fire-js",[AC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,RC=new Map,gd=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ul(n){const e=n.name;if(gd.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;gd.set(e,n);for(const t of gc.values())B_(t,n);for(const t of RC.values())B_(t,n);return!0}function IT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new TT("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=SC;function PT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:md,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=vT()),!t)throw gi.create("no-options");const l=gc.get(o);if(l){if(mc(t,l.options)&&mc(i,l.config))return l;throw gi.create("duplicate-app",{appName:o})}const u=new M1(o);for(const p of gd.values())u.addComponent(p);const f=new CC(t,i,u);return gc.set(o,f),f}function CT(n=md){const e=gc.get(n);if(!e&&n===md&&vT())return PT();if(!e)throw gi.create("no-app",{appName:n});return e}function yi(n,e,t){var i;let o=(i=IC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}ul(new Ro(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",kC=1,cl="firebase-heartbeat-store";let Bf=null;function xT(){return Bf||(Bf=K1(xC,kC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Bf}async function VC(n){try{const t=(await xT()).transaction(cl),i=await t.objectStore(cl).get(kT(n));return await t.done,i}catch(e){if(e instanceof ys)Fr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function j_(n,e){try{const i=(await xT()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,kT(n)),await i.done}catch(t){if(t instanceof ys)Fr.warn(t.message);else{const i=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function kT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1024,NC=30*24*60*60*1e3;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=z_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=NC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z_(),{heartbeatsToSend:i,unsentEntries:o}=LC(this._heartbeatsCache.heartbeats),l=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function z_(){return new Date().toISOString().substring(0,10)}function LC(n,e=DC){const t=[];let i=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),$_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $_(n){return pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){ul(new Ro("platform-logger",e=>new X1(e),"PRIVATE")),ul(new Ro("heartbeat",e=>new MC(e),"PRIVATE")),yi(pd,U_,n),yi(pd,U_,"esm2017"),yi("fire-js","")}bC("");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,VT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function P(){}P.prototype=S.prototype,k.D=S.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(V,L,F){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return S.prototype[L].apply(V,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,P){P||(P=0);var V=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)V[L]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(L=0;16>L;++L)V[L]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=k.g[0],P=k.g[1],L=k.g[2];var F=k.g[3],C=S+(F^P&(L^F))+V[0]+3614090360&4294967295;S=P+(C<<7&4294967295|C>>>25),C=F+(L^S&(P^L))+V[1]+3905402710&4294967295,F=S+(C<<12&4294967295|C>>>20),C=L+(P^F&(S^P))+V[2]+606105819&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(S^L&(F^S))+V[3]+3250441966&4294967295,P=L+(C<<22&4294967295|C>>>10),C=S+(F^P&(L^F))+V[4]+4118548399&4294967295,S=P+(C<<7&4294967295|C>>>25),C=F+(L^S&(P^L))+V[5]+1200080426&4294967295,F=S+(C<<12&4294967295|C>>>20),C=L+(P^F&(S^P))+V[6]+2821735955&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(S^L&(F^S))+V[7]+4249261313&4294967295,P=L+(C<<22&4294967295|C>>>10),C=S+(F^P&(L^F))+V[8]+1770035416&4294967295,S=P+(C<<7&4294967295|C>>>25),C=F+(L^S&(P^L))+V[9]+2336552879&4294967295,F=S+(C<<12&4294967295|C>>>20),C=L+(P^F&(S^P))+V[10]+4294925233&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(S^L&(F^S))+V[11]+2304563134&4294967295,P=L+(C<<22&4294967295|C>>>10),C=S+(F^P&(L^F))+V[12]+1804603682&4294967295,S=P+(C<<7&4294967295|C>>>25),C=F+(L^S&(P^L))+V[13]+4254626195&4294967295,F=S+(C<<12&4294967295|C>>>20),C=L+(P^F&(S^P))+V[14]+2792965006&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(S^L&(F^S))+V[15]+1236535329&4294967295,P=L+(C<<22&4294967295|C>>>10),C=S+(L^F&(P^L))+V[1]+4129170786&4294967295,S=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(S^P))+V[6]+3225465664&4294967295,F=S+(C<<9&4294967295|C>>>23),C=L+(S^P&(F^S))+V[11]+643717713&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^S&(L^F))+V[0]+3921069994&4294967295,P=L+(C<<20&4294967295|C>>>12),C=S+(L^F&(P^L))+V[5]+3593408605&4294967295,S=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(S^P))+V[10]+38016083&4294967295,F=S+(C<<9&4294967295|C>>>23),C=L+(S^P&(F^S))+V[15]+3634488961&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^S&(L^F))+V[4]+3889429448&4294967295,P=L+(C<<20&4294967295|C>>>12),C=S+(L^F&(P^L))+V[9]+568446438&4294967295,S=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(S^P))+V[14]+3275163606&4294967295,F=S+(C<<9&4294967295|C>>>23),C=L+(S^P&(F^S))+V[3]+4107603335&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^S&(L^F))+V[8]+1163531501&4294967295,P=L+(C<<20&4294967295|C>>>12),C=S+(L^F&(P^L))+V[13]+2850285829&4294967295,S=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(S^P))+V[2]+4243563512&4294967295,F=S+(C<<9&4294967295|C>>>23),C=L+(S^P&(F^S))+V[7]+1735328473&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^S&(L^F))+V[12]+2368359562&4294967295,P=L+(C<<20&4294967295|C>>>12),C=S+(P^L^F)+V[5]+4294588738&4294967295,S=P+(C<<4&4294967295|C>>>28),C=F+(S^P^L)+V[8]+2272392833&4294967295,F=S+(C<<11&4294967295|C>>>21),C=L+(F^S^P)+V[11]+1839030562&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^S)+V[14]+4259657740&4294967295,P=L+(C<<23&4294967295|C>>>9),C=S+(P^L^F)+V[1]+2763975236&4294967295,S=P+(C<<4&4294967295|C>>>28),C=F+(S^P^L)+V[4]+1272893353&4294967295,F=S+(C<<11&4294967295|C>>>21),C=L+(F^S^P)+V[7]+4139469664&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^S)+V[10]+3200236656&4294967295,P=L+(C<<23&4294967295|C>>>9),C=S+(P^L^F)+V[13]+681279174&4294967295,S=P+(C<<4&4294967295|C>>>28),C=F+(S^P^L)+V[0]+3936430074&4294967295,F=S+(C<<11&4294967295|C>>>21),C=L+(F^S^P)+V[3]+3572445317&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^S)+V[6]+76029189&4294967295,P=L+(C<<23&4294967295|C>>>9),C=S+(P^L^F)+V[9]+3654602809&4294967295,S=P+(C<<4&4294967295|C>>>28),C=F+(S^P^L)+V[12]+3873151461&4294967295,F=S+(C<<11&4294967295|C>>>21),C=L+(F^S^P)+V[15]+530742520&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^S)+V[2]+3299628645&4294967295,P=L+(C<<23&4294967295|C>>>9),C=S+(L^(P|~F))+V[0]+4096336452&4294967295,S=P+(C<<6&4294967295|C>>>26),C=F+(P^(S|~L))+V[7]+1126891415&4294967295,F=S+(C<<10&4294967295|C>>>22),C=L+(S^(F|~P))+V[14]+2878612391&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~S))+V[5]+4237533241&4294967295,P=L+(C<<21&4294967295|C>>>11),C=S+(L^(P|~F))+V[12]+1700485571&4294967295,S=P+(C<<6&4294967295|C>>>26),C=F+(P^(S|~L))+V[3]+2399980690&4294967295,F=S+(C<<10&4294967295|C>>>22),C=L+(S^(F|~P))+V[10]+4293915773&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~S))+V[1]+2240044497&4294967295,P=L+(C<<21&4294967295|C>>>11),C=S+(L^(P|~F))+V[8]+1873313359&4294967295,S=P+(C<<6&4294967295|C>>>26),C=F+(P^(S|~L))+V[15]+4264355552&4294967295,F=S+(C<<10&4294967295|C>>>22),C=L+(S^(F|~P))+V[6]+2734768916&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~S))+V[13]+1309151649&4294967295,P=L+(C<<21&4294967295|C>>>11),C=S+(L^(P|~F))+V[4]+4149444226&4294967295,S=P+(C<<6&4294967295|C>>>26),C=F+(P^(S|~L))+V[11]+3174756917&4294967295,F=S+(C<<10&4294967295|C>>>22),C=L+(S^(F|~P))+V[2]+718787259&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+F&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var P=S-this.blockSize,V=this.B,L=this.h,F=0;F<S;){if(L==0)for(;F<=P;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<S;)if(V[L++]=k.charCodeAt(F++),L==this.blockSize){o(this,V),L=0;break}}else for(;F<S;)if(V[L++]=k[F++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var P=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=P&255,P/=256;for(this.u(k),k=Array(16),S=P=0;4>S;++S)for(var V=0;32>V;V+=8)k[P++]=this.g[S]>>>V&255;return k};function l(k,S){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=S(k)}function u(k,S){this.h=S;for(var P=[],V=!0,L=k.length-1;0<=L;L--){var F=k[L]|0;V&&F==S||(P[L]=F,V=!1)}this.g=P}var f={};function p(k){return-128<=k&&128>k?l(k,function(S){return new u([S|0],0>S?-1:0)}):new u([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return N(g(-k));for(var S=[],P=1,V=0;k>=P;V++)S[V]=k/P|0,P*=4294967296;return new u(S,0)}function _(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(_(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(S,8)),V=w,L=0;L<k.length;L+=8){var F=Math.min(8,k.length-L),C=parseInt(k.substring(L,L+F),S);8>F?(F=g(Math.pow(S,F)),V=V.j(F).add(g(C))):(V=V.j(P),V=V.add(g(C)))}return V}var w=p(0),E=p(1),R=p(16777216);n=u.prototype,n.m=function(){if(D(this))return-N(this).m();for(var k=0,S=1,P=0;P<this.g.length;P++){var V=this.i(P);k+=(0<=V?V:4294967296+V)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(D(this))return"-"+N(this).toString(k);for(var S=g(Math.pow(k,6)),P=this,V="";;){var L=ne(P,S).g;P=q(P,L.j(S));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=L,O(P))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=q(this,k),D(k)?-1:O(k)?0:1};function N(k){for(var S=k.g.length,P=[],V=0;V<S;V++)P[V]=~k.g[V];return new u(P,~k.h).add(E)}n.abs=function(){return D(this)?N(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],V=0,L=0;L<=S;L++){var F=V+(this.i(L)&65535)+(k.i(L)&65535),C=(F>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);V=C>>>16,F&=65535,C&=65535,P[L]=C<<16|F}return new u(P,P[P.length-1]&-2147483648?-1:0)};function q(k,S){return k.add(N(S))}n.j=function(k){if(O(this)||O(k))return w;if(D(this))return D(k)?N(this).j(N(k)):N(N(this).j(k));if(D(k))return N(this.j(N(k)));if(0>this.l(R)&&0>k.l(R))return g(this.m()*k.m());for(var S=this.g.length+k.g.length,P=[],V=0;V<2*S;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<k.g.length;L++){var F=this.i(V)>>>16,C=this.i(V)&65535,Xe=k.i(L)>>>16,Ct=k.i(L)&65535;P[2*V+2*L]+=C*Ct,H(P,2*V+2*L),P[2*V+2*L+1]+=F*Ct,H(P,2*V+2*L+1),P[2*V+2*L+1]+=C*Xe,H(P,2*V+2*L+1),P[2*V+2*L+2]+=F*Xe,H(P,2*V+2*L+2)}for(V=0;V<S;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=S;V<2*S;V++)P[V]=0;return new u(P,0)};function H(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Q(k,S){this.g=k,this.h=S}function ne(k,S){if(O(S))throw Error("division by zero");if(O(k))return new Q(w,w);if(D(k))return S=ne(N(k),S),new Q(N(S.g),N(S.h));if(D(S))return S=ne(k,N(S)),new Q(N(S.g),S.h);if(30<k.g.length){if(D(k)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=S;0>=V.l(k);)P=re(P),V=re(V);var L=ae(P,1),F=ae(V,1);for(V=ae(V,2),P=ae(P,2);!O(V);){var C=F.add(V);0>=C.l(k)&&(L=L.add(P),F=C),V=ae(V,1),P=ae(P,1)}return S=q(k,L.j(S)),new Q(L,S)}for(L=w;0<=k.l(S);){for(P=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=g(P),C=F.j(S);D(C)||0<C.l(k);)P-=V,F=g(P),C=F.j(S);O(F)&&(F=E),L=L.add(F),k=q(k,C)}return new Q(L,k)}n.A=function(k){return ne(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],V=0;V<S;V++)P[V]=this.i(V)&k.i(V);return new u(P,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],V=0;V<S;V++)P[V]=this.i(V)|k.i(V);return new u(P,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],V=0;V<S;V++)P[V]=this.i(V)^k.i(V);return new u(P,this.h^k.h)};function re(k){for(var S=k.g.length+1,P=[],V=0;V<S;V++)P[V]=k.i(V)<<1|k.i(V-1)>>>31;return new u(P,k.h)}function ae(k,S){var P=S>>5;S%=32;for(var V=k.g.length-P,L=[],F=0;F<V;F++)L[F]=0<S?k.i(F+P)>>>S|k.i(F+P+1)<<32-S:k.i(F+P);return new u(L,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VT=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,_i=u}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,qa,NT,tc,yd,MT,LT,OT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function l(c,m){c instanceof String&&(c+="");var v=0,A=!1,U={next:function(){if(!A&&v<c.length){var $=v++;return{value:m($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function w(c,m,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function E(c,m,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,E.apply(null,arguments)}function R(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,U,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return m.prototype[U].apply(A,te)}}function D(c){const m=c.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function N(c,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=c.length||0,$=A.length||0;c.length=U+$;for(let te=0;te<$;te++)c[U+te]=A[te]}else c.push(A)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ae(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function k(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let $=0;$<P.length;$++)v=P[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function L(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function F(c){f.setTimeout(()=>{throw c},0)}function C(){var c=me;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Xe{constructor(){this.h=this.g=null}add(m,v){const A=Ct.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ct=new q(()=>new xt,c=>c.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ee=!1,me=new Xe,ie=()=>{const c=f.Promise.resolve(void 0);Se=()=>{c.then(b)}};var b=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){F(v)}var m=Ct;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ee=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c}();function Pe(c,m){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(re){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,ge);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gr(c){this.src=c,this.g={},this.h=0}gr.prototype.add=function(c,m,v,A,U){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var te=jr(c,m,A,U);return-1<te?(m=c[te],v||(m.fa=!1)):(m=new $e(m,this.src,$,!!A,U),m.fa=v,c.push(m)),m};function ws(c,m){var v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(A,U,1),$&&(Et(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function jr(c,m,v,A){for(var U=0;U<c.length;++U){var $=c[U];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==A)return U}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),Ts={};function qo(c,m,v,A,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)qo(c,m[$],v,A,U);return null}return v=Ko(v),c&&c[Fe]?c.K(m,v,g(A)?!!A.capture:!1,U):Wo(c,m,v,!1,A,U)}function Wo(c,m,v,A,U,$){if(!m)throw Error("Invalid event type");var te=g(U)?!!U.capture:!!U,je=As(c);if(je||(c[Di]=je=new gr(c)),v=je.add(m,v,A,te,$),v.proxy)return v;if(A=Rl(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)Re||(U=te),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(_r(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rl(){function c(v){return m.call(c.src,c.listener,v)}const m=Ho;return c}function Es(c,m,v,A,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Es(c,m[$],v,A,U);else A=g(A)?!!A.capture:!!A,v=Ko(v),c&&c[Fe]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],v=jr($,v,A,U),-1<v&&(Et($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=As(c))&&(m=c.g[m.toString()],c=-1,m&&(c=jr(m,v,A,U)),(v=-1<c?m[c]:null)&&yr(v))}function yr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Fe])ws(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(_r(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=As(m))?(ws(v,c),v.h==0&&(v.src=null,m[Di]=null)):Et(c)}}}function _r(c){return c in Ts?Ts[c]:Ts[c]="on"+c}function Ho(c,m){if(c.da)c=!0;else{m=new Pe(m,this);var v=c.listener,A=c.ha||c.src;c.fa&&yr(c),c=v.call(A,m)}return c}function As(c){return c=c[Di],c instanceof gr?c:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(c){return typeof c=="function"?c:(c[Ss]||(c[Ss]=function(m){return c.handleEvent(m)}),c[Ss])}function mt(){K.call(this),this.i=new gr(this),this.M=this,this.F=null}O(mt,K),mt.prototype[Fe]=!0,mt.prototype.removeEventListener=function(c,m,v,A){Es(this,c,m,v,A)};function gt(c,m){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new ge(m,c);else if(m instanceof ge)m.target=m.target||c;else{var U=m;m=new ge(A,c),V(m,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var te=m.g=v[$];U=vr(te,A,!0,m)&&U}if(te=m.g=c,U=vr(te,A,!0,m)&&U,U=vr(te,A,!1,m)&&U,v)for($=0;$<v.length;$++)te=m.g=v[$],U=vr(te,A,!1,m)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],A=0;A<v.length;A++)Et(v[A]);delete c.g[m],c.h--}}this.F=null},mt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},mt.prototype.L=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function vr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==v){var je=te.listener,yt=te.ha||te.src;te.fa&&ws(c.i,te),U=je.call(yt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Go(c,m,v){if(typeof c=="function")v&&(c=E(c,v));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(c,m||0)}function zr(c){c.g=Go(()=>{c.g=null,c.i&&(c.i=!1,zr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ni extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(c){K.call(this),this.h=c,this.g={}}O(Mi,K);var Qo=[];function Xo(c){ae(c.g,function(m,v){this.g.hasOwnProperty(v)&&yr(m)},c),c.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Xo(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yo=f.JSON.stringify,Jo=f.JSON.parse,Zo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Li(){}Li.prototype.h=null;function Is(c){return c.h||(c.h=c.i())}function Rs(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){ge.call(this,"d")}O(Yn,ge);function Ps(){ge.call(this,"c")}O(Ps,ge);var Jn={},ea=null;function Oi(){return ea=ea||new mt}Jn.La="serverreachability";function ta(c){ge.call(this,Jn.La,c)}O(ta,ge);function wr(c){const m=Oi();gt(m,new ta(m))}Jn.STAT_EVENT="statevent";function na(c,m){ge.call(this,Jn.STAT_EVENT,c),this.stat=m}O(na,ge);function at(c){const m=Oi();gt(m,new na(m,c))}Jn.Ma="timingevent";function Cs(c,m){ge.call(this,Jn.Ma,c),this.size=m}O(Cs,ge);function Mn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function Fi(c,m,v,A,U,$){c.info(function(){if(c.g)if($)for(var te="",je=$.split("&"),yt=0;yt<je.length;yt++){var Ne=je[yt].split("=");if(1<Ne.length){var At=Ne[0];Ne=Ne[1];var ht=At.split("_");te=2<=ht.length&&ht[1]=="type"?te+(At+"="+Ne+"&"):te+(At+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function xs(c,m,v,A,U,$,te){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+$+" "+te})}function Ln(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kc(c,v)+(A?" "+A:"")})}function ra(c,m){c.info(function(){return"TIMEOUT: "+m})}bi.prototype.info=function(){};function Kc(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Yo(v)}catch{return m}}var ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Ui(){}O(Ui,Li),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},On=new Ui;function bn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.R=A||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var ia={},Vs={};function Ds(c,m,v){c.L=1,c.v=Kr(dn(m)),c.m=v,c.P=!0,sa(c,null)}function sa(c,m){c.F=Date.now(),qe(c),c.A=dn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Qr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Cl,c.g=Hl(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Ni(E(c.Y,c,c.g),c.O)),m=c.U,v=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Qo[0]=U.toString()),U=Qo);for(var $=0;$<U.length;$++){var te=qo(v,U[$],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),wr(),Fi(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const m=this.M;m&&en(c)==3?m.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=en(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||ht!=4||m==7||(m==8||0>=In?wr(3):wr(2)),Bi(this);var v=this.g.Z();this.X=v;t:if(xl(this)){var A=ha(this.g);c="";var U=A.length,$=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),$r(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!($&&m==U-1)});A.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,xs(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,yt=this.g;if((je=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(je)){var Ne=je;break t}}Ne=null}if(v=Ne)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,v);else{this.o=!1,this.s=3,at(12),An(this),$r(this);break e}}if(this.P){v=!0;let mn;for(;!this.J&&this.C<te.length;)if(mn=Gc(this,te),mn==Vs){ht==4&&(this.s=4,at(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ia){this.s=4,at(15),Ln(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,mn,null),oa(this,mn);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||te.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,te,"[Invalid Chunked Response]"),An(this),$r(this);else if(0<te.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),da(At),At.M=!0,at(11))}}else Ln(this.i,this.l,te,null),oa(this,te);ht==4&&An(this),this.o&&!this.J&&(ht==4?$s(this.j,this):(this.o=!1,qe(this)))}else Fs(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),An(this),$r(this)}}}catch{}finally{}};function xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gc(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Vs:(v=Number(m.substring(v,A)),isNaN(v)?ia:(A+=1,A+v>m.length?Vs:(m=m.slice(A,A+v),c.C=A+v,m)))}bn.prototype.cancel=function(){this.J=!0,An(this)};function qe(c){c.S=Date.now()+c.I,kl(c,c.I)}function kl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(E(c.ba,c),m)}function Bi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ra(this.i,this.A),this.L!=2&&(wr(),at(17)),An(this),this.s=2,$r(this)):kl(this,this.S-c)};function $r(c){c.j.G==0||c.J||$s(c.j,c)}function An(c){Bi(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Xo(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function oa(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Kt(v.h,c))){if(!c.K&&Kt(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)zs(v),zn(v);else break e;js(v),at(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mn(E(v.Za,v),6e3));if(1>=Dl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((c.K||v.g==c)&&zs(v),!H(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const At=Ne[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const ht=Ne[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const In=Ne[5];In!=null&&typeof In=="number"&&0<In&&(A=1.5*In,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const mn=c.g;if(mn){const Ki=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var $=A.h;$.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(aa($,$.h),$.h=null))}if(A.D){const Ws=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(A.ya=Ws,ze(A.I,A.D,Ws))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var te=c;if(A.qa=Wl(A,A.J?A.ia:null,A.W),te.K){Nl(A.h,te);var je=te,yt=A.L;yt&&(je.I=yt),je.B&&(Bi(je),qe(je)),A.g=te}else Hi(A);0<v.i.length&&nr(v)}else Ne[0]!="stop"&&Ne[0]!="close"||Ir(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ir(v,7):Vt(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}wr(4)}catch{}}var Vl=class{constructor(c,m){this.g=c,this.map=m}};function ji(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function aa(c,m){c.g?c.g.add(m):c.h=m}function Nl(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return D(c.i)}function Ns(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],v=c.length,A=0;A<v;A++)m.push(c[A]);return m}m=[],v=0;for(A in c)m[v++]=c[A];return m}function Ms(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const A in c)m[v++]=A;return m}}}function qr(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Ms(c),A=Ns(c),U=A.length,$=0;$<U;$++)m.call(void 0,A[$],v&&v[$],c)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),U=null;if(0<=A){var $=c[v].substring(0,A);U=c[v].substring(A+1)}else $=c[v];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tr){this.h=c.h,$i(this,c.j),this.o=c.o,this.g=c.g,Wr(this,c.s),this.l=c.l;var m=c.i,v=new Zn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Hr(this,v),this.m=c.m}else c&&(m=String(c).match(zi))?(this.h=!1,$i(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),Wr(this,m[4]),this.l=ke(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}Tr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Gr(m,Ls,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Gr(m,Ls,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Gr(v,v.charAt(0)=="/"?bl:Ol,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Gr(v,la)),c.join("")};function dn(c){return new Tr(c)}function $i(c,m,v){c.j=v?ke(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Wr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Hr(c,m,v){m instanceof Zn?(c.i=m,er(c.i,c.h)):(v||(m=Gr(m,Fl)),c.i=new Zn(m,c.h))}function ze(c,m,v){c.i.set(m,v)}function Kr(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ke(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Ll),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ll(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ls=/[#\/\?@]/g,Ol=/[#\?:]/g,bl=/[#\?]/g,Fl=/[#\?@]/g,la=/#/g;function Zn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&Qc(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Zn.prototype,n.add=function(c,m){kt(this),this.i=null,c=Sn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Fn(c,m){kt(c),m=Sn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Un(c,m){return kt(c),m=Sn(c,m),c.g.has(m)}n.forEach=function(c,m){kt(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=c[A];for(let $=0;$<U.length;$++)v.push(m[A])}return v},n.V=function(c){kt(this);let m=[];if(typeof c=="string")Un(this,c)&&(m=m.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return kt(this),this.i=null,c=Sn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Qr(c,m,v){Fn(c,m),0<v.length&&(c.i=null,c.g.set(Sn(c,m),D(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const $=encodeURIComponent(String(A)),te=this.V(A);for(A=0;A<te.length;A++){var U=$;te[A]!==""&&(U+="="+encodeURIComponent(String(te[A]))),c.push(U)}}return this.i=c.join("&")};function Sn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function er(c,m){m&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(Fn(this,A),Qr(this,U,v))},c)),c.j=m}function Xc(c,m){const v=new bi;if(f.Image){const A=new Image;A.onload=R(Zt,v,"TestLoadImage: loaded",!0,m,A),A.onerror=R(Zt,v,"TestLoadImage: error",!1,m,A),A.onabort=R(Zt,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=R(Zt,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Ul(c,m){const v=new bi,A=new AbortController,U=setTimeout(()=>{A.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(U),$.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(v,"TestPingServer: error",!1,m)})}function Zt(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Yc(){this.g=new Zo}function Bl(c,m,v){const A=v||"";try{qr(c,function(U,$){let te=U;g(U)&&(te=Yo(U)),m.push(A+$+"="+encodeURIComponent(te))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Er,Li),Er.prototype.g=function(){return new qi(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function qi(c,m){mt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(qi,mt),n=qi.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,jn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Bn(this):jn(this),this.readyState==3&&jl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Bn(this))},n.Qa=function(c){this.g&&(this.response=c,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jn(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ar(c){let m="";return ae(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Xr(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ar(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ze(c,m,v))}function Ye(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ye,mt);var Jc=/^https?$/i,ua=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Is(this.o):Is(On),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){Wi(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ua,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Wi(this,$)}};function Wi(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Os(c),pn(c)}function Os(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)Go(c.Ea,0,c);else if(gt(c,"readystatechange"),en(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=te===0){var U=String(c.D).match(zi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),A=!Jc.test(U?U.toLowerCase():"")}v=A}if(v)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var $=2<en(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Os(c)}}finally{pn(c)}}}}function pn(c,m){if(c.g){bs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||gt(c,"ready");try{v.onreadystatechange=A}catch{}}}function bs(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Jo(m)}};function ha(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(c){const m={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(H(c[A]))continue;var v=L(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[U]||[];m[U]=$,$.push(v)}k(m,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function fa(c){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,c),this.cb=tr("retryDelaySeedMs",1e4,c),this.Wa=tr("forwardChannelMaxRetries",2,c),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(c&&c.concurrentRequestLimit),this.Da=new Yc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fa.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,A){at(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Wl(this,null,this.W),nr(this)};function Vt(c){if(Us(c),c.G==3){var m=c.U++,v=dn(c.I);if(ze(v,"SID",c.K),ze(v,"RID",m),ze(v,"TYPE","terminate"),Sr(c,v),m=new bn(c,c.j,m),m.L=2,m.v=Kr(dn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Hl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}ql(c)}function zn(c){c.g&&(da(c),c.g.cancel(),c.g=null)}function Us(c){zn(c),c.u&&(f.clearTimeout(c.u),c.u=null),zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function nr(c){if(!fn(c.h)&&!c.s){c.s=!0;var m=c.Ga;Se||ie(),ee||(Se(),ee=!0),me.add(m,c),c.B=0}}function Zc(c,m){return Dl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(E(c.Ga,c,m),$l(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new bn(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),V($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Yr(this,U,m),v=dn(this.I),ze(v,"RID",c),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Sr(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Ar($)))+"&"+m:this.m&&Xr(v,this.m,$)),aa(this.h,U),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",m),ze(v,"SID","null"),U.T=!0,Ds(U,v,null)):Ds(U,v,m),this.G=2}}else this.G==3&&(c?Bs(this,c):this.i.length==0||fn(this.h)||Bs(this))};function Bs(c,m){var v;m?v=m.l:v=c.U++;const A=dn(c.I);ze(A,"SID",c.K),ze(A,"RID",v),ze(A,"AID",c.T),Sr(c,A),c.m&&c.o&&Xr(A,c.m,c.o),v=new bn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Yr(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,v),Ds(v,A,m)}function Sr(c,m){c.H&&ae(c.H,function(v,A){ze(m,A,v)}),c.l&&qr({},function(v,A){ze(m,A,v)})}function Yr(c,m,v){v=Math.min(c.i.length,v);var A=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let yt=0;yt<v;yt++){let Ne=U[yt].g;const At=U[yt].map;if(Ne-=$,0>Ne)$=Math.max(0,U[yt].g-100),je=!1;else try{Bl(At,te,"req"+Ne+"_")}catch{A&&A(At)}}if(je){A=te.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,A}function Hi(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Se||ie(),ee||(Se(),ee=!0),me.add(m,c),c.v=0}}function js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(E(c.Fa,c),$l(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),zn(this),zl(this))};function da(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function zl(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=dn(c.qa);ze(m,"RID","rpc"),ze(m,"SID",c.K),ze(m,"AID",c.T),ze(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(m,"TO",c.ja),ze(m,"TYPE","xmlhttp"),Sr(c,m),c.m&&c.o&&Xr(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Kr(dn(m)),v.m=null,v.P=!0,sa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),js(this),at(19))};function zs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function $s(c,m){var v=null;if(c.g==m){zs(c),da(c),c.g=null;var A=2}else if(Kt(c.h,m))v=m.D,Nl(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;A=Oi(),gt(A,new Cs(A,v)),nr(c)}else Hi(c);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Zc(c,m)||A==2&&js(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function $l(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Ir(c,m){if(c.j.info("Error code "+m),m==2){var v=E(c.fb,c),A=c.Xa;const U=!A;A=new Tr(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$i(A,"https"),Kr(A),U?Xc(A.toString(),v):Ul(A.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(m),ql(c),Us(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ql(c){if(c.G=0,c.ka=[],c.l){const m=Ml(c.h);(m.length!=0||c.i.length!=0)&&(N(c.ka,m),N(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Wl(c,m,v){var A=v instanceof Tr?dn(v):new Tr(v);if(A.g!="")m&&(A.g=m+"."+A.g),Wr(A,A.s);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new Tr(null);A&&$i($,A),m&&($.g=m),U&&Wr($,U),v&&($.l=v),A=$}return v=c.D,m=c.ya,v&&m&&ze(A,v,m),ze(A,"VER",c.la),Sr(c,A),A}function Hl(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new Er({eb:v})):new Ye(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}n=pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qs(){}qs.prototype.g=function(c,m){return new Gt(c,m)};function Gt(c,m){mt.call(this),this.g=new fa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!H(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new rr(this)}O(Gt,mt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vt(this.g)},Gt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Yo(c),c=v);m.i.push(new Vl(m.Ya++,c)),m.G==3&&nr(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Gt.aa.N.call(this)};function Kl(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}O(Kl,Yn);function Gl(){Ps.call(this),this.status=1}O(Gl,Ps);function rr(c){this.g=c}O(rr,pa),rr.prototype.ua=function(){gt(this.g,"a")},rr.prototype.ta=function(c){gt(this.g,new Kl(c))},rr.prototype.sa=function(c){gt(this.g,new Gl)},rr.prototype.ra=function(){gt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,OT=function(){return new qs},LT=function(){return Oi()},MT=Jn,yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,tc=ks,Pl.COMPLETE="complete",NT=Pl,Rs.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",mt.prototype.listen=mt.prototype.K,qa=Rs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,DT=Ye}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new ET("@firebase/firestore");function fo(){return ps.logLevel}function oe(n,...e){if(ps.logLevel<=Le.DEBUG){const t=e.map(yp);ps.debug(`Firestore (${Fo}): ${n}`,...t)}}function Ur(n,...e){if(ps.logLevel<=Le.ERROR){const t=e.map(yp);ps.error(`Firestore (${Fo}): ${n}`,...t)}}function Po(n,...e){if(ps.logLevel<=Le.WARN){const t=e.map(yp);ps.warn(`Firestore (${Fo}): ${n}`,...t)}}function yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function Be(n,e){n||Ee()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ys{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new bT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qt(e)}}class jC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $C{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new $C(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=WC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function Co(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new wt(0,0))}static max(){return new Ae(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(),i===void 0?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=lr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=lr.isNumericId(e),o=lr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?lr.extractNumericId(e).compare(lr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class Ge extends lr{construct(e,t,i){return new Ge(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends lr{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ue(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new ue(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}function KC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Ai(o,ye.empty(),e)}function GC(n){return new Ai(n.readTime,n.key,-1)}class Ai{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ai(Ae.min(),ye.empty(),-1)}static max(){return new Ai(Ae.max(),ye.empty(),-1)}}function QC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==XC)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,i)=>{t(e)})}static reject(e){return new W((t,i)=>{i(e)})}static waitFor(e){return new W((t,i)=>{let o=0,l=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++l,u&&l===o&&t()},p=>i(p))}),u=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const i of e)t=t.next(o=>o?W.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new W((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{u[g]=_,++f,f===l&&i(u)},_=>o(_))}})}static doWhile(e,t){return new W((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function JC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vc.oe=-1;function Dc(n){return n==null}function yc(n){return n===0&&1/n==-1/0}function ZC(n){return typeof n=="number"&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=H_(e)),e=tx(n.get(t),e);return H_(e)}function tx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function H_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new vn([])}unionWith(e){let t=new Tt(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BT("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const nx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(n){if(Be(!!n),typeof n=="string"){let e=0;const t=nx.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ii(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nc(n){const e=n.mapValue.fields.__previous_value__;return _p(e)?Nc(e):e}function hl(n){const e=Si(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,i,o,l,u,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_p(n)?4:sx(n)?9007199254740991:ix(n)?10:11:Ee()}function mr(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Si(o.timestampValue),f=Si(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ii(o.bytesValue).isEqual(Ii(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=ct(o.doubleValue),f=ct(l.doubleValue);return u===f?yc(u)===yc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(K_(u)!==K_(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!mr(u[p],f[p])))return!1;return!0}(n,e);default:return Ee()}}function dl(n,e){return(n.values||[]).find(t=>mr(t,e))!==void 0}function xo(n,e){if(n===e)return 0;const t=Ri(n),i=Ri(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=ct(l.integerValue||l.doubleValue),p=ct(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Q_(n.timestampValue,e.timestampValue);case 4:return Q_(hl(n),hl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,u){const f=Ii(l),p=Ii(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=Ve(f[g],p[g]);if(_!==0)return _}return Ve(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Ve(ct(l.latitude),ct(u.latitude));return f!==0?f:Ve(ct(l.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return X_(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,g,_;const w=l.fields||{},E=u.fields||{},R=(f=w.value)===null||f===void 0?void 0:f.arrayValue,O=(p=E.value)===null||p===void 0?void 0:p.arrayValue,D=Ve(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:X_(R,O)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Ku.mapValue&&u===Ku.mapValue)return 0;if(l===Ku.mapValue)return 1;if(u===Ku.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const E=Ve(p[w],_[w]);if(E!==0)return E;const R=xo(f[p[w]],g[_[w]]);if(R!==0)return R}return Ve(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function Q_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Si(n),i=Si(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function X_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=xo(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function ko(n){return _d(n)}function _d(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Si(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ii(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=_d(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${_d(t.fields[u])}`;return o+"}"}(n.mapValue):Ee()}function nc(n){switch(Ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(n);return e?16+nc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ii(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+nc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return xi(i.fields,(l,u)=>{o+=l.length+nc(u)}),o}(n.mapValue);default:throw Ee()}}function Y_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vd(n){return!!n&&"integerValue"in n}function vp(n){return!!n&&"arrayValue"in n}function J_(n){return!!n&&"nullValue"in n}function Z_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rc(n){return!!n&&"mapValue"in n}function ix(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ja(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Ja(u):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){xi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new un(Ja(this.value))}}function jT(n){const e=[];return xi(n.fields,(t,i)=>{const o=new Ot([t]);if(rc(i)){const l=jT(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),un.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ae.min(),Ae.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ae.min(),Ae.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.position=e,this.inclusive=t}}function ev(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),t.key):i=xo(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ox(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{}class pt extends zT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new lx(e,t,i):t==="array-contains"?new hx(e,i):t==="in"?new fx(e,i):t==="not-in"?new dx(e,i):t==="array-contains-any"?new px(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ux(e,i):new cx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xo(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends zT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xn(e,t)}matches(e){return $T(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $T(n){return n.op==="and"}function qT(n){return ax(n)&&$T(n)}function ax(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function wd(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+ko(n.value);if(qT(n))return n.filters.map(e=>wd(e)).join(",");{const e=n.filters.map(t=>wd(t)).join(",");return`${n.op}(${e})`}}function WT(n,e){return n instanceof pt?function(i,o){return o instanceof pt&&i.op===o.op&&i.field.isEqual(o.field)&&mr(i.value,o.value)}(n,e):n instanceof Xn?function(i,o){return o instanceof Xn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,f)=>l&&WT(u,o.filters[f]),!0):!1}(n,e):void Ee()}function HT(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`}(n):n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(HT).join(" ,")+"}"}(n):"Filter"}class lx extends pt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class ux extends pt{constructor(e,t){super(e,"in",t),this.keys=KT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cx extends pt{constructor(e,t){super(e,"not-in",t),this.keys=KT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class hx extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vp(t)&&dl(t.arrayValue,this.value)}}class fx extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}}class dx extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!dl(this.value.arrayValue,t)}}class px extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.ue=null}}function nv(n,e=null,t=[],i=[],o=null,l=null,u=null){return new mx(n,e,t,i,o,l,u)}function wp(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ko(i)).join(",")),e.ue=t}return e.ue}function Tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ox(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tv(n.startAt,e.startAt)&&tv(n.endAt,e.endAt)}function Td(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gx(n,e,t,i,o,l,u,f){return new jo(n,e,t,i,o,l,u,f)}function Ep(n){return new jo(n)}function rv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GT(n){return n.collectionGroup!==null}function Za(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Tt(Ot.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new pl(l,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new pl(Ot.keyField(),i))}return e.ce}function fr(n){const e=Ie(n);return e.le||(e.le=yx(e,Za(n))),e.le}function yx(n,e){if(n.limitType==="F")return nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new pl(o.field,l)});const t=n.endAt?new _c(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _c(n.startAt.position,n.startAt.inclusive):null;return nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ed(n,e){const t=n.filters.concat([e]);return new jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ad(n,e,t){return new jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mc(n,e){return Tp(fr(n),fr(e))&&n.limitType===e.limitType}function QT(n){return`${wp(fr(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>HT(o)).join(", ")}]`),Dc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ko(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ko(o)).join(",")),`Target(${i})`}(fr(n))}; limitType=${n.limitType})`}function Lc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Za(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,p){const g=ev(u,f,p);return u.inclusive?g<=0:g<0}(i.startAt,Za(i),o)||i.endAt&&!function(u,f,p){const g=ev(u,f,p);return u.inclusive?g>=0:g>0}(i.endAt,Za(i),o))}(n,e)}function _x(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XT(n){return(e,t)=>{let i=!1;for(const o of Za(n)){const l=vx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function vx(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?xo(p,g):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new nt(ye.comparator);function Br(){return wx}const YT=new nt(ye.comparator);function Wa(...n){let e=YT;for(const t of n)e=e.insert(t.key,t);return e}function JT(n){let e=YT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function hs(){return el()}function ZT(){return el()}function el(){return new _s(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tx=new nt(ye.comparator),Ex=new Tt(ye.comparator);function xe(...n){let e=Ex;for(const t of n)e=e.add(t);return e}const Ax=new Tt(Ve);function Sx(){return Ax}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function eE(n){return{integerValue:""+n}}function Ix(n,e){return ZC(e)?eE(e):Ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function Rx(n,e,t){return n instanceof ml?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_p(l)&&(l=Nc(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):n instanceof Vo?nE(n,e):n instanceof gl?rE(n,e):function(o,l){const u=tE(o,l),f=iv(u)+iv(o.Pe);return vd(u)&&vd(o.Pe)?eE(f):Ap(o.serializer,f)}(n,e)}function Px(n,e,t){return n instanceof Vo?nE(n,e):n instanceof gl?rE(n,e):t}function tE(n,e){return n instanceof vc?function(i){return vd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ml extends Oc{}class Vo extends Oc{constructor(e){super(),this.elements=e}}function nE(n,e){const t=iE(e);for(const i of n.elements)t.some(o=>mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class gl extends Oc{constructor(e){super(),this.elements=e}}function rE(n,e){let t=iE(e);for(const i of n.elements)t=t.filter(o=>!mr(o,i));return{arrayValue:{values:t}}}class vc extends Oc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function iv(n){return ct(n.integerValue||n.doubleValue)}function iE(n){return vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t){this.field=e,this.transform=t}}function Cx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vo&&o instanceof Vo||i instanceof gl&&o instanceof gl?Co(i.elements,o.elements,mr):i instanceof vc&&o instanceof vc?mr(i.Pe,o.Pe):i instanceof ml&&o instanceof ml}(n.transform,e.transform)}class xx{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bc{}function oE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lE(n.key,dr.none()):new Tl(n.key,n.data,dr.none());{const t=n.data,i=un.empty();let o=new Tt(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new ki(n.key,i,new vn(o.toArray()),dr.none())}}function kx(n,e,t){n instanceof Tl?function(o,l,u){const f=o.value.clone(),p=ov(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(o,l,u){if(!ic(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=ov(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(aE(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function tl(n,e,t,i){return n instanceof Tl?function(l,u,f,p){if(!ic(l.precondition,u))return f;const g=l.value.clone(),_=av(l.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ki?function(l,u,f,p){if(!ic(l.precondition,u))return f;const g=av(l.fieldTransforms,p,u),_=u.data;return _.setAll(aE(l)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,u,f){return ic(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Vx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=tE(i.transform,o||null);l!=null&&(t===null&&(t=un.empty()),t.set(i.field,l))}return t||null}function sv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Co(i,o,(l,u)=>Cx(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tl extends bc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends bc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ov(n,e,t){const i=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,Px(u,f,t[o]))}return i}function av(n,e,t){const i=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);i.set(o.field,Rx(l,u,e))}return i}class lE extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dx extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&kx(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ZT();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=oE(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,i)=>sv(t,i))&&Co(this.baseMutations,e.baseMutations,(t,i)=>sv(t,i))}}class Sp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length);let o=function(){return Tx}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Sp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function Ox(n){switch(n){default:return Ee();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function uE(n){if(n===void 0)return Ur("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Ee()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new _i([4294967295,4294967295],0);function lv(n){const e=bx().encode(n),t=new VT;return t.update(e),new Uint8Array(t.digest())}function uv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _i([t,i],0),new _i([o,l],0)]}class Ip{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ha(`Invalid padding: ${t}`);if(i<0)throw new Ha(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=_i.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(_i.fromNumber(i)));return o.compare(Fx)===1&&(o=new _i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=lv(e),[i,o]=uv(t);for(let l=0;l<this.hashCount;l++){const u=this.de(i,o,l);if(!this.Ee(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ip(l,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=lv(e),[i,o]=uv(t);for(let l=0;l<this.hashCount;l++){const u=this.de(i,o,l);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Fc(Ae.min(),o,new nt(Ve),Br(),xe())}}class El{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new El(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class cE{constructor(e,t){this.targetId=e,this.me=t}}class hE{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class cv{constructor(){this.fe=0,this.ge=hv(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee()}}),new El(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=hv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ux{constructor(e){this.Be=e,this.Le=new Map,this.ke=Br(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new nt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Td(l))if(i===0){const u=new ye(l.path);this.We(t,u,Wt.newNoDocument(u,Ae.min()))}else Be(i===1);else{const u=this.Ze(t);if(u!==i){const f=this.Xe(e),p=f?this.et(f,e,u):1;if(p!==0){this.He(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=Ii(i).toUint8Array()}catch(p){if(p instanceof BT)return Po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ip(u,o,l)}catch(p){return Po(p instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const u=this.Be.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,u)=>{const f=this.Ye(u);if(f){if(l.current&&Td(f.target)){const p=new ye(f.target.path);this.st(p).has(u)||this.ot(u,p)||this.We(u,p,Wt.newNoDocument(p,e))}l.be&&(t.set(u,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const g=this.Ye(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,u)=>u.setReadTime(e));const o=new Fc(e,t,this.Ke,this.ke,i);return this.ke=Br(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new nt(Ve),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new cv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Tt(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tt(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new cv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Gu(){return new nt(ye.comparator)}function hv(){return new nt(ye.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class $x{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(n,e){return n.useProto3Json||Dc(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qx(n,e){return wc(n,e.toTimestamp())}function pr(n){return Be(!!n),Ae.fromTimestamp(function(t){const i=Si(t);return new wt(i.seconds,i.nanos)}(n))}function Rp(n,e){return Id(n,e).canonicalString()}function Id(n,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dE(n){const e=Ge.fromString(n);return Be(_E(e)),e}function Rd(n,e){return Rp(n.databaseId,e.path)}function jf(n,e){const t=dE(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(mE(t))}function pE(n,e){return Rp(n.databaseId,e)}function Wx(n){const e=dE(n);return e.length===4?Ge.emptyPath():mE(e)}function Pd(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mE(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fv(n,e,t){return{name:Rd(n,e),fields:t.value.mapValue.fields}}function Hx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string"),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const _=g.code===void 0?G.UNKNOWN:uE(g.code);return new ue(_,g.message||"")}(u);t=new hE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=jf(n,i.document.name),l=pr(i.document.updateTime),u=i.document.createTime?pr(i.document.createTime):Ae.min(),f=new un({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,u,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new sc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=jf(n,i.document),l=i.readTime?pr(i.readTime):Ae.min(),u=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new sc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=jf(n,i.document),l=i.removedTargetIds||[];t=new sc([],l,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new Lx(o,l),f=i.targetId;t=new cE(f,u)}}return t}function Kx(n,e){let t;if(e instanceof Tl)t={update:fv(n,e.key,e.value)};else if(e instanceof lE)t={delete:Rd(n,e.key)};else if(e instanceof ki)t={update:fv(n,e.key,e.data),updateMask:nk(e.fieldMask)};else{if(!(e instanceof Dx))return Ee();t={verify:Rd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof ml)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:qx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee()}(n,e.precondition)),t}function Gx(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let u=o.updateTime?pr(o.updateTime):pr(l);return u.isEqual(Ae.min())&&(u=pr(l)),new xx(u,o.transformResults||[])}(t,e))):[]}function Qx(n,e){return{documents:[pE(n,e.path)]}}function Xx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=pE(n,o);const l=function(g){if(g.length!==0)return yE(Xn.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(_=>function(E){return{field:mo(E.field),direction:Zx(E.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Sd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function Yx(n){let e=Wx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const E=gE(w);return E instanceof Xn&&qT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(O){return new pl(go(O.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,Dc(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(w){const E=!!w.before,R=w.values||[];return new _c(R,E)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const E=!w.before,R=w.values||[];return new _c(R,E)}(t.endAt)),gx(e,o,u,l,f,"F",p,g)}function Jx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=go(t.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=go(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(i=>gE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function Zx(n){return Bx[n]}function ek(n){return jx[n]}function tk(n){return zx[n]}function mo(n){return{fieldPath:n.canonicalString()}}function go(n){return Ot.fromServerFormat(n.fieldPath)}function yE(n){return n instanceof pt?function(t){if(t.op==="=="){if(Z_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(J_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(J_(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:ek(t.op),value:t.value}}}(n):n instanceof Xn?function(t){const i=t.getFilters().map(o=>yE(o));return i.length===1?i[0]:{compositeFilter:{op:tk(t.op),filters:i}}}(n):Ee()}function nk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _E(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,i,o,l=Ae.min(),u=Ae.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.ht=e}}function ik(n){const e=Yx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.ln=new ok}addToCollectionParentIndex(e,t){return this.ln.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Ai.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(Ge.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Do(0)}static Qn(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class ak{constructor(e){this.Gn=e,this.buffer=new Tt(pv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();pv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Yn(3e5)})}}class uk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Vc.oe);const i=new ak(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(dv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,u,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),fo()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function ck(n,e){return new uk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.changes=new _s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&tl(i.mutation,o,vn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let u=Wa();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let l=Br();const u=el(),f=function(){return el()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ki)?l=l.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),tl(_.mutation,g,_.mutation.getFieldMask(),wt.now())):u.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>{var w;return f.set(g,new fk(_,(w=u.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=el();let o=new nt((u,f)=>u-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||vn.empty();_=f.applyToLocalView(g,_),i.set(p,_);const w=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,w=ZT();_.forEach(E=>{if(!l.has(E)){const R=oE(t.get(E),i.get(E));R!==null&&w.set(E,R),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return W.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):W.resolve(hs());let f=-1,p=l;return u.next(g=>W.forEach(g,(_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(_)?W.resolve():this.remoteDocumentCache.getEntry(e,_).next(E=>{p=p.insert(_,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,xe())).next(_=>({batchId:f,changes:JT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Wa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let u=Wa();return this.indexManager.getCollectionParents(e,l).next(f=>W.forEach(f,p=>{const g=function(w,E){return new jo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(u=>{l.forEach((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Wt.newInvalidDocument(_)))});let f=Wa();return u.forEach((p,g)=>{const _=l.get(p);_!==void 0&&tl(_.mutation,g,vn.empty(),wt.now()),Lc(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return W.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ik(o.bundledQuery),readTime:pr(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.overlays=new nt(ye.comparator),this.dr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const i=hs();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){const o=hs(),l=t.length+1,u=new ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=hs(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=hs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=o)););return W.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Mx(t,i));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.Er=new Tt(Pt.Ar),this.Rr=new Tt(Pt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),l.push(u.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Tt(Pt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Nx(l,t,i,o);this.mutationQueue.push(u);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(u)}lookupMutationBatch(e,t){return W.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],u=>{const f=this.Cr(u.br);l.push(f)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Ve);return t.forEach(o=>{const l=new Pt(o,0),u=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,u],f=>{i=i.add(f.br)})}),W.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const u=new Pt(new ye(l),0);let f=new Tt(Ve);return this.vr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.br)),!0)},u),W.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return W.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.Nr=e,this.docs=function(){return new nt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Br();const u=t.path,f=new ye(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||QC(GC(_),i)<=0||(o.has(_.key)||Lc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee()}Br(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vk(this)}getSize(e){return W.resolve(this.size)}}class vk extends hk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.persistence=e,this.Lr=new _s(t=>wp(t),Tp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Pp,this.targetCount=0,this.Qr=Do.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),W.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Un(t),W.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Vc(0),this.Ur=!1,this.Ur=!0,this.Wr=new gk,this.referenceDelegate=e(this),this.Gr=new wk(this),this.indexManager=new sk,this.remoteDocumentCache=function(o){return new _k(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new rk(t),this.jr=new pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new yk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new Tk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return W.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Tk extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Zr=new Pp,this.Xr=null}static ei(e){return new Cp(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),W.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,i=>{const o=ye.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return W.or([()=>W.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Tc{constructor(e,t){this.persistence=e,this.ri=new _s(i=>ex(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ck(this,t)}static ei(e,t){return new Tc(e,t)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return W.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,u=>this.ir(e,u,t).next(f=>{f||(i++,l.removeEntry(u,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nc(e.data.value)),t}ir(e,t,i){return W.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return I1()?8:JC(A1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Ek;return this.ts(e,t,u).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(fo()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(fo()<=Le.DEBUG&&oe("QueryEngine","Query:",po(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(fo()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):W.resolve())}Xi(e,t){if(rv(t))return W.resolve(null);let i=fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ad(t,null,"F"),i=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=xe(...l);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.rs(t,f);return this.ss(t,g,u,p.readTime)?this.Xi(e,Ad(t,null,"F")):this.os(e,g,t,p)}))})))}es(e,t,i,o){return rv(t)||o.isEqual(Ae.min())?W.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const u=this.rs(t,l);return this.ss(t,u,i,o)?W.resolve(null):(fo()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.os(e,u,t,KC(o,-1)).next(f=>f))})}rs(e,t){let i=new Tt(XT(e));return t.forEach((o,l)=>{Lc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return fo()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",po(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ai.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ve),this.cs=new _s(l=>wp(l),Tp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Ik(n,e,t,i){return new Sk(n,e,t,i)}async function wE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=xe();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:f}))})})}function Rk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,_){const w=g.batch,E=w.keys();let R=W.resolve();return E.forEach(O=>{R=R.next(()=>_.getEntry(p,O)).next(D=>{const N=g.docVersions.get(O);Be(N!==null),D.version.compareTo(N)<0&&(w.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),_.addEntry(D)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function TE(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Pk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,w)=>{const E=o.get(w);if(!E)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,w)));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(w,R),function(D,N,q){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(E,R,_)&&f.push(t.Gr.updateTargetData(l,R))});let p=Br(),g=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(Ck(l,u,e.documentUpdates).next(_=>{p=_.Is,g=_.ds})),!i.isEqual(Ae.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return W.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.us=o,l))}function Ck(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Br();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Is:u,ds:o}})}function xk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,W.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new pi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Cd(n,e,t){const i=Ie(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Bo(u))throw u;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function mv(n,e,t){const i=Ie(n);let o=Ae.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,_){const w=Ie(p),E=w.cs.get(_);return E!==void 0?W.resolve(w.us.get(E)):w.Gr.getTargetData(g,_)}(i,u,fr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?l:xe())).next(f=>(Vk(i,_x(e),f),{documents:f,Es:l})))}function Vk(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class gv{constructor(){this.activeTargetIds=Sx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dk{constructor(){this._o=new gv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function zf(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Ok extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,u){const f=zf(),p=this.No(t,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,l,u),this.Lo(t,p,g,o).then(_=>(oe("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw Po("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,u,f){return this.Oo(t,i,o,l,u)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,u)=>t[u]=l),o&&o.headers.forEach((l,u)=>t[u]=l)}No(t,i){const o=Mk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=zf();return new Promise((u,f)=>{const p=new DT;p.setWithCredentials(!0),p.listenOnce(NT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const _=p.getResponseJson();oe(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case tc.TIMEOUT:oe(zt,`RPC '${e}' ${l} timed out`),f(new ue(G.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const w=p.getStatus();if(oe(zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E==null?void 0:E.error;if(R&&R.status&&R.message){const O=function(N){const q=N.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(q)>=0?q:G.UNKNOWN}(R.status);f(new ue(O,R.message))}else f(new ue(G.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ue(G.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe(zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);oe(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,i,15)})}qo(e,t,i){const o=zf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OT(),f=LT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");oe(zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=u.createWebChannel(_,p);let E=!1,R=!1;const O=new Lk({Eo:N=>{R?oe(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(E||(oe(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),oe(zt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Ao:()=>w.close()}),D=(N,q,H)=>{N.listen(q,Q=>{try{H(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return D(w,qa.EventType.OPEN,()=>{R||(oe(zt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),D(w,qa.EventType.CLOSE,()=>{R||(R=!0,oe(zt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),D(w,qa.EventType.ERROR,N=>{R||(R=!0,Po(zt,`RPC '${e}' stream ${o} transport errored:`,N),O.Do(new ue(G.UNAVAILABLE,"The operation could not be completed")))}),D(w,qa.EventType.MESSAGE,N=>{var q;if(!R){const H=N.data[0];Be(!!H);const Q=H,ne=(Q==null?void 0:Q.error)||((q=Q[0])===null||q===void 0?void 0:q.error);if(ne){oe(zt,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let ae=function(P){const V=dt[P];if(V!==void 0)return uE(V)}(re),k=ne.message;ae===void 0&&(ae=G.INTERNAL,k="Unknown error status: "+re+" with message "+ne.message),R=!0,O.Do(new ue(ae,k)),w.close()}else oe(zt,`RPC '${e}' stream ${o} received:`,H),O.vo(H)}}),D(f,MT.STAT_EVENT,N=>{N.stat===yd.PROXY?oe(zt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===yd.NOPROXY&&oe(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){return new $x(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t,i,o,l,u,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new EE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ue(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bk extends AE{constructor(e,t,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Hx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?pr(u.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Pd(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=Td(p)?{documents:Qx(l,p)}:{query:Xx(l,p).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=fE(l,u.resumeToken);const g=Sd(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ae.min())>0){f.readTime=wc(l,u.snapshotVersion.toTimestamp());const g=Sd(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=Jx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Pd(this.serializer),t.removeTarget=e,this.c_(t)}}class Fk extends AE{constructor(e,t,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Gx(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Pd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Kx(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Oo(e,Id(t,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(G.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,Id(t,i),o,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(G.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Bk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{vs(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.k_.add(4),await Al(g),g.K_.set("Unknown"),g.k_.delete(4),await Bc(g)}(this))})}),this.K_=new Bk(i,o)}}async function Bc(n){if(vs(n))for(const e of n.q_)await e(!0)}async function Al(n){for(const e of n.q_)await e(!1)}function SE(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Np(t)?Dp(t):zo(t).s_()&&Vp(t,e))}function kp(n,e){const t=Ie(n),i=zo(t);t.L_.delete(e),i.s_()&&IE(t,e),t.L_.size===0&&(i.s_()?i.a_():vs(t)&&t.K_.set("Unknown"))}function Vp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(n).V_(e)}function IE(n,e){n.U_.xe(e),zo(n).m_(e)}function Dp(n){n.U_=new Ux({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),zo(n).start(),n.K_.F_()}function Np(n){return vs(n)&&!zo(n).i_()&&n.L_.size>0}function vs(n){return Ie(n).k_.size===0}function RE(n){n.U_=void 0}async function zk(n){n.K_.set("Online")}async function $k(n){n.L_.forEach((e,t)=>{Vp(n,e)})}async function qk(n,e){RE(n),Np(n)?(n.K_.O_(e),Dp(n)):n.K_.set("Unknown")}async function Wk(n,e,t){if(n.K_.set("Online"),e instanceof hE&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ec(n,i)}else if(e instanceof sc?n.U_.$e(e):e instanceof cE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await TE(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.U_.it(u);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(g);_&&l.L_.set(g,_.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,g)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),IE(l,p);const w=new pi(_.target,p,g,_.sequenceNumber);Vp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await Ec(n,i)}}async function Ec(n,e,t){if(!Bo(e))throw e;n.k_.add(1),await Al(n),n.K_.set("Offline"),t||(t=()=>TE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Bc(n)})}function PE(n,e){return e().catch(t=>Ec(n,t,e))}async function jc(n){const e=Ie(n),t=Pi(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Hk(e);)try{const o=await xk(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,Kk(e,o)}catch(o){await Ec(e,o)}CE(e)&&xE(e)}function Hk(n){return vs(n)&&n.B_.length<10}function Kk(n,e){n.B_.push(e);const t=Pi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function CE(n){return vs(n)&&!Pi(n).i_()&&n.B_.length>0}function xE(n){Pi(n).start()}async function Gk(n){Pi(n).w_()}async function Qk(n){const e=Pi(n);for(const t of n.B_)e.g_(t.mutations)}async function Xk(n,e,t){const i=n.B_.shift(),o=Sp.from(i,e,t);await PE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await jc(n)}async function Yk(n,e){e&&Pi(n).f_&&await async function(i,o){if(function(u){return Ox(u)&&u!==G.ABORTED}(o.code)){const l=i.B_.shift();Pi(i).__(),await PE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await jc(i)}}(n,e),CE(n)&&xE(n)}async function _v(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=vs(t);t.k_.add(3),await Al(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Bc(t)}async function Jk(n,e){const t=Ie(n);e?(t.k_.delete(2),await Bc(t)):e||(t.k_.add(2),await Al(t),t.K_.set("Unknown"))}function zo(n){return n.W_||(n.W_=function(t,i,o){const l=Ie(t);return l.b_(),new bk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:zk.bind(null,n),mo:$k.bind(null,n),po:qk.bind(null,n),R_:Wk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Np(n)?Dp(n):n.K_.set("Unknown")):(await n.W_.stop(),RE(n))})),n.W_}function Pi(n){return n.G_||(n.G_=function(t,i,o){const l=Ie(t);return l.b_(),new Fk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Gk.bind(null,n),po:Yk.bind(null,n),p_:Qk.bind(null,n),y_:Xk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await jc(n)):(await n.G_.stop(),n.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const u=Date.now()+i,f=new Mp(e,t,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Bo(n))return new ue(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Wa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.z_=new nt(ye.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class No{constructor(e,t,i,o,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new No(e,t,Eo.emptySet(t),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class eV{constructor(){this.queries=wv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=wv(),l.forEach((u,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ue(G.ABORTED,"Firestore shutting down"))}}function wv(){return new _s(n=>QT(n),Mc)}async function kE(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new Zk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Lp(u,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Op(t)}async function VE(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const u=l.J_.indexOf(e);u>=0&&(l.J_.splice(u,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tV(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.J_)f.ta(o)&&(i=!0);u.H_=o}}i&&Op(t)}function nV(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Op(n){n.X_.forEach(e=>{e.next()})}var xd,Tv;(Tv=xd||(xd={})).na="default",Tv.Cache="cache";class DE{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new No(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class rV{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=XT(e),this.ma=new Eo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new vv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const E=o.get(_),R=Lc(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),D=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;E&&R?E.data.isEqual(R.data)?O!==D&&(i.track({type:3,doc:R}),N=!0):this.ya(E,R)||(i.track({type:2,doc:R}),N=!0,(p&&this.Va(R,p)>0||g&&this.Va(R,g)<0)&&(f=!0)):!E&&R?(i.track({type:0,doc:R}),N=!0):E&&!R&&(i.track({type:1,doc:E}),N=!0,(p||g)&&(f=!0)),N&&(R?(u=u.add(R),l=D?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:u,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,w)=>function(R,O){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return D(R)-D(O)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,g=p!==this.Aa;return this.Aa=p,u.length!==0||g?{snapshot:new No(this.query,e.ma,l,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new ME(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new NE(i))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return No.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class iV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sV{constructor(e){this.key=e,this.Fa=!1}}class oV{constructor(e,t,i,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new _s(f=>QT(f),Mc),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ye.comparator),this.La=new Map,this.ka=new Pp,this.qa={},this.Qa=new Map,this.Ka=Do.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function aV(n,e,t=!0){const i=BE(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await LE(i,e,t,!0),o}async function lV(n,e){const t=BE(n);await LE(t,e,!0,!1)}async function LE(n,e,t,i){const o=await kk(n.localStore,fr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await uV(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&SE(n.remoteStore,o),f}async function uV(n,e,t,i,o){n.Ua=(w,E,R)=>async function(D,N,q,H){let Q=N.view.ga(q);Q.ss&&(Q=await mv(D.localStore,N.query,!1).then(({documents:k})=>N.view.ga(k,Q)));const ne=H&&H.targetChanges.get(N.targetId),re=H&&H.targetMismatches.get(N.targetId)!=null,ae=N.view.applyChanges(Q,D.isPrimaryClient,ne,re);return Av(D,N.targetId,ae.ba),ae.snapshot}(n,w,E,R);const l=await mv(n.localStore,e,!0),u=new rV(e,l.Es),f=u.ga(l.documents),p=El.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=u.applyChanges(f,n.isPrimaryClient,p);Av(n,t,g.ba);const _=new iV(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function cV(n,e,t){const i=Ie(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(u=>!Mc(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Cd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&kp(i.remoteStore,o.targetId),kd(i,o.targetId)}).catch(Uo)):(kd(i,o.targetId),await Cd(i.localStore,o.targetId,!0))}async function hV(n,e){const t=Ie(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kp(t.remoteStore,i.targetId))}async function fV(n,e,t){const i=vV(n);try{const o=await function(u,f){const p=Ie(u),g=wt.now(),_=f.reduce((R,O)=>R.add(O.key),xe());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=Br(),D=xe();return p.hs.getEntries(R,_).next(N=>{O=N,O.forEach((q,H)=>{H.isValidDocument()||(D=D.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,O)).next(N=>{w=N;const q=[];for(const H of f){const Q=Vx(H,w.get(H.key).overlayedDocument);Q!=null&&q.push(new ki(H.key,Q,jT(Q.value.mapValue),dr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,q,f)}).next(N=>{E=N;const q=N.applyToLocalDocumentSet(w,D);return p.documentOverlayCache.saveOverlays(R,N.batchId,q)})}).then(()=>({batchId:E.batchId,changes:JT(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,p){let g=u.qa[u.currentUser.toKey()];g||(g=new nt(Ve)),g=g.insert(f,p),u.qa[u.currentUser.toKey()]=g}(i,o.batchId,t),await Sl(i,o.changes),await jc(i.remoteStore)}catch(o){const l=Lp(o,"Failed to persist write");t.reject(l)}}async function OE(n,e){const t=Ie(n);try{const i=await Pk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.La.get(l);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Be(u.Fa):o.removedDocuments.size>0&&(Be(u.Fa),u.Fa=!1))}),await Sl(t,i,e)}catch(i){await Uo(i)}}function Ev(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,u)=>{const f=u.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const p=Ie(u);p.onlineState=f;let g=!1;p.queries.forEach((_,w)=>{for(const E of w.J_)E.ea(f)&&(g=!0)}),g&&Op(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dV(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let u=new nt(ye.comparator);u=u.insert(l,Wt.newNoDocument(l,Ae.min()));const f=xe().add(l),p=new Fc(Ae.min(),new Map,new nt(Ve),u,f);await OE(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),bp(i)}else await Cd(i.localStore,e,!1).then(()=>kd(i,e,t)).catch(Uo)}async function pV(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await Rk(t.localStore,e);FE(t,i,null),bE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Sl(t,o)}catch(o){await Uo(o)}}async function mV(n,e,t){const i=Ie(n);try{const o=await function(u,f){const p=Ie(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next(w=>(Be(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);FE(i,e,t),bE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Sl(i,o)}catch(o){await Uo(o)}}function bE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function FE(n,e,t){const i=Ie(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function kd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||UE(n,i)})}function UE(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(kp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),bp(n))}function Av(n,e,t){for(const i of t)i instanceof NE?(n.ka.addReference(i.key,e),gV(n,i)):i instanceof ME?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||UE(n,i.key)):Ee()}function gV(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.Na.add(i),bp(n))}function bp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(Ge.fromString(e)),i=n.Ka.next();n.La.set(i,new sV(t)),n.Ba=n.Ba.insert(t,i),SE(n.remoteStore,new pi(fr(Ep(t.path)),i,"TargetPurposeLimboResolution",Vc.oe))}}async function Sl(n,e,t){const i=Ie(n),o=[],l=[],u=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{u.push(i.Ua(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=xp.zi(p.targetId,g);l.push(w)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(g,E=>W.forEach(E.Wi,R=>_.persistence.referenceDelegate.addReference(w,E.targetId,R)).next(()=>W.forEach(E.Gi,R=>_.persistence.referenceDelegate.removeReference(w,E.targetId,R)))))}catch(w){if(!Bo(w))throw w;oe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const E=w.targetId;if(!w.fromCache){const R=_.us.get(E),O=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(E,D)}}}(i.localStore,l))}async function yV(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await wE(t.localStore,e);t.currentUser=e,function(l,u){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ue(G.CANCELLED,u))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sl(t,i.Ts)}}function _V(n,e){const t=Ie(n),i=t.La.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const u of l){const f=t.xa.get(u);o=o.unionWith(f.view.fa)}return o}}function BE(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dV.bind(null,e),e.Ma.R_=tV.bind(null,e.eventManager),e.Ma.Wa=nV.bind(null,e.eventManager),e}function vV(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mV.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Ik(this.persistence,new Ak,e.initialUser,this.serializer)}ja(e){return new vE(Cp.ei,this.serializer)}za(e){return new Dk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class wV extends Ac{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof Tc);const i=this.persistence.referenceDelegate.garbageCollector;return new lk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new vE(i=>Tc.ei(i,t),this.serializer)}}class Vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await Jk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eV}()}createDatastore(e){const t=Uc(e.databaseInfo.databaseId),i=function(l){return new Ok(l)}(e.databaseInfo);return function(l,u,f,p){return new Uk(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,u,f){return new jk(i,o,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ev(this.syncEngine,t,0),function(){return yv.p()?new yv:new Nk}())}createSyncEngine(e,t){return function(o,l,u,f,p,g,_){const w=new oV(o,l,u,f,p,g);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);oe("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Al(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vd.provider={build:()=>new Vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=FT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{oe("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qf(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await wE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Sv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EV(n);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>_v(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>_v(e.remoteStore,o)),n._onlineComponents=e}async function EV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await qf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await qf(n,new Ac)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await qf(n,new wV(void 0));return n._offlineComponents}async function zE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Sv(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Sv(n,new Vd))),n._onlineComponents}function AV(n){return zE(n).then(e=>e.syncEngine)}async function Dd(n){const e=await zE(n),t=e.eventManager;return t.onListen=aV.bind(null,e.syncEngine),t.onUnlisten=cV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hV.bind(null,e.syncEngine),t}function SV(n,e,t={}){const i=new vi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,g){const _=new jE({next:E=>{_.eu(),u.enqueueAndForget(()=>VE(l,w)),E.fromCache&&p.source==="server"?g.reject(new ue(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),w=new DE(f,_,{includeMetadataChanges:!0,ua:!0});return kE(l,w)}(await Dd(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n,e,t){if(!t)throw new ue(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IV(n,e,t,i){if(e===!0&&i===!0)throw new ue(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rv(n){if(!ye.isDocumentKey(n))throw new ue(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pv(n){if(ye.isDocumentKey(n))throw new ue(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zc(n);throw new ue(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new FC;switch(i.type){case"firstParty":return new zC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Iv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),Iv.delete(t),i.terminate())}(this),Promise.resolve()}}function RV(n,e,t,i={}){var o;const l=(n=Or(n,$c))._getSettings(),u=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=wT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ue(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(g)}n._authCredentials=new UC(new bT(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class wi extends Vi{constructor(e,t,i){super(e,t,Ep(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ye(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Wf(n,e,...t){if(n=hn(n),qE("collection","path",e),n instanceof $c){const i=Ge.fromString(e,...t);return Pv(i),new wi(n,null,i)}{if(!(n instanceof cn||n instanceof wi))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Pv(i),new wi(n.firestore,null,i)}}function WE(n,e,...t){if(n=hn(n),arguments.length===1&&(e=FT.newId()),qE("doc","path",e),n instanceof $c){const i=Ge.fromString(e,...t);return Rv(i),new cn(n,null,new ye(i))}{if(!(n instanceof cn||n instanceof wi))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Rv(i),new cn(n.firestore,n instanceof wi?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new EE(this,"async_queue_retry"),this.fu=()=>{const i=$f();i&&oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=$f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=$f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new vi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bo(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Mp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function kv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Mo extends $c{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new xv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function PV(n,e){const t=typeof n=="object"?n:CT(),i=typeof n=="string"?n:"(default)",o=IT(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=_T("firestore");l&&RV(o,...l)}return o}function Fp(n){if(n._terminated)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CV(n),n._firestoreClient}function CV(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,g,_){return new rx(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$E(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new TV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(bt.fromBase64String(e))}catch(t){throw new ue(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^__.*__$/;class kV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}class HE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Wc{constructor(e,t,i,o,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(KE(this.Mu)&&xV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class VV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Uc(e)}$u(e,t,i,o=!1){return new Wc({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(n){const e=n._freezeSettings(),t=Uc(n._databaseId);return new VV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DV(n,e,t,i,o,l={}){const u=n.$u(l.merge||l.mergeFields?2:0,e,t,o);qp("Data must be an object, but it was:",u,i);const f=GE(i,u);let p,g;if(l.merge)p=new vn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const E=Nd(e,w,t);if(!u.contains(E))throw new ue(G.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);XE(_,E)||_.push(E)}p=new vn(_),g=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=u.fieldTransforms;return new kV(new un(f),p,g)}class Hc extends Il{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function NV(n,e,t){return new Wc({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zp extends Il{_toFieldTransform(e){return new sE(e.path,new ml)}isEqual(e){return e instanceof zp}}class $p extends Il{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=NV(this,e,!0),i=this.Uu.map(l=>$o(l,t)),o=new Vo(i);return new sE(e.path,o)}isEqual(e){return e instanceof $p&&mc(this.Uu,e.Uu)}}function MV(n,e,t,i){const o=n.$u(1,e,t);qp("Data must be an object, but it was:",o,i);const l=[],u=un.empty();xi(i,(p,g)=>{const _=Wp(e,p,t);g=hn(g);const w=o.Lu(_);if(g instanceof Hc)l.push(_);else{const E=$o(g,w);E!=null&&(l.push(_),u.set(_,E))}});const f=new vn(l);return new HE(u,f,o.fieldTransforms)}function LV(n,e,t,i,o,l){const u=n.$u(1,e,t),f=[Nd(e,i,t)],p=[o];if(l.length%2!=0)throw new ue(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Nd(e,l[E])),p.push(l[E+1]);const g=[],_=un.empty();for(let E=f.length-1;E>=0;--E)if(!XE(g,f[E])){const R=f[E];let O=p[E];O=hn(O);const D=u.Lu(R);if(O instanceof Hc)g.push(R);else{const N=$o(O,D);N!=null&&(g.push(R),_.set(R,N))}}const w=new vn(g);return new HE(_,w,u.fieldTransforms)}function OV(n,e,t,i=!1){return $o(t,n.$u(i?4:3,e))}function $o(n,e){if(QE(n=hn(n)))return qp("Unsupported field value:",e,n),GE(n,e);if(n instanceof Il)return function(i,o){if(!KE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let u=0;for(const f of i){let p=$o(f,o.ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=hn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ix(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:wc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wc(o.serializer,l)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Lo)return{bytesValue:fE(o.serializer,i._byteString)};if(i instanceof cn){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Rp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Bp)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Ap(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${zc(i)}`)}(n,e)}function GE(n,e){const t={};return UT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,(i,o)=>{const l=$o(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function QE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Up||n instanceof Lo||n instanceof cn||n instanceof Il||n instanceof Bp)}function qp(n,e,t){if(!QE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=zc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Nd(n,e,t){if((e=hn(e))instanceof qc)return e._internalPath;if(typeof e=="string")return Wp(n,e);throw Sc("Field path arguments must be of type string or ",n,!1,void 0,t)}const bV=new RegExp("[~\\*/\\[\\]]");function Wp(n,e,t){if(e.search(bV)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sc(n,e,t,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new ue(G.INVALID_ARGUMENT,f+n+p)}function XE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FV extends YE{data(){return super.data()}}function Hp(n,e){return typeof e=="string"?Wp(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class ZE extends Kp{}function UV(n,e,...t){let i=[];e instanceof Kp&&i.push(e),i=i.concat(t),function(l){const u=l.filter(p=>p instanceof Qp).length,f=l.filter(p=>p instanceof Gp).length;if(u>1||u>0&&f>0)throw new ue(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Gp extends ZE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gp(e,t,i)}_apply(e){const t=this._parse(e);return e0(e._query,t),new Vi(e.firestore,e.converter,Ed(e._query,t))}_parse(e){const t=jp(e.firestore);return function(l,u,f,p,g,_,w){let E;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Dv(w,_);const R=[];for(const O of w)R.push(Vv(p,l,O));E={arrayValue:{values:R}}}else E=Vv(p,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Dv(w,_),E=OV(f,u,w,_==="in"||_==="not-in");return pt.create(g,_,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qp extends Kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)e0(u,p),u=Ed(u,p)}(e._query,t),new Vi(e.firestore,e.converter,Ed(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends ZE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xp(e,t)}_apply(e){const t=function(o,l,u){if(o.startAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pl(l,u)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new jo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function BV(n,e="asc"){const t=e,i=Hp("orderBy",n);return Xp._create(i,t)}function Vv(n,e,t){if(typeof(t=hn(t))=="string"){if(t==="")throw new ue(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(e)&&t.indexOf("/")!==-1)throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ge.fromString(t));if(!ye.isDocumentKey(i))throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Y_(n,new ye(i))}if(t instanceof cn)return Y_(n,t._key);throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(t)}.`)}function Dv(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e0(n,e){const t=function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jV{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>ct(u.doubleValue));return new Bp(l)}convertGeoPoint(e){return new Up(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=Si(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ge.fromString(e);Be(_E(i));const o=new fl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t0 extends YE{constructor(e,t,i,o,l,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Hp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class oc extends t0{data(e={}){return super.data(e)}}class n0{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ka(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new oc(this._firestore,this._userDataWriter,i.key,i,new Ka(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const p=new oc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ka(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new oc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ka(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:$V(f.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $V(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Yp extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function qV(n){n=Or(n,Vi);const e=Or(n.firestore,Mo),t=Fp(e),i=new Yp(e);return JE(n._query),SV(t,n._query).then(o=>new n0(e,i,n,o))}function WV(n,e,t,...i){n=Or(n,cn);const o=Or(n.firestore,Mo),l=jp(o);let u;return u=typeof(e=hn(e))=="string"||e instanceof qc?LV(l,"updateDoc",n._key,e,t,i):MV(l,"updateDoc",n._key,e),r0(o,[u.toMutation(n._key,dr.exists(!0))])}function Nv(n,e){const t=Or(n.firestore,Mo),i=WE(n),o=zV(n.converter,e);return r0(t,[DV(jp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,dr.exists(!1))]).then(()=>i)}function HV(n,...e){var t,i,o;n=hn(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||kv(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(kv(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(n instanceof cn)g=Or(n.firestore,Mo),_=Ep(n._key.path),p={next:w=>{e[u]&&e[u](KV(g,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Or(n,Vi);g=Or(w.firestore,Mo),_=w._query;const E=new Yp(g);p={next:R=>{e[u]&&e[u](new n0(g,E,w,R))},error:e[u+1],complete:e[u+2]},JE(n._query)}return function(E,R,O,D){const N=new jE(D),q=new DE(R,N,O);return E.asyncQueue.enqueueAndForget(async()=>kE(await Dd(E),q)),()=>{N.eu(),E.asyncQueue.enqueueAndForget(async()=>VE(await Dd(E),q))}}(Fp(g),_,f,p)}function r0(n,e){return function(i,o){const l=new vi;return i.asyncQueue.enqueueAndForget(async()=>fV(await AV(i),o,l)),l.promise}(Fp(n),e)}function KV(n,e,t){const i=t.docs.get(e._key),o=new Yp(n);return new t0(n,o,e._key,i,new Ka(t.hasPendingWrites,t.fromCache),e.converter)}function Ic(){return new zp("serverTimestamp")}function GV(...n){return new $p("arrayUnion",n)}(function(e,t=!0){(function(o){Fo=o})(RT),ul(new Ro("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Mo(new BC(i.getProvider("auth-internal")),new qC(i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(g.options.projectId,_)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),yi(W_,"4.7.6",e),yi(W_,"4.7.6","esm2017")})();function i0({onSubmit:n}){const[e,t]=pe.useState(""),[i,o]=pe.useState(""),[l,u]=pe.useState(""),f=async()=>{if(e.trim()){const p=i.trim()?i:"An0n",g={text:e,username:p,country:l,createdAt:Ic(),replies:[]};try{await n(g),t(""),o(""),u("")}catch(_){console.error("Error submitting comment:",_)}}};return de.jsxs("div",{className:"mt-4",children:[de.jsx(mT,{username:i,setUsername:o,country:l,setCountry:u}),de.jsx(Bv,{placeholder:"Write a comment...",value:e,onChange:p=>t(p.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),de.jsx(Uv,{onClick:f,className:"w-full bg-purple-600 hover:bg-purple-500",children:"Submit"})]})}var QV="firebase",XV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(QV,XV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firebasestorage.googleapis.com",o0="storageBucket",YV=2*60*1e3,JV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends ys{constructor(e,t,i=0){super(Hf(e),`Firebase Storage: ${t} (${Hf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function Hf(n){return"storage/"+n}function Jp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(st.UNKNOWN,n)}function ZV(n){return new ot(st.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function eD(n){return new ot(st.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(st.UNAUTHENTICATED,n)}function nD(){return new ot(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rD(n){return new ot(st.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function iD(){return new ot(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sD(){return new ot(st.CANCELED,"User canceled the upload/download.")}function oD(n){return new ot(st.INVALID_URL,"Invalid URL '"+n+"'.")}function aD(n){return new ot(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lD(){return new ot(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o0+"' property when initializing the app?")}function uD(){return new ot(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cD(){return new ot(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hD(n){return new ot(st.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Md(n){return new ot(st.INVALID_ARGUMENT,n)}function a0(){return new ot(st.APP_DELETED,"The Firebase app was deleted.")}function fD(n){return new ot(st.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nl(n,e){return new ot(st.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ba(n){throw new ot(st.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(i.path==="")return i;throw aD(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${_}/b/${o}/o${E}`,"i"),O={bucket:1,path:3},D=t===s0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",q=new RegExp(`^https?://${D}/${o}/${N}`,"i"),Q=[{regex:f,indices:p,postModify:l},{regex:R,indices:O,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<Q.length;ne++){const re=Q[ne],ae=re.regex.exec(e);if(ae){const k=ae[re.indices.bucket];let S=ae[re.indices.path];S||(S=""),i=new wn(k,S),re.postModify(i);break}}if(i==null)throw oD(e);return i}}class dD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n,e,t){let i=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function _(...N){g||(g=!0,e.apply(null,N))}function w(N){o=setTimeout(()=>{o=null,n(R,p())},N)}function E(){l&&clearTimeout(l)}function R(N,...q){if(g){E();return}if(N){E(),_.call(null,N,...q);return}if(p()||u){E(),_.call(null,N,...q);return}i<64&&(i*=2);let Q;f===1?(f=2,Q=0):Q=(i+Math.random())*1e3,w(Q)}let O=!1;function D(N){O||(O=!0,E(),!g&&(o!==null?(N||(f=2),clearTimeout(o),w(0)):N||(f=1)))}return w(0),l=setTimeout(()=>{u=!0,D(!0)},t),D}function mD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){return n!==void 0}function yD(n){return typeof n=="object"&&!Array.isArray(n)}function Zp(n){return typeof n=="string"||n instanceof String}function Mv(n){return em()&&n instanceof Blob}function em(){return typeof Blob<"u"}function Lv(n,e,t,i){if(i<e)throw Md(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Md(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function l0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var ds;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ds||(ds={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,i,o,l,u,f,p,g,_,w,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Xu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===ds.NO_ERROR,p=l.getStatus();if(!f||_D(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===ds.ABORT;i(!1,new Xu(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Xu(g,l))})},t=(i,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());gD(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=Jp();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?a0():sD();u(p)}else{const p=iD();u(p)}};this.canceled_?t(!1,new Xu(!1,null,!0)):this.backoffId_=pD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function wD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function TD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ED(n,e){e&&(n["X-Firebase-GMPID"]=e)}function AD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SD(n,e,t,i,o,l,u=!0){const f=l0(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return ED(g,e),wD(g,t),TD(g,l),AD(g,i),new vD(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RD(...n){const e=ID();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(em())return new Blob(n);throw new ot(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n){if(typeof atob>"u")throw hD("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kf{constructor(e,t){this.data=e,this.contentType=t||null}}function xD(n,e){switch(n){case ur.RAW:return new Kf(u0(e));case ur.BASE64:case ur.BASE64URL:return new Kf(c0(n,e));case ur.DATA_URL:return new Kf(VD(e),DD(e))}throw Jp()}function u0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=n.charCodeAt(++t);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function kD(n){let e;try{e=decodeURIComponent(n)}catch{throw nl(ur.DATA_URL,"Malformed data URL.")}return u0(e)}function c0(n,e){switch(n){case ur.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw nl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw nl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CD(e)}catch(o){throw o.message.includes("polyfill")?o:nl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class h0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw nl(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=ND(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function VD(n){const e=new h0(n);return e.base64?c0(ur.BASE64,e.rest):kD(e.rest)}function DD(n){return new h0(n).contentType}function ND(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){let i=0,o="";Mv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Mv(this.data_)){const i=this.data_,o=PD(i,e,t);return o===null?null:new di(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new di(i,!0)}}static getBlob(...e){if(em()){const t=e.map(i=>i instanceof di?i.data_:i);return new di(RD.apply(null,t))}else{const t=e.map(u=>Zp(u)?xD(ur.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new di(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){let e;try{e=JSON.parse(n)}catch{return null}return yD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function LD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function d0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){return e}class Yt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||OD}}let Yu=null;function bD(n){return!Zp(n)||n.length<2?n:d0(n)}function p0(){if(Yu)return Yu;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,u){return bD(u)}const t=new Yt("name");t.xform=e,n.push(t);function i(l,u){return u!==void 0?Number(u):u}const o=new Yt("size");return o.xform=i,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),Yu=n,Yu}function FD(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new wn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function UD(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];i[u.local]=u.xform(i,e[u.server])}return FD(i,n),i}function m0(n,e,t){const i=f0(e);return i===null?null:UD(n,i,t)}function BD(n,e,t,i){const o=f0(e);if(o===null||!Zp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,w=n.fullPath,E="/b/"+u(_)+"/o/"+u(w),R=tm(E,t,i),O=l0({alt:"media",token:g});return R+O})[0]}function jD(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class g0{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){if(!n)throw Jp()}function zD(n,e){function t(i,o){const l=m0(n,o,e);return y0(l!==null),l}return t}function $D(n,e){function t(i,o){const l=m0(n,o,e);return y0(l!==null),BD(l,o,n.host,n._protocol)}return t}function _0(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=nD():o=tD():t.getStatus()===402?o=eD(n.bucket):t.getStatus()===403?o=rD(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function qD(n){const e=_0(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=ZV(n.path)),l.serverResponse=o.serverResponse,l}return t}function WD(n,e,t){const i=e.fullServerUrl(),o=tm(i,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,f=new g0(o,l,$D(n,t),u);return f.errorHandler=qD(e),f}function HD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function KD(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=HD(null,e)),i}function GD(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=KD(e,i,o),_=jD(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,E=`\r
--`+p+"--",R=di.getBlob(w,i,E);if(R===null)throw uD();const O={name:g.fullPath},D=tm(l,n.host,n._protocol),N="POST",q=n.maxUploadRetryTime,H=new g0(D,N,zD(n,t),q);return H.urlParams=O,H.headers=u,H.body=R.uploadData(),H.errorHandler=_0(e),H}class QD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ds.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ds.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ds.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Ba("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ba("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ba("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ba("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ba("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XD extends QD{initXhr(){this.xhr_.responseType="text"}}function v0(){return new XD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ms(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d0(this._location.path)}get storage(){return this._service}get parent(){const e=MD(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new ms(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fD(e)}}function YD(n,e,t){n._throwIfRoot("uploadBytes");const i=GD(n.storage,n._location,p0(),new di(e,!0),t);return n.storage.makeRequestWithTokens(i,v0).then(o=>({metadata:o,ref:n}))}function JD(n){n._throwIfRoot("getDownloadURL");const e=WD(n.storage,n._location,p0());return n.storage.makeRequestWithTokens(e,v0).then(t=>{if(t===null)throw cD();return t})}function ZD(n,e){const t=LD(n._location.path,e),i=new wn(n._location.bucket,t);return new ms(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){return/^[A-Za-z]+:\/\//.test(n)}function t2(n,e){return new ms(n,e)}function w0(n,e){if(n instanceof nm){const t=n;if(t._bucket==null)throw lD();const i=new ms(t,t._bucket);return e!=null?w0(i,e):i}else return e!==void 0?ZD(n,e):n}function n2(n,e){if(e&&e2(e)){if(n instanceof nm)return t2(n,e);throw Md("To use ref(service, url), the first argument must be a Storage instance.")}else return w0(n,e)}function Ov(n,e){const t=e==null?void 0:e[o0];return t==null?null:wn.makeFromBucketSpec(t,n)}function r2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:wT(o,n.app.options.projectId))}class nm{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=s0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YV,this._maxUploadRetryTime=JV,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=Ov(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Ov(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ms(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new dD(a0());{const u=SD(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const bv="@firebase/storage",Fv="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="storage";function i2(n,e,t){return n=hn(n),YD(n,e,t)}function s2(n){return n=hn(n),JD(n)}function o2(n,e){return n=hn(n),n2(n,e)}function a2(n=CT(),e){n=hn(n);const i=IT(n,T0).getImmediate({identifier:e}),o=_T("storage");return o&&l2(i,...o),i}function l2(n,e,t,i={}){r2(n,e,t,i)}function u2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new nm(t,i,o,e,RT)}function c2(){ul(new Ro(T0,u2,"PUBLIC").setMultipleInstances(!0)),yi(bv,Fv,""),yi(bv,Fv,"esm2017")}c2();const h2={apiKey:"AIzaSyDaEBKWvFiT3hMTKhz_DU5k9i2FCip0Mx4",authDomain:"imageboard-176a7.firebaseapp.com",projectId:"imageboard-176a7",storageBucket:"imageboard-176a7.firebasestorage.app",messagingSenderId:"848950340650",appId:"1:848950340650:web:fd52a1c2805a6829e56753"},E0=PT(h2),ac=PV(E0),f2=a2(E0);function d2({comment:n,postId:e}){const[t,i]=pe.useState(!1),o=u=>{if(!u)return"Just now";const f=u.toDate?u.toDate():new Date(u);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(f)},l=async u=>{if(!e||!n.id)return;const f=WE(ac,"posts",e),p={text:u.text,username:u.username||"An0n",country:u.country||"Unknown",createdAt:Ic()};try{await WV(f,{comments:GV({...n,replies:[...n.replies||[],p]})}),i(!1)}catch(g){console.error("Error adding reply:",g)}};return de.jsxs(Gf,{className:"p-4 bg-purple-700 rounded-lg mb-4",children:[de.jsxs("div",{className:"flex items-center justify-between mb-2",children:[de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:"mr-2",children:n.country||"Unknown"}),de.jsx("span",{className:"font-bold mr-2",children:n.username||"Anonymous"})]}),de.jsx("span",{className:"text-gray-400 text-sm",children:n.createdAt?o(n.createdAt):"Just now"})]}),de.jsx("p",{className:"text-white mb-2",children:n.text}),de.jsx("button",{onClick:()=>i(u=>!u),className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Reply"}),t&&de.jsx(i0,{onSubmit:l}),de.jsx(A0,{comments:n.replies||[]})]})}function A0({comments:n=[],addReply:e}){return de.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:n.length>0?n.map((t,i)=>{var o;return de.jsx(d2,{comment:{...t,createdAt:(o=t.createdAt)!=null&&o.toDate?t.createdAt.toDate():new Date},addReply:l=>e(t.id,l)},t.id||i)}):de.jsx("p",{className:"text-gray-400 text-sm",children:"No comments yet. Be the first to comment!"})})}function p2({onSubmit:n}){const[e,t]=pe.useState(!1);return e?de.jsx(i0,{onSubmit:i=>{n(i),t(!1)}}):de.jsx("button",{onClick:()=>t(!0),className:"text-blue-400 text-sm underline hover:text-blue-300 mt-2",children:"Add Comment / Reply"})}function m2(){const[n,e]=pe.useState([]),[t,i]=pe.useState(""),[o,l]=pe.useState(null),[u,f]=pe.useState(""),[p,g]=pe.useState(""),_=Wf(ac,"posts"),w=D=>D?D.toDate?new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(D.toDate()):new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(D)):"Just now";pe.useEffect(()=>{const D=HV(_,async N=>{const q=await Promise.all(N.docs.map(async H=>{const Q=H.data(),ne=Wf(ac,"posts",H.id,"comments"),re=await qV(UV(ne,BV("createdAt","asc")));return{id:H.id,...Q,createdAt:Q.createdAt?Q.createdAt:new Date,comments:re.docs.map(ae=>({id:ae.id,...ae.data()}))}}));e(q)});return()=>D()},[]);const E=async()=>{if(t||o){const D=u.trim()?u:"An0n",N={text:t,image:o,username:D,country:p,createdAt:Ic()};await Nv(_,N),i(""),l(null),f(""),g("")}},R=async D=>{const N=D.target.files[0];if(N)try{const q=o2(f2,`images/${N.name}`);await i2(q,N);const H=await s2(q);l(H),console.log("Uploaded Image URL:",H)}catch(q){console.error("Error uploading image:",q)}},O=async(D,N)=>{const q=Wf(ac,"posts",D,"comments"),H={text:N,username:u||"An0n",country:p||"Unknown",createdAt:Ic()};try{await Nv(q,H)}catch(Q){console.error("Error adding comment:",Q)}};return de.jsx("div",{className:"min-h-screen bg-purple-900 text-white p-6 flex flex-col items-center",children:de.jsxs("div",{className:"w-full max-w-2xl",children:[de.jsxs(Gf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[de.jsx(mT,{username:u,setUsername:f,country:p,setCountry:g}),de.jsx(Bv,{placeholder:"What's on your mind?",value:t,onChange:D=>i(D.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),de.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",id:"upload"}),de.jsxs("label",{htmlFor:"upload",className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white",children:[de.jsx(BA,{size:20})," Upload Image"]}),o&&de.jsx("img",{src:o,alt:"Preview",className:"mt-3 rounded-lg max-h-40"}),de.jsx(Uv,{onClick:E,className:"w-full mt-4 bg-purple-600 hover:bg-purple-500",children:"Post"})]}),de.jsx("div",{className:"mt-6 space-y-4",children:n.map(D=>de.jsx(h1.div,{initial:{opacity:0},animate:{opacity:1},children:de.jsxs(Gf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[de.jsx("div",{className:"flex items-center justify-between mb-2",children:de.jsxs("div",{className:"flex items-center",children:[de.jsx("span",{className:"mr-2",children:D.country}),de.jsx("span",{className:"font-bold mr-2",children:D.username}),de.jsx("span",{className:"text-gray-400 text-sm",children:D.createdAt?w(D.createdAt):"Just now"})]})}),D.text&&de.jsx("p",{className:"mb-2 text-white",children:D.text}),D.image&&de.jsx("img",{src:D.image,alt:"Post",className:"rounded-lg max-h-60"}),de.jsx(A0,{comments:D.comments,addReply:N=>O(D.id,N)}),de.jsx(p2,{onSubmit:N=>O(D.id,N)})]})},D.id))})]})})}MA.createRoot(document.getElementById("root")).render(de.jsx(pe.StrictMode,{children:de.jsx(m2,{})}));
