(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var _f={exports:{}},La={},vf={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function dS(){if(ty)return Ce;ty=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function D(b,K,me){this.props=b,this.context=K,this.refs=N,this.updater=me||R}D.prototype.isReactComponent={},D.prototype.setState=function(b,K){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,K,"setState")},D.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=D.prototype;function W(b,K,me){this.props=b,this.context=K,this.refs=N,this.updater=me||R}var G=W.prototype=new q;G.constructor=W,O(G,D.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,ae={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function A(b,K,me){var Re,Pe={},De=null,Fe=null;if(K!=null)for(Re in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)re.call(K,Re)&&!x.hasOwnProperty(Re)&&(Pe[Re]=K[Re]);var Ue=arguments.length-2;if(Ue===1)Pe.children=me;else if(1<Ue){for(var $e=Array(Ue),Tt=0;Tt<Ue;Tt++)$e[Tt]=arguments[Tt+2];Pe.children=$e}if(b&&b.defaultProps)for(Re in Ue=b.defaultProps,Ue)Pe[Re]===void 0&&(Pe[Re]=Ue[Re]);return{$$typeof:n,type:b,key:De,ref:Fe,props:Pe,_owner:ae.current}}function P(b,K){return{$$typeof:n,type:b.type,key:K,ref:b.ref,props:b.props,_owner:b._owner}}function V(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function L(b){var K={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(me){return K[me]})}var F=/\/+/g;function C(b,K){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):K.toString(36)}function Qe(b,K,me,Re,Pe){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var Fe=!1;if(b===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(b.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=b,Pe=Pe(Fe),b=Re===""?"."+C(Fe,0):Re,ne(Pe)?(me="",b!=null&&(me=b.replace(F,"$&/")+"/"),Qe(Pe,K,me,"",function(Tt){return Tt})):Pe!=null&&(V(Pe)&&(Pe=P(Pe,me+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+b)),K.push(Pe)),1;if(Fe=0,Re=Re===""?".":Re+":",ne(b))for(var Ue=0;Ue<b.length;Ue++){De=b[Ue];var $e=Re+C(De,Ue);Fe+=Qe(De,K,me,$e,Pe)}else if($e=T(b),typeof $e=="function")for(b=$e.call(b),Ue=0;!(De=b.next()).done;)De=De.value,$e=Re+C(De,Ue++),Fe+=Qe(De,K,me,$e,Pe);else if(De==="object")throw K=String(b),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(b,K,me){if(b==null)return b;var Re=[],Pe=0;return Qe(b,Re,"","",function(De){return K.call(me,De,Pe++)}),Re}function xt(b){if(b._status===-1){var K=b._result;K=K(),K.then(function(me){(b._status===0||b._status===-1)&&(b._status=1,b._result=me)},function(me){(b._status===0||b._status===-1)&&(b._status=2,b._result=me)}),b._status===-1&&(b._status=0,b._result=K)}if(b._status===1)return b._result.default;throw b._result}var Ae={current:null},ee={transition:null},pe={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ae};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(b,K,me){Ct(b,function(){K.apply(this,arguments)},me)},count:function(b){var K=0;return Ct(b,function(){K++}),K},toArray:function(b){return Ct(b,function(K){return K})||[]},only:function(b){if(!V(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=ie,Ce.cloneElement=function(b,K,me){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Re=O({},b.props),Pe=b.key,De=b.ref,Fe=b._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=ae.current),K.key!==void 0&&(Pe=""+K.key),b.type&&b.type.defaultProps)var Ue=b.type.defaultProps;for($e in K)re.call(K,$e)&&!x.hasOwnProperty($e)&&(Re[$e]=K[$e]===void 0&&Ue!==void 0?Ue[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Re.children=me;else if(1<$e){Ue=Array($e);for(var Tt=0;Tt<$e;Tt++)Ue[Tt]=arguments[Tt+2];Re.children=Ue}return{$$typeof:n,type:b.type,key:Pe,ref:De,props:Re,_owner:Fe}},Ce.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ce.createElement=A,Ce.createFactory=function(b){var K=A.bind(null,b);return K.type=b,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:f,render:b}},Ce.isValidElement=V,Ce.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:xt}},Ce.memo=function(b,K){return{$$typeof:g,type:b,compare:K===void 0?null:K}},Ce.startTransition=function(b){var K=ee.transition;ee.transition={};try{b()}finally{ee.transition=K}},Ce.unstable_act=ie,Ce.useCallback=function(b,K){return Ae.current.useCallback(b,K)},Ce.useContext=function(b){return Ae.current.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b){return Ae.current.useDeferredValue(b)},Ce.useEffect=function(b,K){return Ae.current.useEffect(b,K)},Ce.useId=function(){return Ae.current.useId()},Ce.useImperativeHandle=function(b,K,me){return Ae.current.useImperativeHandle(b,K,me)},Ce.useInsertionEffect=function(b,K){return Ae.current.useInsertionEffect(b,K)},Ce.useLayoutEffect=function(b,K){return Ae.current.useLayoutEffect(b,K)},Ce.useMemo=function(b,K){return Ae.current.useMemo(b,K)},Ce.useReducer=function(b,K,me){return Ae.current.useReducer(b,K,me)},Ce.useRef=function(b){return Ae.current.useRef(b)},Ce.useState=function(b){return Ae.current.useState(b)},Ce.useSyncExternalStore=function(b,K,me){return Ae.current.useSyncExternalStore(b,K,me)},Ce.useTransition=function(){return Ae.current.useTransition()},Ce.version="18.3.1",Ce}var ny;function Dd(){return ny||(ny=1,vf.exports=dS()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function pS(){if(ry)return La;ry=1;var n=Dd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var _,w={},T=null,R=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:f,key:T,ref:R,props:w,_owner:o.current}}return La.Fragment=t,La.jsx=c,La.jsxs=c,La}var iy;function mS(){return iy||(iy=1,_f.exports=pS()),_f.exports}var fe=mS(),de=Dd(),Fu={},wf={exports:{}},an={},Ef={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function gS(){return sy||(sy=1,function(n){function e(ee,pe){var ie=ee.length;ee.push(pe);e:for(;0<ie;){var b=ie-1>>>1,K=ee[b];if(0<o(K,pe))ee[b]=pe,ee[ie]=K,ie=b;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var pe=ee[0],ie=ee.pop();if(ie!==pe){ee[0]=ie;e:for(var b=0,K=ee.length,me=K>>>1;b<me;){var Re=2*(b+1)-1,Pe=ee[Re],De=Re+1,Fe=ee[De];if(0>o(Pe,ie))De<K&&0>o(Fe,Pe)?(ee[b]=Fe,ee[De]=ie,b=De):(ee[b]=Pe,ee[Re]=ie,b=Re);else if(De<K&&0>o(Fe,ie))ee[b]=Fe,ee[De]=ie,b=De;else break e}}return pe}function o(ee,pe){var ie=ee.sortIndex-pe.sortIndex;return ie!==0?ie:ee.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],_=1,w=null,T=3,R=!1,O=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ee){for(var pe=t(g);pe!==null;){if(pe.callback===null)i(g);else if(pe.startTime<=ee)i(g),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(g)}}function ne(ee){if(N=!1,G(ee),!O)if(t(p)!==null)O=!0,xt(re);else{var pe=t(g);pe!==null&&Ae(ne,pe.startTime-ee)}}function re(ee,pe){O=!1,N&&(N=!1,q(A),A=-1),R=!0;var ie=T;try{for(G(pe),w=t(p);w!==null&&(!(w.expirationTime>pe)||ee&&!L());){var b=w.callback;if(typeof b=="function"){w.callback=null,T=w.priorityLevel;var K=b(w.expirationTime<=pe);pe=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),G(pe)}else i(p);w=t(p)}if(w!==null)var me=!0;else{var Re=t(g);Re!==null&&Ae(ne,Re.startTime-pe),me=!1}return me}finally{w=null,T=ie,R=!1}}var ae=!1,x=null,A=-1,P=5,V=-1;function L(){return!(n.unstable_now()-V<P)}function F(){if(x!==null){var ee=n.unstable_now();V=ee;var pe=!0;try{pe=x(!0,ee)}finally{pe?C():(ae=!1,x=null)}}else ae=!1}var C;if(typeof W=="function")C=function(){W(F)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ct=Qe.port2;Qe.port1.onmessage=F,C=function(){Ct.postMessage(null)}}else C=function(){D(F,0)};function xt(ee){x=ee,ae||(ae=!0,C())}function Ae(ee,pe){A=D(function(){ee(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,xt(re))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var ie=T;T=pe;try{return ee()}finally{T=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=T;T=ee;try{return pe()}finally{T=ie}},n.unstable_scheduleCallback=function(ee,pe,ie){var b=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?b+ie:b):ie=b,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,ee={id:_++,callback:pe,priorityLevel:ee,startTime:ie,expirationTime:K,sortIndex:-1},ie>b?(ee.sortIndex=ie,e(g,ee),t(p)===null&&ee===t(g)&&(N?(q(A),A=-1):N=!0,Ae(ne,ie-b))):(ee.sortIndex=K,e(p,ee),O||R||(O=!0,xt(re))),ee},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ee){var pe=T;return function(){var ie=T;T=pe;try{return ee.apply(this,arguments)}finally{T=ie}}}}(Tf)),Tf}var oy;function yS(){return oy||(oy=1,Ef.exports=gS()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function _S(){if(ay)return an;ay=1;var n=Dd(),e=yS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return p.call(w,r)?!0:p.call(_,r)?!1:g.test(r)?w[r]=!0:(_[r]=!0,!1)}function R(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||R(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,a,h,d,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,W);D[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,W);D[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,W);D[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,h){var d=D.hasOwnProperty(s)?D[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,h)&&(a=null),h||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),ae=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ee=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,b;function K(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var me=!1;function Re(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),y=h.stack.split(`
`),E=d.length-1,I=y.length-1;1<=E&&0<=I&&d[E]!==y[I];)I--;for(;1<=E&&0<=I;E--,I--)if(d[E]!==y[I]){if(E!==1||I!==1)do if(E--,I--,0>I||d[E]!==y[I]){var k=`
`+d[E].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=E&&0<=I);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ae:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function gr(r){r._valueTracker||(r._valueTracker=Tt(r))}function vs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Vi(r,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ws(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function jo(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function zo(r,s){jo(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Es(r,s.type,a):s.hasOwnProperty("defaultValue")&&Es(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Sl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Es(r,s,a){(s!=="number"||jr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function _r(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function $o(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ts(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Ss(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function qo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var vr,Wo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function zr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ni=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(r){Ni.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Di[s]=Di[r]})});function Ho(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Di.hasOwnProperty(r)&&Di[r]?(""+s).trim():s+"px"}function Ko(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Ho(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Go=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(r,s){if(s){if(Go[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Xo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function As(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,Tn=null,Xn=null;function Rs(r){if(r=wa(r)){if(typeof Is!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Zl(s),Is(r.stateNode,r.type,s))}}function Yn(r){Tn?Xn?Xn.push(r):Xn=[r]:Tn=r}function Yo(){if(Tn){var r=Tn,s=Xn;if(Xn=Tn=null,Rs(r),s)for(r=0;r<s.length;r++)Rs(s[r])}}function Li(r,s){return r(s)}function Jo(){}var wr=!1;function Zo(r,s,a){if(wr)return r(s,a);wr=!0;try{return Li(r,s,a)}finally{wr=!1,(Tn!==null||Xn!==null)&&(Jo(),Yo())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=Zl(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ps=!1;if(f)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ps=!1}function Oi(r,s,a,h,d,y,E,I,k){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(X){this.onError(X)}}var bi=!1,Cs=null,Ln=!1,ea=null,Wc={onError:function(r){bi=!0,Cs=r}};function xs(r,s,a,h,d,y,E,I,k){bi=!1,Cs=null,Oi.apply(Wc,arguments)}function Al(r,s,a,h,d,y,E,I,k){if(xs.apply(this,arguments),bi){if(bi){var z=Cs;bi=!1,Cs=null}else throw Error(t(198));Ln||(Ln=!0,ea=z)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Fi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bn(r){if(On(r)!==r)throw Error(t(188))}function Il(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return bn(d),r;if(y===h)return bn(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var E=!1,I=d.child;I;){if(I===a){E=!0,a=d,h=y;break}if(I===h){E=!0,h=d,a=y;break}I=I.sibling}if(!E){for(I=y.child;I;){if(I===a){E=!0,a=y,h=d;break}if(I===h){E=!0,h=y,a=d;break}I=I.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ta(r){return r=Il(r),r!==null?ks(r):null}function ks(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ks(r);if(s!==null)return s;r=r.sibling}return null}var Vs=e.unstable_scheduleCallback,na=e.unstable_cancelCallback,Rl=e.unstable_shouldYield,Hc=e.unstable_requestPaint,qe=e.unstable_now,Pl=e.unstable_getCurrentPriorityLevel,Ui=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ra=e.unstable_LowPriority,Cl=e.unstable_IdlePriority,Bi=null,hn=null;function xl(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Bi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Vl,ia=Math.log,kl=Math.LN2;function Vl(r){return r>>>=0,r===0?32:31-(ia(r)/kl|0)|0}var Ds=64,Ns=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ji(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var I=E&~d;I!==0?h=qr(I):(y&=E,y!==0&&(h=qr(y)))}else E=a&~d,E!==0?h=qr(E):y!==0&&(h=qr(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function Kc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Kt(y),I=1<<E,k=d[E];k===-1?(!(I&a)||I&h)&&(d[E]=Kc(I,s)):k<=s&&(r.expiredLanes|=I),y&=~I}}function fn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zi(){var r=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),r}function Wr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Hr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Kr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Gr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Dl,Ms,Nl,Ml,Ll,sa=!1,Jn=[],kt=null,Fn=null,Un=null,Qr=new Map,An=new Map,Zn=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function Zt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=wa(s),s!==null&&Ms(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Qc(r,s,a,h,d){switch(s){case"focusin":return kt=Zt(kt,r,s,a,h,d),!0;case"dragenter":return Fn=Zt(Fn,r,s,a,h,d),!0;case"mouseover":return Un=Zt(Un,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Qr.set(y,Zt(Qr.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,An.set(y,Zt(An.get(y)||null,r,s,a,h,d)),!0}return!1}function bl(r){var s=Ki(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=Fi(a),s!==null){r.blockedOn=s,Ll(r.priority,function(){Nl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ls(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Mi=h,a.target.dispatchEvent(h),Mi=null}else return s=wa(a),s!==null&&Ms(s),r.blockedOn=a,!1;s.shift()}return!0}function $i(r,s,a){Tr(r)&&a.delete(s)}function Fl(){sa=!1,kt!==null&&Tr(kt)&&(kt=null),Fn!==null&&Tr(Fn)&&(Fn=null),Un!==null&&Tr(Un)&&(Un=null),Qr.forEach($i),An.forEach($i)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,sa||(sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fl)))}function jn(r){function s(d){return Bn(d,r)}if(0<Jn.length){Bn(Jn[0],r);for(var a=1;a<Jn.length;a++){var h=Jn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Bn(kt,r),Fn!==null&&Bn(Fn,r),Un!==null&&Bn(Un,r),Qr.forEach(s),An.forEach(s),a=0;a<Zn.length;a++)h=Zn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)bl(a),a.blockedOn===null&&Zn.shift()}var Sr=ne.ReactCurrentBatchConfig,Xr=!0;function Xe(r,s,a,h){var d=ke,y=Sr.transition;Sr.transition=null;try{ke=1,oa(r,s,a,h)}finally{ke=d,Sr.transition=y}}function Xc(r,s,a,h){var d=ke,y=Sr.transition;Sr.transition=null;try{ke=4,oa(r,s,a,h)}finally{ke=d,Sr.transition=y}}function oa(r,s,a,h){if(Xr){var d=Ls(r,s,a,h);if(d===null)ah(r,s,h,qi,a),Ol(r,h);else if(Qc(d,r,s,a,h))h.stopPropagation();else if(Ol(r,h),s&4&&-1<Gc.indexOf(r)){for(;d!==null;){var y=wa(d);if(y!==null&&Dl(y),y=Ls(r,s,a,h),y===null&&ah(r,s,h,qi,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else ah(r,s,h,null,a)}}var qi=null;function Ls(r,s,a,h){if(qi=null,r=As(h),r=Ki(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Fi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return qi=r,null}function aa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pl()){case Ui:return 1;case $r:return 4;case Sn:case ra:return 16;case Cl:return 536870912;default:return 16}default:return 16}}var dn=null,Os=null,en=null;function la(){if(en)return en;var r,s=Os,a=s.length,h,d="value"in dn?dn.value:dn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[y-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function bs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function ua(){return!1}function Vt(r){function s(a,h,d,y,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:ua,this.isPropagationStopped=ua,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Vt(zn),tr=ie({},zn,{view:0,detail:0}),Yc=Vt(tr),Us,Ar,Yr,Wi=ie({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(Us=r.screenX-Yr.screenX,Ar=r.screenY-Yr.screenY):Ar=Us=0,Yr=r),Us)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),Bs=Vt(Wi),ca=ie({},Wi,{dataTransfer:0}),Ul=Vt(ca),js=ie({},tr,{relatedTarget:0}),zs=Vt(js),Bl=ie({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Vt(Bl),jl=ie({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zl=Vt(jl),$l=ie({},zn,{data:0}),ha=Vt($l),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ql[r])?!!s[r]:!1}function nr(){return Wl}var u=ie({},tr,{key:function(r){if(r.key){var s=$s[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?bs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(u),v=ie({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Vt(v),U=ie({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),$=Vt(U),te=ie({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Vt(te),gt=ie({},Wi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(gt),St=[9,13,27,32],ht=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var pn=f&&"TextEvent"in window&&!In,Hi=f&&(!ht||In&&8<In&&11>=In),qs=" ",Qp=!1;function Xp(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function h0(r,s){switch(r){case"compositionend":return Yp(s);case"keypress":return s.which!==32?null:(Qp=!0,qs);case"textInput":return r=s.data,r===qs&&Qp?null:r;default:return null}}function f0(r,s){if(Ws)return r==="compositionend"||!ht&&Xp(r,s)?(r=la(),en=Os=dn=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hi&&s.locale!=="ko"?null:s.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!d0[r.type]:s==="textarea"}function Zp(r,s,a,h){Yn(h),s=Xl(s,"onChange"),0<s.length&&(a=new Fs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var fa=null,da=null;function p0(r){ym(r,0)}function Hl(r){var s=Xs(r);if(vs(s))return r}function m0(r,s){if(r==="change")return s}var em=!1;if(f){var Jc;if(f){var Zc="oninput"in document;if(!Zc){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),Zc=typeof tm.oninput=="function"}Jc=Zc}else Jc=!1;em=Jc&&(!document.documentMode||9<document.documentMode)}function nm(){fa&&(fa.detachEvent("onpropertychange",rm),da=fa=null)}function rm(r){if(r.propertyName==="value"&&Hl(da)){var s=[];Zp(s,da,r,As(r)),Zo(p0,s)}}function g0(r,s,a){r==="focusin"?(nm(),fa=s,da=a,fa.attachEvent("onpropertychange",rm)):r==="focusout"&&nm()}function y0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hl(da)}function _0(r,s){if(r==="click")return Hl(s)}function v0(r,s){if(r==="input"||r==="change")return Hl(s)}function w0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:w0;function pa(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function im(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sm(r,s){var a=im(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=im(a)}}function om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function am(){for(var r=window,s=jr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=jr(r.document)}return s}function eh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function E0(r){var s=am(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&om(a.ownerDocument.documentElement,a)){if(h!==null&&eh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=sm(a,y);var E=sm(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var T0=f&&"documentMode"in document&&11>=document.documentMode,Hs=null,th=null,ma=null,nh=!1;function lm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nh||Hs==null||Hs!==jr(h)||(h=Hs,"selectionStart"in h&&eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ma&&pa(ma,h)||(ma=h,h=Xl(th,"onSelect"),0<h.length&&(s=new Fs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Hs)))}function Kl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ks={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},rh={},um={};f&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Gl(r){if(rh[r])return rh[r];if(!Ks[r])return r;var s=Ks[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in um)return rh[r]=s[a];return r}var cm=Gl("animationend"),hm=Gl("animationiteration"),fm=Gl("animationstart"),dm=Gl("transitionend"),pm=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(r,s){pm.set(r,s),l(s,[r])}for(var ih=0;ih<mm.length;ih++){var sh=mm[ih],S0=sh.toLowerCase(),A0=sh[0].toUpperCase()+sh.slice(1);Jr(S0,"on"+A0)}Jr(cm,"onAnimationEnd"),Jr(hm,"onAnimationIteration"),Jr(fm,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(dm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function gm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Al(h,s,void 0,r),r.currentTarget=null}function ym(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var I=h[E],k=I.instance,z=I.currentTarget;if(I=I.listener,k!==y&&d.isPropagationStopped())break e;gm(d,I,z),y=k}else for(E=0;E<h.length;E++){if(I=h[E],k=I.instance,z=I.currentTarget,I=I.listener,k!==y&&d.isPropagationStopped())break e;gm(d,I,z),y=k}}}if(Ln)throw r=ea,Ln=!1,ea=null,r}function He(r,s){var a=s[dh];a===void 0&&(a=s[dh]=new Set);var h=r+"__bubble";a.has(h)||(_m(s,r,2,!1),a.add(h))}function oh(r,s,a){var h=0;s&&(h|=4),_m(a,r,h,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function ya(r){if(!r[Ql]){r[Ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||oh(a,!1,r),oh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,oh("selectionchange",!1,s))}}function _m(r,s,a,h){switch(aa(s)){case 1:var d=Xe;break;case 4:d=Xc;break;default:d=oa}a=d.bind(null,s,a,r),d=void 0,!Ps||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function ah(r,s,a,h,d){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;E=E.return}for(;I!==null;){if(E=Ki(I),E===null)return;if(k=E.tag,k===5||k===6){h=y=E;continue e}I=I.parentNode}}h=h.return}Zo(function(){var z=y,X=As(a),J=[];e:{var Q=pm.get(r);if(Q!==void 0){var se=Fs,ue=r;switch(r){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=zs;break;case"focusout":ue="blur",se=zs;break;case"beforeblur":case"afterblur":se=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case cm:case hm:case fm:se=Ir;break;case dm:se=je;break;case"scroll":se=Yc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=S}var ce=(s&4)!==0,lt=!ce&&r==="scroll",B=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var M=z,j;M!==null;){j=M;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=at(M,B),Z!=null&&ce.push(_a(M,Z,j)))),lt)break;M=M.return}0<ce.length&&(Q=new se(Q,ue,null,a,X),J.push({event:Q,listeners:ce}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Q&&a!==Mi&&(ue=a.relatedTarget||a.fromElement)&&(Ki(ue)||ue[Rr]))break e;if((se||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=z,ue=ue?Ki(ue):null,ue!==null&&(lt=On(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=z),se!==ue)){if(ce=Bs,Z="onMouseLeave",B="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(ce=S,Z="onPointerLeave",B="onPointerEnter",M="pointer"),lt=se==null?Q:Xs(se),j=ue==null?Q:Xs(ue),Q=new ce(Z,M+"leave",se,a,X),Q.target=lt,Q.relatedTarget=j,Z=null,Ki(X)===z&&(ce=new ce(B,M+"enter",ue,a,X),ce.target=j,ce.relatedTarget=lt,Z=ce),lt=Z,se&&ue)t:{for(ce=se,B=ue,M=0,j=ce;j;j=Gs(j))M++;for(j=0,Z=B;Z;Z=Gs(Z))j++;for(;0<M-j;)ce=Gs(ce),M--;for(;0<j-M;)B=Gs(B),j--;for(;M--;){if(ce===B||B!==null&&ce===B.alternate)break t;ce=Gs(ce),B=Gs(B)}ce=null}else ce=null;se!==null&&vm(J,Q,se,ce,!1),ue!==null&&lt!==null&&vm(J,lt,ue,ce,!0)}}e:{if(Q=z?Xs(z):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var he=m0;else if(Jp(Q))if(em)he=v0;else{he=y0;var ye=g0}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(he=_0);if(he&&(he=he(r,z))){Zp(J,he,a,X);break e}ye&&ye(r,Q,z),r==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&Es(Q,"number",Q.value)}switch(ye=z?Xs(z):window,r){case"focusin":(Jp(ye)||ye.contentEditable==="true")&&(Hs=ye,th=z,ma=null);break;case"focusout":ma=th=Hs=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,lm(J,a,X);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":lm(J,a,X)}var _e;if(ht)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ws?Xp(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Hi&&a.locale!=="ko"&&(Ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ws&&(_e=la()):(dn=X,Os="value"in dn?dn.value:dn.textContent,Ws=!0)),ye=Xl(z,Ee),0<ye.length&&(Ee=new ha(Ee,r,null,a,X),J.push({event:Ee,listeners:ye}),_e?Ee.data=_e:(_e=Yp(a),_e!==null&&(Ee.data=_e)))),(_e=pn?h0(r,a):f0(r,a))&&(z=Xl(z,"onBeforeInput"),0<z.length&&(X=new ha("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:z}),X.data=_e))}ym(J,s)})}function _a(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Xl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,a),y!=null&&h.unshift(_a(r,y,d)),y=at(r,s),y!=null&&h.push(_a(r,y,d))),r=r.return}return h}function Gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function vm(r,s,a,h,d){for(var y=s._reactName,E=[];a!==null&&a!==h;){var I=a,k=I.alternate,z=I.stateNode;if(k!==null&&k===h)break;I.tag===5&&z!==null&&(I=z,d?(k=at(a,y),k!=null&&E.unshift(_a(a,k,I))):d||(k=at(a,y),k!=null&&E.push(_a(a,k,I)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var R0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function wm(r){return(typeof r=="string"?r:""+r).replace(R0,`
`).replace(P0,"")}function Yl(r,s,a){if(s=wm(s),wm(r)!==s&&a)throw Error(t(425))}function Jl(){}var lh=null,uh=null;function ch(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(r){return Em.resolve(null).then(r).catch(k0)}:hh;function k0(r){setTimeout(function(){throw r})}function fh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),jn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);jn(s)}function Zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Tm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),rr="__reactFiber$"+Qs,va="__reactProps$"+Qs,Rr="__reactContainer$"+Qs,dh="__reactEvents$"+Qs,V0="__reactListeners$"+Qs,D0="__reactHandles$"+Qs;function Ki(r){var s=r[rr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rr]||a[rr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Tm(r);r!==null;){if(a=r[rr])return a;r=Tm(r)}return s}r=a,a=r.parentNode}return null}function wa(r){return r=r[rr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Zl(r){return r[va]||null}var ph=[],Ys=-1;function ei(r){return{current:r}}function Ke(r){0>Ys||(r.current=ph[Ys],ph[Ys]=null,Ys--)}function We(r,s){Ys++,ph[Ys]=r.current,r.current=s}var ti={},Ft=ei(ti),tn=ei(!1),Gi=ti;function Js(r,s){var a=r.type.contextTypes;if(!a)return ti;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function eu(){Ke(tn),Ke(Ft)}function Sm(r,s,a){if(Ft.current!==ti)throw Error(t(168));We(Ft,s),We(tn,a)}function Am(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return ie({},a,h)}function tu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ti,Gi=Ft.current,We(Ft,r),We(tn,tn.current),!0}function Im(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Am(r,s,Gi),h.__reactInternalMemoizedMergedChildContext=r,Ke(tn),Ke(Ft),We(Ft,r)):Ke(tn),We(tn,a)}var Pr=null,nu=!1,mh=!1;function Rm(r){Pr===null?Pr=[r]:Pr.push(r)}function N0(r){nu=!0,Rm(r)}function ni(){if(!mh&&Pr!==null){mh=!0;var r=0,s=ke;try{var a=Pr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Pr=null,nu=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),Vs(Ui,ni),d}finally{ke=s,mh=!1}}return null}var Zs=[],eo=0,ru=null,iu=0,Rn=[],Pn=0,Qi=null,Cr=1,xr="";function Xi(r,s){Zs[eo++]=iu,Zs[eo++]=ru,ru=r,iu=s}function Pm(r,s,a){Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Qi,Qi=r;var h=Cr;r=xr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var y=32-Kt(s)+d;if(30<y){var E=d-d%5;y=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Cr=1<<32-Kt(s)+d|a<<d|h,xr=y+r}else Cr=1<<y|a<<d|h,xr=r}function gh(r){r.return!==null&&(Xi(r,1),Pm(r,1,0))}function yh(r){for(;r===ru;)ru=Zs[--eo],Zs[eo]=null,iu=Zs[--eo],Zs[eo]=null;for(;r===Qi;)Qi=Rn[--Pn],Rn[Pn]=null,xr=Rn[--Pn],Rn[Pn]=null,Cr=Rn[--Pn],Rn[Pn]=null}var mn=null,gn=null,Ye=!1,qn=null;function Cm(r,s){var a=Vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function xm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=Zr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Qi!==null?{id:Cr,overflow:xr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,mn=r,gn=null,!0):!1;default:return!1}}function _h(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vh(r){if(Ye){var s=gn;if(s){var a=s;if(!xm(r,s)){if(_h(r))throw Error(t(418));s=Zr(a.nextSibling);var h=mn;s&&xm(r,s)?Cm(h,a):(r.flags=r.flags&-4097|2,Ye=!1,mn=r)}}else{if(_h(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,mn=r}}}function km(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function su(r){if(r!==mn)return!1;if(!Ye)return km(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ch(r.type,r.memoizedProps)),s&&(s=gn)){if(_h(r))throw Vm(),Error(t(418));for(;s;)Cm(r,s),s=Zr(s.nextSibling)}if(km(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){gn=Zr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?Zr(r.stateNode.nextSibling):null;return!0}function Vm(){for(var r=gn;r;)r=Zr(r.nextSibling)}function to(){gn=mn=null,Ye=!1}function wh(r){qn===null?qn=[r]:qn.push(r)}var M0=ne.ReactCurrentBatchConfig;function Ea(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var I=d.refs;E===null?delete I[y]:I[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ou(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Dm(r){var s=r._init;return s(r._payload)}function Nm(r){function s(B,M){if(r){var j=B.deletions;j===null?(B.deletions=[M],B.flags|=16):j.push(M)}}function a(B,M){if(!r)return null;for(;M!==null;)s(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function d(B,M){return B=ci(B,M),B.index=0,B.sibling=null,B}function y(B,M,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<M?(B.flags|=2,M):j):(B.flags|=2,M)):(B.flags|=1048576,M)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,M,j,Z){return M===null||M.tag!==6?(M=ff(j,B.mode,Z),M.return=B,M):(M=d(M,j),M.return=B,M)}function k(B,M,j,Z){var he=j.type;return he===x?X(B,M,j.props.children,Z,j.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Dm(he)===M.type)?(Z=d(M,j.props),Z.ref=Ea(B,M,j),Z.return=B,Z):(Z=ku(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Ea(B,M,j),Z.return=B,Z)}function z(B,M,j,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=df(j,B.mode,Z),M.return=B,M):(M=d(M,j.children||[]),M.return=B,M)}function X(B,M,j,Z,he){return M===null||M.tag!==7?(M=is(j,B.mode,Z,he),M.return=B,M):(M=d(M,j),M.return=B,M)}function J(B,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ff(""+M,B.mode,j),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return j=ku(M.type,M.key,M.props,null,B.mode,j),j.ref=Ea(B,null,M),j.return=B,j;case ae:return M=df(M,B.mode,j),M.return=B,M;case xt:var Z=M._init;return J(B,Z(M._payload),j)}if(yr(M)||pe(M))return M=is(M,B.mode,j,null),M.return=B,M;ou(B,M)}return null}function Q(B,M,j,Z){var he=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:I(B,M,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return j.key===he?k(B,M,j,Z):null;case ae:return j.key===he?z(B,M,j,Z):null;case xt:return he=j._init,Q(B,M,he(j._payload),Z)}if(yr(j)||pe(j))return he!==null?null:X(B,M,j,Z,null);ou(B,j)}return null}function se(B,M,j,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,I(M,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case re:return B=B.get(Z.key===null?j:Z.key)||null,k(M,B,Z,he);case ae:return B=B.get(Z.key===null?j:Z.key)||null,z(M,B,Z,he);case xt:var ye=Z._init;return se(B,M,j,ye(Z._payload),he)}if(yr(Z)||pe(Z))return B=B.get(j)||null,X(M,B,Z,he,null);ou(M,Z)}return null}function ue(B,M,j,Z){for(var he=null,ye=null,_e=M,Ee=M=0,Rt=null;_e!==null&&Ee<j.length;Ee++){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var be=Q(B,_e,j[Ee],Z);if(be===null){_e===null&&(_e=Rt);break}r&&_e&&be.alternate===null&&s(B,_e),M=y(be,M,Ee),ye===null?he=be:ye.sibling=be,ye=be,_e=Rt}if(Ee===j.length)return a(B,_e),Ye&&Xi(B,Ee),he;if(_e===null){for(;Ee<j.length;Ee++)_e=J(B,j[Ee],Z),_e!==null&&(M=y(_e,M,Ee),ye===null?he=_e:ye.sibling=_e,ye=_e);return Ye&&Xi(B,Ee),he}for(_e=h(B,_e);Ee<j.length;Ee++)Rt=se(_e,B,Ee,j[Ee],Z),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?Ee:Rt.key),M=y(Rt,M,Ee),ye===null?he=Rt:ye.sibling=Rt,ye=Rt);return r&&_e.forEach(function(hi){return s(B,hi)}),Ye&&Xi(B,Ee),he}function ce(B,M,j,Z){var he=pe(j);if(typeof he!="function")throw Error(t(150));if(j=he.call(j),j==null)throw Error(t(151));for(var ye=he=null,_e=M,Ee=M=0,Rt=null,be=j.next();_e!==null&&!be.done;Ee++,be=j.next()){_e.index>Ee?(Rt=_e,_e=null):Rt=_e.sibling;var hi=Q(B,_e,be.value,Z);if(hi===null){_e===null&&(_e=Rt);break}r&&_e&&hi.alternate===null&&s(B,_e),M=y(hi,M,Ee),ye===null?he=hi:ye.sibling=hi,ye=hi,_e=Rt}if(be.done)return a(B,_e),Ye&&Xi(B,Ee),he;if(_e===null){for(;!be.done;Ee++,be=j.next())be=J(B,be.value,Z),be!==null&&(M=y(be,M,Ee),ye===null?he=be:ye.sibling=be,ye=be);return Ye&&Xi(B,Ee),he}for(_e=h(B,_e);!be.done;Ee++,be=j.next())be=se(_e,B,Ee,be.value,Z),be!==null&&(r&&be.alternate!==null&&_e.delete(be.key===null?Ee:be.key),M=y(be,M,Ee),ye===null?he=be:ye.sibling=be,ye=be);return r&&_e.forEach(function(fS){return s(B,fS)}),Ye&&Xi(B,Ee),he}function lt(B,M,j,Z){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case re:e:{for(var he=j.key,ye=M;ye!==null;){if(ye.key===he){if(he=j.type,he===x){if(ye.tag===7){a(B,ye.sibling),M=d(ye,j.props.children),M.return=B,B=M;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Dm(he)===ye.type){a(B,ye.sibling),M=d(ye,j.props),M.ref=Ea(B,ye,j),M.return=B,B=M;break e}a(B,ye);break}else s(B,ye);ye=ye.sibling}j.type===x?(M=is(j.props.children,B.mode,Z,j.key),M.return=B,B=M):(Z=ku(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Ea(B,M,j),Z.return=B,B=Z)}return E(B);case ae:e:{for(ye=j.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(B,M.sibling),M=d(M,j.children||[]),M.return=B,B=M;break e}else{a(B,M);break}else s(B,M);M=M.sibling}M=df(j,B.mode,Z),M.return=B,B=M}return E(B);case xt:return ye=j._init,lt(B,M,ye(j._payload),Z)}if(yr(j))return ue(B,M,j,Z);if(pe(j))return ce(B,M,j,Z);ou(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,M!==null&&M.tag===6?(a(B,M.sibling),M=d(M,j),M.return=B,B=M):(a(B,M),M=ff(j,B.mode,Z),M.return=B,B=M),E(B)):a(B,M)}return lt}var no=Nm(!0),Mm=Nm(!1),au=ei(null),lu=null,ro=null,Eh=null;function Th(){Eh=ro=lu=null}function Sh(r){var s=au.current;Ke(au),r._currentValue=s}function Ah(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function io(r,s){lu=r,Eh=ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(Eh!==r)if(r={context:r,memoizedValue:s,next:null},ro===null){if(lu===null)throw Error(t(308));ro=r,lu.dependencies={lanes:0,firstContext:r}}else ro=ro.next=r;return s}var Yi=null;function Ih(r){Yi===null?Yi=[r]:Yi.push(r)}function Lm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Ih(s)):(a.next=d.next,d.next=a),s.interleaved=a,kr(r,h)}function kr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ri=!1;function Rh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Om(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Oe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,kr(r,a)}return d=h.interleaved,d===null?(s.next=s,Ih(h)):(s.next=d.next,d.next=s),h.interleaved=s,kr(r,a)}function uu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}function bm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function cu(r,s,a,h){var d=r.updateQueue;ri=!1;var y=d.firstBaseUpdate,E=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,z=k.next;k.next=null,E===null?y=z:E.next=z,E=k;var X=r.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==E&&(I===null?X.firstBaseUpdate=z:I.next=z,X.lastBaseUpdate=k))}if(y!==null){var J=d.baseState;E=0,X=z=k=null,I=y;do{var Q=I.lane,se=I.eventTime;if((h&Q)===Q){X!==null&&(X=X.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=r,ce=I;switch(Q=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(se,J,Q);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(se,J,Q):ue,Q==null)break e;J=ie({},J,Q);break e;case 2:ri=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else se={eventTime:se,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(z=X=se,k=J):X=X.next=se,E|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(X===null&&(k=J),d.baseState=k,d.firstBaseUpdate=z,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);es|=E,r.lanes=E,r.memoizedState=J}}function Fm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ta={},ir=ei(Ta),Sa=ei(Ta),Aa=ei(Ta);function Ji(r){if(r===Ta)throw Error(t(174));return r}function Ph(r,s){switch(We(Aa,s),We(Sa,r),We(ir,Ta),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ke(ir),We(ir,s)}function so(){Ke(ir),Ke(Sa),Ke(Aa)}function Um(r){Ji(Aa.current);var s=Ji(ir.current),a=mt(s,r.type);s!==a&&(We(Sa,r),We(ir,a))}function Ch(r){Sa.current===r&&(Ke(ir),Ke(Sa))}var Ze=ei(0);function hu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xh=[];function kh(){for(var r=0;r<xh.length;r++)xh[r]._workInProgressVersionPrimary=null;xh.length=0}var fu=ne.ReactCurrentDispatcher,Vh=ne.ReactCurrentBatchConfig,Zi=0,et=null,yt=null,At=null,du=!1,Ia=!1,Ra=0,L0=0;function Ut(){throw Error(t(321))}function Dh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function Nh(r,s,a,h,d,y){if(Zi=y,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fu.current=r===null||r.memoizedState===null?U0:B0,r=a(h,d),Ia){y=0;do{if(Ia=!1,Ra=0,25<=y)throw Error(t(301));y+=1,At=yt=null,s.updateQueue=null,fu.current=j0,r=a(h,d)}while(Ia)}if(fu.current=gu,s=yt!==null&&yt.next!==null,Zi=0,At=yt=et=null,du=!1,s)throw Error(t(300));return r}function Mh(){var r=Ra!==0;return Ra=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?et.memoizedState=At=r:At=At.next=r,At}function xn(){if(yt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=At===null?et.memoizedState:At.next;if(s!==null)At=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?et.memoizedState=At=r:At=At.next=r}return At}function Pa(r,s){return typeof s=="function"?s(r):s}function Lh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=yt,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var E=d.next;d.next=y.next,y.next=E}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var I=E=null,k=null,z=y;do{var X=z.lane;if((Zi&X)===X)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var J={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(I=k=J,E=h):k=k.next=J,et.lanes|=X,es|=X}z=z.next}while(z!==null&&z!==y);k===null?E=h:k.next=I,$n(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,et.lanes|=y,es|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Oh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do y=r(y,E.action),E=E.next;while(E!==d);$n(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Bm(){}function jm(r,s){var a=et,h=xn(),d=s(),y=!$n(h.memoizedState,d);if(y&&(h.memoizedState=d,rn=!0),h=h.queue,bh(qm.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Ca(9,$m.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));Zi&30||zm(a,s,d)}return d}function zm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function $m(r,s,a,h){s.value=a,s.getSnapshot=h,Wm(s)&&Hm(r)}function qm(r,s,a){return a(function(){Wm(s)&&Hm(r)})}function Wm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function Hm(r){var s=kr(r,1);s!==null&&Gn(s,r,1,-1)}function Km(r){var s=sr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},s.queue=r,r=r.dispatch=F0.bind(null,et,r),[s.memoizedState,r]}function Ca(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Gm(){return xn().memoizedState}function pu(r,s,a,h){var d=sr();et.flags|=r,d.memoizedState=Ca(1|s,a,void 0,h===void 0?null:h)}function mu(r,s,a,h){var d=xn();h=h===void 0?null:h;var y=void 0;if(yt!==null){var E=yt.memoizedState;if(y=E.destroy,h!==null&&Dh(h,E.deps)){d.memoizedState=Ca(s,a,y,h);return}}et.flags|=r,d.memoizedState=Ca(1|s,a,y,h)}function Qm(r,s){return pu(8390656,8,r,s)}function bh(r,s){return mu(2048,8,r,s)}function Xm(r,s){return mu(4,2,r,s)}function Ym(r,s){return mu(4,4,r,s)}function Jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zm(r,s,a){return a=a!=null?a.concat([r]):null,mu(4,4,Jm.bind(null,s,r),a)}function Fh(){}function eg(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function tg(r,s){var a=xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function ng(r,s,a){return Zi&21?($n(a,s)||(a=zi(),et.lanes|=a,es|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function O0(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Vh.transition;Vh.transition={};try{r(!1),s()}finally{ke=a,Vh.transition=h}}function rg(){return xn().memoizedState}function b0(r,s,a){var h=li(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},ig(r))sg(s,a);else if(a=Lm(r,s,a,h),a!==null){var d=Xt();Gn(a,r,h,d),og(a,s,h)}}function F0(r,s,a){var h=li(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(ig(r))sg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,I=y(E,a);if(d.hasEagerState=!0,d.eagerState=I,$n(I,E)){var k=s.interleaved;k===null?(d.next=d,Ih(s)):(d.next=k.next,k.next=d),s.interleaved=d;return}}catch{}finally{}a=Lm(r,s,d,h),a!==null&&(d=Xt(),Gn(a,r,h,d),og(a,s,h))}}function ig(r){var s=r.alternate;return r===et||s!==null&&s===et}function sg(r,s){Ia=du=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function og(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}var gu={readContext:Cn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},U0={readContext:Cn,useCallback:function(r,s){return sr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:Qm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,pu(4194308,4,Jm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return pu(4194308,4,r,s)},useInsertionEffect:function(r,s){return pu(4,2,r,s)},useMemo:function(r,s){var a=sr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=sr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=b0.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=sr();return r={current:r},s.memoizedState=r},useState:Km,useDebugValue:Fh,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=Km(!1),s=r[0];return r=O0.bind(null,r[1]),sr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,d=sr();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));Zi&30||zm(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,Qm(qm.bind(null,h,y,r),[r]),h.flags|=2048,Ca(9,$m.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=sr(),s=It.identifierPrefix;if(Ye){var a=xr,h=Cr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ra++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=L0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},B0={readContext:Cn,useCallback:eg,useContext:Cn,useEffect:bh,useImperativeHandle:Zm,useInsertionEffect:Xm,useLayoutEffect:Ym,useMemo:tg,useReducer:Lh,useRef:Gm,useState:function(){return Lh(Pa)},useDebugValue:Fh,useDeferredValue:function(r){var s=xn();return ng(s,yt.memoizedState,r)},useTransition:function(){var r=Lh(Pa)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Bm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1},j0={readContext:Cn,useCallback:eg,useContext:Cn,useEffect:bh,useImperativeHandle:Zm,useInsertionEffect:Xm,useLayoutEffect:Ym,useMemo:tg,useReducer:Oh,useRef:Gm,useState:function(){return Oh(Pa)},useDebugValue:Fh,useDeferredValue:function(r){var s=xn();return yt===null?s.memoizedState=r:ng(s,yt.memoizedState,r)},useTransition:function(){var r=Oh(Pa)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Bm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Uh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ie({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var yu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=Vr(h,d);y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Gn(s,r,d,h),uu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=Vr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Gn(s,r,d,h),uu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=li(r),d=Vr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ii(r,d,h),s!==null&&(Gn(s,r,h,a),uu(s,r,h))}};function ag(r,s,a,h,d,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!pa(a,h)||!pa(d,y):!0}function lg(r,s,a){var h=!1,d=ti,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(d=nn(s)?Gi:Ft.current,h=s.contextTypes,y=(h=h!=null)?Js(r,d):ti),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function ug(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&yu.enqueueReplaceState(s,s.state,null)}function Bh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Rh(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=Cn(y):(y=nn(s)?Gi:Ft.current,d.context=Js(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Uh(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&yu.enqueueReplaceState(d,d.state,null),cu(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function oo(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function jh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function zh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function cg(r,s,a){a=Vr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Au||(Au=!0,rf=h),zh(r,s)},a}function hg(r,s,a){a=Vr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){zh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){zh(r,s),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function fg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new z0;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=nS.bind(null,r,s,a),s.then(r,r))}function dg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function pg(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Vr(-1,1),s.tag=2,ii(a,s,1))),a.lanes|=1),r)}var $0=ne.ReactCurrentOwner,rn=!1;function Qt(r,s,a,h){s.child=r===null?Mm(s,null,a,h):no(s,r.child,a,h)}function mg(r,s,a,h,d){a=a.render;var y=s.ref;return io(s,d),h=Nh(r,s,a,h,y,d),a=Mh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ye&&a&&gh(s),s.flags|=1,Qt(r,s,h,d),s.child)}function gg(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!hf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,yg(r,s,y,h,d)):(r=ku(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&d)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:pa,a(E,h)&&r.ref===s.ref)return Dr(r,s,d)}return s.flags|=1,r=ci(y,h),r.ref=s.ref,r.return=s,s.child=r}function yg(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(pa(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Dr(r,s,d)}return $h(r,s,a,h,d)}function _g(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(lo,yn),yn|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(lo,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,We(lo,yn),yn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,We(lo,yn),yn|=h;return Qt(r,s,d,a),s.child}function vg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function $h(r,s,a,h,d){var y=nn(a)?Gi:Ft.current;return y=Js(s,y),io(s,d),a=Nh(r,s,a,h,y,d),h=Mh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ye&&h&&gh(s),s.flags|=1,Qt(r,s,a,d),s.child)}function wg(r,s,a,h,d){if(nn(a)){var y=!0;tu(s)}else y=!1;if(io(s,d),s.stateNode===null)vu(r,s),lg(s,a,h),Bh(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,I=s.memoizedProps;E.props=I;var k=E.context,z=a.contextType;typeof z=="object"&&z!==null?z=Cn(z):(z=nn(a)?Gi:Ft.current,z=Js(s,z));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function";J||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==h||k!==z)&&ug(s,E,h,z),ri=!1;var Q=s.memoizedState;E.state=Q,cu(s,h,E,d),k=s.memoizedState,I!==h||Q!==k||tn.current||ri?(typeof X=="function"&&(Uh(s,a,X,h),k=s.memoizedState),(I=ri||ag(s,a,I,h,Q,k,z))?(J||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=z,h=I):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Om(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:Wn(s.type,I),E.props=z,J=s.pendingProps,Q=E.context,k=a.contextType,typeof k=="object"&&k!==null?k=Cn(k):(k=nn(a)?Gi:Ft.current,k=Js(s,k));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==J||Q!==k)&&ug(s,E,h,k),ri=!1,Q=s.memoizedState,E.state=Q,cu(s,h,E,d);var ue=s.memoizedState;I!==J||Q!==ue||tn.current||ri?(typeof se=="function"&&(Uh(s,a,se,h),ue=s.memoizedState),(z=ri||ag(s,a,z,h,Q,ue,k)||!1)?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ue,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ue,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ue),E.props=h,E.state=ue,E.context=k,h=z):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),h=!1)}return qh(r,s,a,h,y,d)}function qh(r,s,a,h,d,y){vg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&Im(s,a,!1),Dr(r,s,y);h=s.stateNode,$0.current=s;var I=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=no(s,r.child,null,y),s.child=no(s,null,I,y)):Qt(r,s,I,y),s.memoizedState=h.state,d&&Im(s,a,!0),s.child}function Eg(r){var s=r.stateNode;s.pendingContext?Sm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Sm(r,s.context,!1),Ph(r,s.containerInfo)}function Tg(r,s,a,h,d){return to(),wh(d),s.flags|=256,Qt(r,s,a,h),s.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function Hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Sg(r,s,a){var h=s.pendingProps,d=Ze.current,y=!1,E=(s.flags&128)!==0,I;if((I=E)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(Ze,d&1),r===null)return vh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Vu(E,h,0,null),r=is(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Hh(a),s.memoizedState=Wh,r):Kh(s,E));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return q0(r,s,E,h,I,d,a);if(y){y=h.fallback,E=s.mode,d=r.child,I=d.sibling;var k={mode:"hidden",children:h.children};return!(E&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=ci(d,k),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?y=ci(I,y):(y=is(y,E,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Hh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,s.memoizedState=Wh,h}return y=r.child,r=y.sibling,h=ci(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Kh(r,s){return s=Vu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function _u(r,s,a,h){return h!==null&&wh(h),no(s,r.child,null,a),r=Kh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function q0(r,s,a,h,d,y,E){if(a)return s.flags&256?(s.flags&=-257,h=jh(Error(t(422))),_u(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Vu({mode:"visible",children:h.children},d,0,null),y=is(y,d,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&no(s,r.child,null,E),s.child.memoizedState=Hh(E),s.memoizedState=Wh,y);if(!(s.mode&1))return _u(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,y=Error(t(419)),h=jh(y,h,void 0),_u(r,s,E,h)}if(I=(E&r.childLanes)!==0,rn||I){if(h=It,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|E)?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,kr(r,d),Gn(h,r,d,-1))}return cf(),h=jh(Error(t(421))),_u(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=rS.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,gn=Zr(d.nextSibling),mn=s,Ye=!0,qn=null,r!==null&&(Rn[Pn++]=Cr,Rn[Pn++]=xr,Rn[Pn++]=Qi,Cr=r.id,xr=r.overflow,Qi=s),s=Kh(s,h.children),s.flags|=4096,s)}function Ag(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Ah(r.return,s,a)}function Gh(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Ig(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Qt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ag(r,a,s);else if(r.tag===19)Ag(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&hu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Gh(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&hu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Gh(s,!0,a,null,y);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),es|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ci(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ci(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function W0(r,s,a){switch(s.tag){case 3:Eg(s),to();break;case 5:Um(s);break;case 1:nn(s.type)&&tu(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(au,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?Sg(r,s,a):(We(Ze,Ze.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Ig(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,_g(r,s,a)}return Dr(r,s,a)}var Rg,Qh,Pg,Cg;Rg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qh=function(){},Pg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Ji(ir.current);var y=null;switch(a){case"input":d=Vi(r,d),h=Vi(r,h),y=[];break;case"select":d=ie({},d,{value:void 0}),h=ie({},h,{value:void 0}),y=[];break;case"textarea":d=$o(r,d),h=$o(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Jl)}Qo(a,h);var E;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(E in I)I.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var k=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&k!==I&&(k!=null||I!=null))if(z==="style")if(I){for(E in I)!I.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in k)k.hasOwnProperty(E)&&I[E]!==k[E]&&(a||(a={}),a[E]=k[E])}else a||(y||(y=[]),y.push(z,a)),a=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(y=y||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&He("scroll",r),y||I===k||(y=[])):(y=y||[]).push(z,k))}a&&(y=y||[]).push("style",a);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},Cg=function(r,s,a,h){a!==h&&(s.flags|=4)};function xa(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function H0(r,s,a){var h=s.pendingProps;switch(yh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&eu(),Bt(s),null;case 3:return h=s.stateNode,so(),Ke(tn),Ke(Ft),kh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(su(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qn!==null&&(af(qn),qn=null))),Qh(r,s),Bt(s),null;case 5:Ch(s);var d=Ji(Aa.current);if(a=s.type,r!==null&&s.stateNode!=null)Pg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Ji(ir.current),su(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[rr]=s,h[va]=y,r=(s.mode&1)!==0,a){case"dialog":He("cancel",h),He("close",h);break;case"iframe":case"object":case"embed":He("load",h);break;case"video":case"audio":for(d=0;d<ga.length;d++)He(ga[d],h);break;case"source":He("error",h);break;case"img":case"image":case"link":He("error",h),He("load",h);break;case"details":He("toggle",h);break;case"input":ws(h,y),He("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},He("invalid",h);break;case"textarea":Ts(h,y),He("invalid",h)}Qo(a,y),d=null;for(var E in y)if(y.hasOwnProperty(E)){var I=y[E];E==="children"?typeof I=="string"?h.textContent!==I&&(y.suppressHydrationWarning!==!0&&Yl(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&Yl(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(E)&&I!=null&&E==="onScroll"&&He("scroll",h)}switch(a){case"input":gr(h),Sl(h,y,!0);break;case"textarea":gr(h),qo(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Jl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[rr]=s,r[va]=h,Rg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Xo(a,h),a){case"dialog":He("cancel",r),He("close",r),d=h;break;case"iframe":case"object":case"embed":He("load",r),d=h;break;case"video":case"audio":for(d=0;d<ga.length;d++)He(ga[d],r);d=h;break;case"source":He("error",r),d=h;break;case"img":case"image":case"link":He("error",r),He("load",r),d=h;break;case"details":He("toggle",r),d=h;break;case"input":ws(r,h),d=Vi(r,h),He("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ie({},h,{value:void 0}),He("invalid",r);break;case"textarea":Ts(r,h),d=$o(r,h),He("invalid",r);break;default:d=h}Qo(a,d),I=d;for(y in I)if(I.hasOwnProperty(y)){var k=I[y];y==="style"?Ko(r,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Wo(r,k)):y==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&zr(r,k):typeof k=="number"&&zr(r,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&He("scroll",r):k!=null&&G(r,y,k,E))}switch(a){case"input":gr(r),Sl(r,h,!1);break;case"textarea":gr(r),qo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?_r(r,!!h.multiple,y,!1):h.defaultValue!=null&&_r(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Jl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)Cg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ji(Aa.current),Ji(ir.current),su(s)){if(h=s.stateNode,a=s.memoizedProps,h[rr]=s,(y=h.nodeValue!==a)&&(r=mn,r!==null))switch(r.tag){case 3:Yl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Yl(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ke(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&gn!==null&&s.mode&1&&!(s.flags&128))Vm(),to(),s.flags|=98560,y=!1;else if(y=su(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rr]=s}else to(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else qn!==null&&(af(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?_t===0&&(_t=3):cf())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return so(),Qh(r,s),r===null&&ya(s.stateNode.containerInfo),Bt(s),null;case 10:return Sh(s.type._context),Bt(s),null;case 17:return nn(s.type)&&eu(),Bt(s),null;case 19:if(Ke(Ze),y=s.memoizedState,y===null)return Bt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)xa(y,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=hu(r),E!==null){for(s.flags|=128,xa(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}r=r.sibling}y.tail!==null&&qe()>uo&&(s.flags|=128,h=!0,xa(y,!1),s.lanes=4194304)}else{if(!h)if(r=hu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),xa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Ye)return Bt(s),null}else 2*qe()-y.renderingStartTime>uo&&a!==1073741824&&(s.flags|=128,h=!0,xa(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,a=Ze.current,We(Ze,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return uf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?yn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function K0(r,s){switch(yh(s),s.tag){case 1:return nn(s.type)&&eu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return so(),Ke(tn),Ke(Ft),kh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ch(s),null;case 13:if(Ke(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));to()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ze),null;case 4:return so(),null;case 10:return Sh(s.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var wu=!1,jt=!1,G0=typeof WeakSet=="function"?WeakSet:Set,le=null;function ao(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function Xh(r,s,a){try{a()}catch(h){rt(r,s,h)}}var xg=!1;function Q0(r,s){if(lh=Xr,r=am(),eh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,I=-1,k=-1,z=0,X=0,J=r,Q=null;t:for(;;){for(var se;J!==a||d!==0&&J.nodeType!==3||(I=E+d),J!==y||h!==0&&J.nodeType!==3||(k=E+h),J.nodeType===3&&(E+=J.nodeValue.length),(se=J.firstChild)!==null;)Q=J,J=se;for(;;){if(J===r)break t;if(Q===a&&++z===d&&(I=E),Q===y&&++X===h&&(k=E),(se=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=se}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(uh={focusedElem:r,selectionRange:a},Xr=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,B=s.stateNode,M=B.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Wn(s.type,ce),lt);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=xg,xg=!1,ue}function ka(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Xh(s,a,y)}d=d.next}while(d!==h)}}function Eu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Yh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function kg(r){var s=r.alternate;s!==null&&(r.alternate=null,kg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[rr],delete s[va],delete s[dh],delete s[V0],delete s[D0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Vg(r){return r.tag===5||r.tag===3||r.tag===4}function Dg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jl));else if(h!==4&&(r=r.child,r!==null))for(Jh(r,s,a),r=r.sibling;r!==null;)Jh(r,s,a),r=r.sibling}function Zh(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Zh(r,s,a),r=r.sibling;r!==null;)Zh(r,s,a),r=r.sibling}var Dt=null,Hn=!1;function si(r,s,a){for(a=a.child;a!==null;)Ng(r,s,a),a=a.sibling}function Ng(r,s,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 5:jt||ao(a,s);case 6:var h=Dt,d=Hn;Dt=null,si(r,s,a),Dt=h,Hn=d,Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?fh(r.parentNode,a):r.nodeType===1&&fh(r,a),jn(r)):fh(Dt,a.stateNode));break;case 4:h=Dt,d=Hn,Dt=a.stateNode.containerInfo,Hn=!0,si(r,s,a),Dt=h,Hn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Xh(a,s,E),d=d.next}while(d!==h)}si(r,s,a);break;case 1:if(!jt&&(ao(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){rt(a,s,I)}si(r,s,a);break;case 21:si(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,si(r,s,a),jt=h):si(r,s,a);break;default:si(r,s,a)}}function Mg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new G0),s.forEach(function(h){var d=iS.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Kn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Hn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Hn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Hn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));Ng(y,E,d),Dt=null,Hn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(z){rt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Lg(s,r),s=s.sibling}function Lg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),or(r),h&4){try{ka(3,r,r.return),Eu(3,r)}catch(ce){rt(r,r.return,ce)}try{ka(5,r,r.return)}catch(ce){rt(r,r.return,ce)}}break;case 1:Kn(s,r),or(r),h&512&&a!==null&&ao(a,a.return);break;case 5:if(Kn(s,r),or(r),h&512&&a!==null&&ao(a,a.return),r.flags&32){var d=r.stateNode;try{zr(d,"")}catch(ce){rt(r,r.return,ce)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,I=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&jo(d,y),Xo(I,E);var z=Xo(I,y);for(E=0;E<k.length;E+=2){var X=k[E],J=k[E+1];X==="style"?Ko(d,J):X==="dangerouslySetInnerHTML"?Wo(d,J):X==="children"?zr(d,J):G(d,X,J,z)}switch(I){case"input":zo(d,y);break;case"textarea":Ss(d,y);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var se=y.value;se!=null?_r(d,!!y.multiple,se,!1):Q!==!!y.multiple&&(y.defaultValue!=null?_r(d,!!y.multiple,y.defaultValue,!0):_r(d,!!y.multiple,y.multiple?[]:"",!1))}d[va]=y}catch(ce){rt(r,r.return,ce)}}break;case 6:if(Kn(s,r),or(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(ce){rt(r,r.return,ce)}}break;case 3:if(Kn(s,r),or(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(ce){rt(r,r.return,ce)}break;case 4:Kn(s,r),or(r);break;case 13:Kn(s,r),or(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(nf=qe())),h&4&&Mg(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||X,Kn(s,r),jt=z):Kn(s,r),or(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!X&&r.mode&1)for(le=r,X=r.child;X!==null;){for(J=le=X;le!==null;){switch(Q=le,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:ka(4,Q,Q.return);break;case 1:ao(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){h=Q,a=Q.return;try{s=h,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){rt(h,a,ce)}}break;case 5:ao(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Fg(J);continue}}se!==null?(se.return=Q,le=se):Fg(J)}X=X.sibling}e:for(X=null,J=r;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,z?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=J.stateNode,k=J.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Ho("display",E))}catch(ce){rt(r,r.return,ce)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ce){rt(r,r.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Kn(s,r),or(r),h&4&&Mg(r);break;case 21:break;default:Kn(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Vg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(zr(d,""),h.flags&=-33);var y=Dg(r);Zh(r,y,d);break;case 3:case 4:var E=h.stateNode.containerInfo,I=Dg(r);Jh(r,I,E);break;default:throw Error(t(161))}}catch(k){rt(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function X0(r,s,a){le=r,Og(r)}function Og(r,s,a){for(var h=(r.mode&1)!==0;le!==null;){var d=le,y=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||wu;if(!E){var I=d.alternate,k=I!==null&&I.memoizedState!==null||jt;I=wu;var z=jt;if(wu=E,(jt=k)&&!z)for(le=d;le!==null;)E=le,k=E.child,E.tag===22&&E.memoizedState!==null?Ug(d):k!==null?(k.return=E,le=k):Ug(d);for(;y!==null;)le=y,Og(y),y=y.sibling;le=d,wu=I,jt=z}bg(r)}else d.subtreeFlags&8772&&y!==null?(y.return=d,le=y):bg(r)}}function bg(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||Eu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Wn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Fm(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Fm(s,E,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&jn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Yh(s)}catch(Q){rt(s,s.return,Q)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Fg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Ug(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Eu(4,s)}catch(k){rt(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(k){rt(s,d,k)}}var y=s.return;try{Yh(s)}catch(k){rt(s,y,k)}break;case 5:var E=s.return;try{Yh(s)}catch(k){rt(s,E,k)}}}catch(k){rt(s,s.return,k)}if(s===r){le=null;break}var I=s.sibling;if(I!==null){I.return=s.return,le=I;break}le=s.return}}var Y0=Math.ceil,Tu=ne.ReactCurrentDispatcher,ef=ne.ReactCurrentOwner,kn=ne.ReactCurrentBatchConfig,Oe=0,It=null,ft=null,Nt=0,yn=0,lo=ei(0),_t=0,Va=null,es=0,Su=0,tf=0,Da=null,sn=null,nf=0,uo=1/0,Nr=null,Au=!1,rf=null,oi=null,Iu=!1,ai=null,Ru=0,Na=0,sf=null,Pu=-1,Cu=0;function Xt(){return Oe&6?qe():Pu!==-1?Pu:Pu=qe()}function li(r){return r.mode&1?Oe&2&&Nt!==0?Nt&-Nt:M0.transition!==null?(Cu===0&&(Cu=zi()),Cu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:aa(r.type)),r):1}function Gn(r,s,a,h){if(50<Na)throw Na=0,sf=null,Error(t(185));Hr(r,a,h),(!(Oe&2)||r!==It)&&(r===It&&(!(Oe&2)&&(Su|=a),_t===4&&ui(r,Nt)),on(r,h),a===1&&Oe===0&&!(s.mode&1)&&(uo=qe()+500,nu&&ni()))}function on(r,s){var a=r.callbackNode;Er(r,s);var h=ji(r,r===It?Nt:0);if(h===0)a!==null&&na(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&na(a),s===1)r.tag===0?N0(jg.bind(null,r)):Rm(jg.bind(null,r)),x0(function(){!(Oe&6)&&ni()}),a=null;else{switch(Gr(h)){case 1:a=Ui;break;case 4:a=$r;break;case 16:a=Sn;break;case 536870912:a=Cl;break;default:a=Sn}a=Qg(a,Bg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Bg(r,s){if(Pu=-1,Cu=0,Oe&6)throw Error(t(327));var a=r.callbackNode;if(co()&&r.callbackNode!==a)return null;var h=ji(r,r===It?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=xu(r,h);else{s=h;var d=Oe;Oe|=2;var y=$g();(It!==r||Nt!==s)&&(Nr=null,uo=qe()+500,ns(r,s));do try{eS();break}catch(I){zg(r,I)}while(!0);Th(),Tu.current=y,Oe=d,ft!==null?s=0:(It=null,Nt=0,s=_t)}if(s!==0){if(s===2&&(d=fn(r),d!==0&&(h=d,s=of(r,d))),s===1)throw a=Va,ns(r,0),ui(r,h),on(r,qe()),a;if(s===6)ui(r,h);else{if(d=r.current.alternate,!(h&30)&&!J0(d)&&(s=xu(r,h),s===2&&(y=fn(r),y!==0&&(h=y,s=of(r,y))),s===1))throw a=Va,ns(r,0),ui(r,h),on(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:rs(r,sn,Nr);break;case 3:if(ui(r,h),(h&130023424)===h&&(s=nf+500-qe(),10<s)){if(ji(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=hh(rs.bind(null,r,sn,Nr),s);break}rs(r,sn,Nr);break;case 4:if(ui(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-Kt(h);y=1<<E,E=s[E],E>d&&(d=E),h&=~y}if(h=d,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Y0(h/1960))-h,10<h){r.timeoutHandle=hh(rs.bind(null,r,sn,Nr),h);break}rs(r,sn,Nr);break;case 5:rs(r,sn,Nr);break;default:throw Error(t(329))}}}return on(r,qe()),r.callbackNode===a?Bg.bind(null,r):null}function of(r,s){var a=Da;return r.current.memoizedState.isDehydrated&&(ns(r,s).flags|=256),r=xu(r,s),r!==2&&(s=sn,sn=a,s!==null&&af(s)),r}function af(r){sn===null?sn=r:sn.push.apply(sn,r)}function J0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!$n(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(r,s){for(s&=~tf,s&=~Su,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function jg(r){if(Oe&6)throw Error(t(327));co();var s=ji(r,0);if(!(s&1))return on(r,qe()),null;var a=xu(r,s);if(r.tag!==0&&a===2){var h=fn(r);h!==0&&(s=h,a=of(r,h))}if(a===1)throw a=Va,ns(r,0),ui(r,s),on(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,rs(r,sn,Nr),on(r,qe()),null}function lf(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(uo=qe()+500,nu&&ni())}}function ts(r){ai!==null&&ai.tag===0&&!(Oe&6)&&co();var s=Oe;Oe|=1;var a=kn.transition,h=ke;try{if(kn.transition=null,ke=1,r)return r()}finally{ke=h,kn.transition=a,Oe=s,!(Oe&6)&&ni()}}function uf(){yn=lo.current,Ke(lo)}function ns(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,C0(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(yh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:so(),Ke(tn),Ke(Ft),kh();break;case 5:Ch(h);break;case 4:so();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Sh(h.type._context);break;case 22:case 23:uf()}a=a.return}if(It=r,ft=r=ci(r.current,null),Nt=yn=s,_t=0,Va=null,tf=Su=es=0,sn=Da=null,Yi!==null){for(s=0;s<Yi.length;s++)if(a=Yi[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=d,h.next=E}a.pending=h}Yi=null}return r}function zg(r,s){do{var a=ft;try{if(Th(),fu.current=gu,du){for(var h=et.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}du=!1}if(Zi=0,At=yt=et=null,Ia=!1,Ra=0,ef.current=null,a===null||a.return===null){_t=1,Va=s,ft=null;break}e:{var y=r,E=a.return,I=a,k=s;if(s=Nt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,X=I,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=dg(E);if(se!==null){se.flags&=-257,pg(se,E,I,y,s),se.mode&1&&fg(y,z,s),s=se,k=z;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(k),s.updateQueue=ce}else ue.add(k);break e}else{if(!(s&1)){fg(y,z,s),cf();break e}k=Error(t(426))}}else if(Ye&&I.mode&1){var lt=dg(E);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),pg(lt,E,I,y,s),wh(oo(k,I));break e}}y=k=oo(k,I),_t!==4&&(_t=2),Da===null?Da=[y]:Da.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=cg(y,k,s);bm(y,B);break e;case 1:I=k;var M=y.type,j=y.stateNode;if(!(y.flags&128)&&(typeof M.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(oi===null||!oi.has(j)))){y.flags|=65536,s&=-s,y.lanes|=s;var Z=hg(y,I,s);bm(y,Z);break e}}y=y.return}while(y!==null)}Wg(a)}catch(he){s=he,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function $g(){var r=Tu.current;return Tu.current=gu,r===null?gu:r}function cf(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(es&268435455)&&!(Su&268435455)||ui(It,Nt)}function xu(r,s){var a=Oe;Oe|=2;var h=$g();(It!==r||Nt!==s)&&(Nr=null,ns(r,s));do try{Z0();break}catch(d){zg(r,d)}while(!0);if(Th(),Oe=a,Tu.current=h,ft!==null)throw Error(t(261));return It=null,Nt=0,_t}function Z0(){for(;ft!==null;)qg(ft)}function eS(){for(;ft!==null&&!Rl();)qg(ft)}function qg(r){var s=Gg(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?Wg(r):ft=s,ef.current=null}function Wg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=K0(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}else if(a=H0(a,s,yn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function rs(r,s,a){var h=ke,d=kn.transition;try{kn.transition=null,ke=1,tS(r,s,a,h)}finally{kn.transition=d,ke=h}return null}function tS(r,s,a,h){do co();while(ai!==null);if(Oe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ze(r,y),r===It&&(ft=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Iu||(Iu=!0,Qg(Sn,function(){return co(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=kn.transition,kn.transition=null;var E=ke;ke=1;var I=Oe;Oe|=4,ef.current=null,Q0(r,a),Lg(a,r),E0(uh),Xr=!!lh,uh=lh=null,r.current=a,X0(a),Hc(),Oe=I,ke=E,kn.transition=y}else r.current=a;if(Iu&&(Iu=!1,ai=r,Ru=d),y=r.pendingLanes,y===0&&(oi=null),xl(a.stateNode),on(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Au)throw Au=!1,r=rf,rf=null,r;return Ru&1&&r.tag!==0&&co(),y=r.pendingLanes,y&1?r===sf?Na++:(Na=0,sf=r):Na=0,ni(),null}function co(){if(ai!==null){var r=Gr(Ru),s=kn.transition,a=ke;try{if(kn.transition=null,ke=16>r?16:r,ai===null)var h=!1;else{if(r=ai,ai=null,Ru=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,le=r.current;le!==null;){var y=le,E=y.child;if(le.flags&16){var I=y.deletions;if(I!==null){for(var k=0;k<I.length;k++){var z=I[k];for(le=z;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:ka(8,X,y)}var J=X.child;if(J!==null)J.return=X,le=J;else for(;le!==null;){X=le;var Q=X.sibling,se=X.return;if(kg(X),X===z){le=null;break}if(Q!==null){Q.return=se,le=Q;break}le=se}}}var ue=y.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}le=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,le=E;else e:for(;le!==null;){if(y=le,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ka(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,le=B;break e}le=y.return}}var M=r.current;for(le=M;le!==null;){E=le;var j=E.child;if(E.subtreeFlags&2064&&j!==null)j.return=E,le=j;else e:for(E=M;le!==null;){if(I=le,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Eu(9,I)}}catch(he){rt(I,I.return,he)}if(I===E){le=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,le=Z;break e}le=I.return}}if(Oe=d,ni(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Bi,r)}catch{}h=!0}return h}finally{ke=a,kn.transition=s}}return!1}function Hg(r,s,a){s=oo(a,s),s=cg(r,s,1),r=ii(r,s,1),s=Xt(),r!==null&&(Hr(r,1,s),on(r,s))}function rt(r,s,a){if(r.tag===3)Hg(r,r,a);else for(;s!==null;){if(s.tag===3){Hg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))){r=oo(a,r),r=hg(s,r,1),s=ii(s,r,1),r=Xt(),s!==null&&(Hr(s,1,r),on(s,r));break}}s=s.return}}function nS(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(_t===4||_t===3&&(Nt&130023424)===Nt&&500>qe()-nf?ns(r,0):tf|=a),on(r,s)}function Kg(r,s){s===0&&(r.mode&1?(s=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):s=1);var a=Xt();r=kr(r,s),r!==null&&(Hr(r,s,a),on(r,a))}function rS(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Kg(r,a)}function iS(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Kg(r,a)}var Gg;Gg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,W0(r,s,a);rn=!!(r.flags&131072)}else rn=!1,Ye&&s.flags&1048576&&Pm(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;vu(r,s),r=s.pendingProps;var d=Js(s,Ft.current);io(s,a),d=Nh(null,s,h,r,d,a);var y=Mh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,tu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Rh(s),d.updater=yu,s.stateNode=d,d._reactInternals=s,Bh(s,h,r,a),s=qh(null,s,h,!0,y,a)):(s.tag=0,Ye&&y&&gh(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(vu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=oS(h),r=Wn(h,r),d){case 0:s=$h(null,s,h,r,a);break e;case 1:s=wg(null,s,h,r,a);break e;case 11:s=mg(null,s,h,r,a);break e;case 14:s=gg(null,s,h,Wn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),$h(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),wg(r,s,h,d,a);case 3:e:{if(Eg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,Om(r,s),cu(s,h,null,a);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=oo(Error(t(423)),s),s=Tg(r,s,h,a,d);break e}else if(h!==d){d=oo(Error(t(424)),s),s=Tg(r,s,h,a,d);break e}else for(gn=Zr(s.stateNode.containerInfo.firstChild),mn=s,Ye=!0,qn=null,a=Mm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(to(),h===d){s=Dr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Um(s),r===null&&vh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,E=d.children,ch(h,d)?E=null:y!==null&&ch(h,y)&&(s.flags|=32),vg(r,s),Qt(r,s,E,a),s.child;case 6:return r===null&&vh(s),null;case 13:return Sg(r,s,a);case 4:return Ph(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=no(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),mg(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,E=d.value,We(au,h._currentValue),h._currentValue=E,y!==null)if($n(y.value,E)){if(y.children===d.children&&!tn.current){s=Dr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var I=y.dependencies;if(I!==null){E=y.child;for(var k=I.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=Vr(-1,a&-a),k.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?k.next=k:(k.next=X.next,X.next=k),z.pending=k}}y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),Ah(y.return,a,s),I.lanes|=a;break}k=k.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,I=E.alternate,I!==null&&(I.lanes|=a),Ah(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,io(s,a),d=Cn(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=Wn(h,s.pendingProps),d=Wn(h.type,d),gg(r,s,h,d,a);case 15:return yg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),vu(r,s),s.tag=1,nn(h)?(r=!0,tu(s)):r=!1,io(s,a),lg(s,h,d),Bh(s,h,d,a),qh(null,s,h,!0,r,a);case 19:return Ig(r,s,a);case 22:return _g(r,s,a)}throw Error(t(156,s.tag))};function Qg(r,s){return Vs(r,s)}function sS(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,a,h){return new sS(r,s,a,h)}function hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function oS(r){if(typeof r=="function")return hf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ct)return 14}return 2}function ci(r,s){var a=r.alternate;return a===null?(a=Vn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ku(r,s,a,h,d,y){var E=2;if(h=r,typeof r=="function")hf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case x:return is(a.children,d,y,s);case A:E=8,d|=8;break;case P:return r=Vn(12,a,s,d|2),r.elementType=P,r.lanes=y,r;case C:return r=Vn(13,a,s,d),r.elementType=C,r.lanes=y,r;case Qe:return r=Vn(19,a,s,d),r.elementType=Qe,r.lanes=y,r;case Ae:return Vu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case L:E=9;break e;case F:E=11;break e;case Ct:E=14;break e;case xt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function is(r,s,a,h){return r=Vn(7,r,h,s),r.lanes=a,r}function Vu(r,s,a,h){return r=Vn(22,r,h,s),r.elementType=Ae,r.lanes=a,r.stateNode={isHidden:!1},r}function ff(r,s,a){return r=Vn(6,r,null,s),r.lanes=a,r}function df(r,s,a){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function aS(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function pf(r,s,a,h,d,y,E,I,k){return r=new aS(r,s,a,I,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Vn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(y),r}function lS(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Xg(r){if(!r)return ti;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Am(r,a,s)}return s}function Yg(r,s,a,h,d,y,E,I,k){return r=pf(a,h,!0,r,d,y,E,I,k),r.context=Xg(null),a=r.current,h=Xt(),d=li(a),y=Vr(h,d),y.callback=s??null,ii(a,y,d),r.current.lanes=d,Hr(r,d,h),on(r,h),r}function Du(r,s,a,h){var d=s.current,y=Xt(),E=li(d);return a=Xg(a),s.context===null?s.context=a:s.pendingContext=a,s=Vr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ii(d,s,E),r!==null&&(Gn(r,d,E,y),uu(r,d,E)),E}function Nu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function mf(r,s){Jg(r,s),(r=r.alternate)&&Jg(r,s)}var Zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function gf(r){this._internalRoot=r}Mu.prototype.render=gf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Du(r,s,null,null)},Mu.prototype.unmount=gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ts(function(){Du(null,r,null,null)}),s[Rr]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ml();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Zn.length&&s!==0&&s<Zn[a].priority;a++);Zn.splice(a,0,r),a===0&&bl(r)}};function yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Lu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ey(){}function uS(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var z=Nu(E);y.call(z)}}var E=Yg(s,h,r,0,null,!1,!1,"",ey);return r._reactRootContainer=E,r[Rr]=E.current,ya(r.nodeType===8?r.parentNode:r),ts(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=Nu(k);I.call(z)}}var k=pf(r,0,!1,null,null,!1,!1,"",ey);return r._reactRootContainer=k,r[Rr]=k.current,ya(r.nodeType===8?r.parentNode:r),ts(function(){Du(s,k,a,h)}),k}function Ou(r,s,a,h,d){var y=a._reactRootContainer;if(y){var E=y;if(typeof d=="function"){var I=d;d=function(){var k=Nu(E);I.call(k)}}Du(s,E,r,d)}else E=uS(a,s,r,d,h);return Nu(E)}Dl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=qr(s.pendingLanes);a!==0&&(Kr(s,a|1),on(s,qe()),!(Oe&6)&&(uo=qe()+500,ni()))}break;case 13:ts(function(){var h=kr(r,1);if(h!==null){var d=Xt();Gn(h,r,1,d)}}),mf(r,1)}},Ms=function(r){if(r.tag===13){var s=kr(r,134217728);if(s!==null){var a=Xt();Gn(s,r,134217728,a)}mf(r,134217728)}},Nl=function(r){if(r.tag===13){var s=li(r),a=kr(r,s);if(a!==null){var h=Xt();Gn(a,r,s,h)}mf(r,s)}},Ml=function(){return ke},Ll=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},Is=function(r,s,a){switch(s){case"input":if(zo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Zl(h);if(!d)throw Error(t(90));vs(h),zo(h,d)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&_r(r,!!a.multiple,s,!1)}},Li=lf,Jo=ts;var cS={usingClientEntryPoint:!1,Events:[wa,Xs,Zl,Yn,Yo,lf]},Ma={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hS={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ta(r),r===null?null:r.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Bi=bu.inject(hS),hn=bu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cS,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(s))throw Error(t(200));return lS(r,s,null,a)},an.createRoot=function(r,s){if(!yf(r))throw Error(t(299));var a=!1,h="",d=Zg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=pf(r,1,!1,null,null,a,!1,h,d),r[Rr]=s.current,ya(r.nodeType===8?r.parentNode:r),new gf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ta(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return ts(r)},an.hydrate=function(r,s,a){if(!Lu(s))throw Error(t(200));return Ou(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!yf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",E=Zg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Yg(s,null,r,1,a??null,d,!1,y,E),r[Rr]=s.current,ya(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Mu(s)},an.render=function(r,s,a){if(!Lu(s))throw Error(t(200));return Ou(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Lu(r))throw Error(t(40));return r._reactRootContainer?(ts(function(){Ou(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},an.unstable_batchedUpdates=lf,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Lu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ou(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var ly;function vS(){if(ly)return wf.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=_S(),wf.exports}var uy;function wS(){if(uy)return Fu;uy=1;var n=vS();return Fu.createRoot=n.createRoot,Fu.hydrateRoot=n.hydrateRoot,Fu}var ES=wS();function Wf({children:n}){return fe.jsx("div",{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:n})}function Pv({children:n,onClick:e}){return fe.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white",onClick:e,children:n})}function Cv({value:n,onChange:e,placeholder:t}){return fe.jsx("textarea",{className:"w-full p-2 rounded-lg bg-purple-700 text-white resize-none",value:n,onChange:e,placeholder:t,rows:"4"})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=de.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},p)=>de.createElement("svg",{ref:p,...SS,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:xv("lucide",o),...f},[...c.map(([g,_])=>de.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=(n,e)=>{const t=de.forwardRef(({className:i,...o},l)=>de.createElement(AS,{ref:l,iconNode:e,className:xv(`lucide-${TS(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],PS=IS("Upload",RS),kv=de.createContext({});function CS(n){const e=de.useRef(null);return e.current===null&&(e.current=n()),e.current}const Nd=de.createContext(null),Vv=de.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function xS(n=!0){const e=de.useContext(Nd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=de.useId();de.useEffect(()=>{n&&o(l)},[n]);const c=de.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const Md=typeof window<"u",kS=Md?de.useLayoutEffect:de.useEffect,wn=n=>n;let Hf=wn;function Ld(n){let e;return()=>(e===void 0&&(e=n()),e)}const To=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Mr=n=>n*1e3,Lr=n=>n/1e3,VS={skipAnimations:!1,useManualTiming:!1};function DS(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),n()),g(c)}const p={schedule:(g,_=!1,w=!1)=>{const R=w&&i?e:t;return _&&l.add(g),R.has(g)||R.add(g),g},cancel:g=>{t.delete(g),l.delete(g)},process:g=>{if(c=g,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const Uu=["read","resolveKeyframes","update","preRender","render","postRender"],NS=40;function Dv(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Uu.reduce((q,W)=>(q[W]=DS(l),q),{}),{read:f,resolveKeyframes:p,update:g,preRender:_,render:w,postRender:T}=c,R=()=>{const q=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,NS),1),o.timestamp=q,o.isProcessing=!0,f.process(o),p.process(o),g.process(o),_.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(R))},O=()=>{t=!0,i=!0,o.isProcessing||n(R)};return{schedule:Uu.reduce((q,W)=>{const G=c[W];return q[W]=(ne,re=!1,ae=!1)=>(t||O(),G.schedule(ne,re,ae)),q},{}),cancel:q=>{for(let W=0;W<Uu.length;W++)c[Uu[W]].cancel(q)},state:o,steps:c}}const{schedule:Ge,cancel:Ei,state:Mt,steps:Sf}=Dv(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),Nv=de.createContext({strict:!1}),cy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const n in cy)So[n]={isEnabled:e=>cy[n].some(t=>!!e[t])};function MS(n){for(const e in n)So[e]={...So[e],...n[e]}}const LS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ic(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||LS.has(n)}let Mv=n=>!ic(n);function OS(n){n&&(Mv=e=>e.startsWith("on")?!ic(e):n(e))}try{OS(require("@emotion/is-prop-valid").default)}catch{}function bS(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(Mv(o)||t===!0&&ic(o)||!e&&!ic(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function FS(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Tc=de.createContext({});function el(n){return typeof n=="string"||Array.isArray(n)}function Sc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bd=["initial",...Od];function Ac(n){return Sc(n.animate)||bd.some(e=>el(n[e]))}function Lv(n){return!!(Ac(n)||n.variants)}function US(n,e){if(Ac(n)){const{initial:t,animate:i}=n;return{initial:t===!1||el(t)?t:void 0,animate:el(i)?i:void 0}}return n.inherit!==!1?e:{}}function BS(n){const{initial:e,animate:t}=US(n,de.useContext(Tc));return de.useMemo(()=>({initial:e,animate:t}),[hy(e),hy(t)])}function hy(n){return Array.isArray(n)?n.join(" "):n}const jS=Symbol.for("motionComponentSymbol");function go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function zS(n,e,t){return de.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):go(t)&&(t.current=i))},[e])}const Fd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$S="framerAppearId",Ov="data-"+Fd($S),{schedule:Ud,cancel:r2}=Dv(queueMicrotask,!1),bv=de.createContext({});function qS(n,e,t,i,o){var l,c;const{visualElement:f}=de.useContext(Tc),p=de.useContext(Nv),g=de.useContext(Nd),_=de.useContext(Vv).reducedMotion,w=de.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:_}));const T=w.current,R=de.useContext(bv);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&WS(w.current,t,o,R);const O=de.useRef(!1);de.useInsertionEffect(()=>{T&&O.current&&T.update(t,g)});const N=t[Ov],D=de.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return kS(()=>{T&&(O.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Ud.render(T.render),D.current&&T.animationState&&T.animationState.animateChanges())}),de.useEffect(()=>{T&&(!D.current&&T.animationState&&T.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,N)}),D.current=!1))}),T}function WS(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Fv(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&go(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function Fv(n){if(n)return n.options.allowProjection!==!1?n.projection:Fv(n.parent)}function HS({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&MS(n);function f(g,_){let w;const T={...de.useContext(Vv),...g,layoutId:KS(g)},{isStatic:R}=T,O=BS(g),N=i(g,R);if(!R&&Md){GS();const D=QS(T);w=D.MeasureLayout,O.visualElement=qS(o,N,T,e,D.ProjectionNode)}return fe.jsxs(Tc.Provider,{value:O,children:[w&&O.visualElement?fe.jsx(w,{visualElement:O.visualElement,...T}):null,t(o,g,zS(N,O.visualElement,_),N,R,O.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=de.forwardRef(f);return p[jS]=o,p}function KS({layoutId:n}){const e=de.useContext(kv).id;return e&&n!==void 0?e+"-"+n:n}function GS(n,e){de.useContext(Nv).strict}function QS(n){const{drag:e,layout:t}=So;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const XS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bd(n){return typeof n!="string"||n.includes("-")?!1:!!(XS.indexOf(n)>-1||/[A-Z]/u.test(n))}function fy(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function jd(n,e,t,i){if(typeof e=="function"){const[o,l]=fy(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=fy(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Kf=n=>Array.isArray(n),YS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),JS=n=>Kf(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function Qu(n){const e=Ht(n)?n.get():n;return YS(e)?e.toValue():e}function ZS({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:eA(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const Uv=n=>(e,t)=>{const i=de.useContext(Tc),o=de.useContext(Nd),l=()=>ZS(n,e,i,o);return t?l():CS(l)};function eA(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=Qu(l[T]);let{initial:c,animate:f}=n;const p=Ac(n),g=Lv(n);e&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let _=t?t.initial===!1:!1;_=_||c===!1;const w=_?f:c;if(w&&typeof w!="boolean"&&!Sc(w)){const T=Array.isArray(w)?w:[w];for(let R=0;R<T.length;R++){const O=jd(n,T[R]);if(O){const{transitionEnd:N,transition:D,...q}=O;for(const W in q){let G=q[W];if(Array.isArray(G)){const ne=_?G.length-1:0;G=G[ne]}G!==null&&(o[W]=G)}for(const W in N)o[W]=N[W]}}}return o}const Lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(Lo),Bv=n=>e=>typeof e=="string"&&e.startsWith(n),zd=Bv("--"),tA=Bv("var(--"),$d=n=>tA(n)?nA.test(n.split("/*")[0].trim()):!1,nA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jv=(n,e)=>e&&typeof n=="number"?e.transform(n):n,br=(n,e,t)=>t>e?e:t<n?n:t,Oo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},tl={...Oo,transform:n=>br(0,1,n)},Bu={...Oo,default:1},dl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fi=dl("deg"),ur=dl("%"),we=dl("px"),rA=dl("vh"),iA=dl("vw"),dy={...ur,parse:n=>ur.parse(n)/100,transform:n=>ur.transform(n*100)},sA={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},oA={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:fi,skewX:fi,skewY:fi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:tl,originX:dy,originY:dy,originZ:we},py={...Oo,transform:Math.round},qd={...sA,...oA,zIndex:py,size:we,fillOpacity:tl,strokeOpacity:tl,numOctaves:py},aA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lA=Lo.length;function uA(n,e,t){let i="",o=!0;for(let l=0;l<lA;l++){const c=Lo[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const g=jv(f,qd[c]);if(!p){o=!1;const _=aA[c]||c;i+=`${_}(${g}) `}t&&(e[c]=g)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Wd(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const p in e){const g=e[p];if(ms.has(p)){c=!0;continue}else if(zd(p)){o[p]=g;continue}else{const _=jv(g,qd[p]);p.startsWith("origin")?(f=!0,l[p]=_):i[p]=_}}if(e.transform||(c||t?i.transform=uA(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:_=0}=l;i.transformOrigin=`${p} ${g} ${_}`}}const cA={offset:"stroke-dashoffset",array:"stroke-dasharray"},hA={offset:"strokeDashoffset",array:"strokeDasharray"};function fA(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?cA:hA;n[l.offset]=we.transform(-i);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function my(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function dA(n,e,t){const i=my(e,n.x,n.width),o=my(t,n.y,n.height);return`${i} ${o}`}function Hd(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:p=0,...g},_,w){if(Wd(n,g,w),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:R,dimensions:O}=n;T.transform&&(O&&(R.transform=T.transform),delete T.transform),O&&(o!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=dA(O,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),c!==void 0&&fA(T,c,f,p,!1)}const Kd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zv=()=>({...Kd(),attrs:{}}),Gd=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $v(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const qv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wv(n,e,t,i){$v(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(qv.has(o)?o:Fd(o),e.attrs[o])}const nl={};function pA(n){for(const e in n)nl[e]=n[e],zd(e)&&(nl[e].isCSSVariable=!0)}function Hv(n,{layout:e,layoutId:t}){return ms.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!nl[n]||n==="opacity")}function Qd(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(Ht(o[c])||e.style&&Ht(e.style[c])||Hv(c,n)||((i=t==null?void 0:t.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Kv(n,e,t){const i=Qd(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=Lo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function mA(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const gy=["x","y","width","height","cx","cy","r"],gA={useVisualState:Uv({scrapeMotionValuesFromProps:Kv,createRenderState:zv,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(ms.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<gy.length;f++){const p=gy[f];n[p]!==e[p]&&(c=!0)}c&&Ge.read(()=>{mA(t,i),Ge.render(()=>{Hd(i,o,Gd(t.tagName),n.transformTemplate),Wv(t,i)})})}})},yA={useVisualState:Uv({scrapeMotionValuesFromProps:Qd,createRenderState:Kd})};function Gv(n,e,t){for(const i in e)!Ht(e[i])&&!Hv(i,t)&&(n[i]=e[i])}function _A({transformTemplate:n},e){return de.useMemo(()=>{const t=Kd();return Wd(t,e,n),Object.assign({},t.vars,t.style)},[e])}function vA(n,e){const t=n.style||{},i={};return Gv(i,t,n),Object.assign(i,_A(n,e)),i}function wA(n,e){const t={},i=vA(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function EA(n,e,t,i){const o=de.useMemo(()=>{const l=zv();return Hd(l,e,Gd(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Gv(l,n.style,n),o.style={...l,...o.style}}return o}function TA(n=!1){return(t,i,o,{latestValues:l},c)=>{const p=(Bd(t)?EA:wA)(i,l,c,t),g=bS(i,typeof t=="string",n),_=t!==de.Fragment?{...g,...p,ref:o}:{},{children:w}=i,T=de.useMemo(()=>Ht(w)?w.get():w,[w]);return de.createElement(t,{..._,children:T})}}function SA(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Bd(i)?gA:yA,preloadedFeatures:n,useRender:TA(o),createVisualElement:e,Component:i};return HS(c)}}function Qv(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Ic(n,e,t){const i=n.getProps();return jd(i,e,t!==void 0?t:i.custom,n)}const AA=Ld(()=>window.ScrollTimeline!==void 0);class IA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(AA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RA extends IA{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Xd(n,e){return n?n[e]||n.default||n:void 0}const Gf=2e4;function Xv(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Gf;)e+=t,i=n.next(e);return e>=Gf?1/0:e}function Yd(n){return typeof n=="function"}function yy(n,e){n.timeline=e,n.onfinish=null}const Jd=n=>Array.isArray(n)&&typeof n[0]=="number",PA={linearEasing:void 0};function CA(n,e){const t=Ld(n);return()=>{var i;return(i=PA[e])!==null&&i!==void 0?i:t()}}const sc=CA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yv=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(To(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function Jv(n){return!!(typeof n=="function"&&sc()||!n||typeof n=="string"&&(n in Qf||sc())||Jd(n)||Array.isArray(n)&&n.every(Jv))}const Fa=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Qf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fa([0,.65,.55,1]),circOut:Fa([.55,0,1,.45]),backIn:Fa([.31,.01,.66,-.59]),backOut:Fa([.33,1.53,.69,.99])};function Zv(n,e){if(n)return typeof n=="function"&&sc()?Yv(n,e):Jd(n)?Fa(n):Array.isArray(n)?n.map(t=>Zv(t,e)||Qf.easeOut):Qf[n]}const Qn={x:!1,y:!1};function ew(){return Qn.x||Qn.y}function xA(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function tw(n,e){const t=xA(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function _y(n){return!(n.pointerType==="touch"||ew())}function kA(n,e,t={}){const[i,o,l]=tw(n,t),c=f=>{if(!_y(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const _=w=>{_y(w)&&(g(w),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const nw=(n,e)=>e?n===e?!0:nw(n,e.parentElement):!1,Zd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,VA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DA(n){return VA.has(n.tagName)||n.tabIndex!==-1}const Ua=new WeakSet;function vy(n){return e=>{e.key==="Enter"&&n(e)}}function Af(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NA=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=vy(()=>{if(Ua.has(t))return;Af(t,"down");const o=vy(()=>{Af(t,"up")}),l=()=>Af(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function wy(n){return Zd(n)&&!ew()}function MA(n,e,t={}){const[i,o,l]=tw(n,t),c=f=>{const p=f.currentTarget;if(!wy(f)||Ua.has(p))return;Ua.add(p);const g=e(p,f),_=(R,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!wy(R)||!Ua.has(p))&&(Ua.delete(p),typeof g=="function"&&g(R,{success:O}))},w=R=>{_(R,t.useGlobalTarget||nw(p,R.target))},T=R=>{_(R,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!DA(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",g=>NA(g,o),o)}),l}function LA(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}const rw=new Set(["width","height","top","left","right","bottom",...Lo]);let Xu;function OA(){Xu=void 0}const cr={now:()=>(Xu===void 0&&cr.set(Mt.isProcessing||VS.useManualTiming?Mt.timestamp:performance.now()),Xu),set:n=>{Xu=n,queueMicrotask(OA)}};function ep(n,e){n.indexOf(e)===-1&&n.push(e)}function tp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class np{constructor(){this.subscriptions=[]}add(e){return ep(this.subscriptions,e),()=>tp(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iw(n,e){return e?n*(1e3/e):0}const Ey=30,bA=n=>!isNaN(parseFloat(n));class FA{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=cr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new np);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ey)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ey);return iw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(n,e){return new FA(n,e)}function UA(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,rl(t))}function BA(n,e){const t=Ic(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=JS(l[c]);UA(n,c,f)}}function jA(n){return!!(Ht(n)&&n.add)}function Xf(n,e){const t=n.getValue("willChange");if(jA(t))return t.add(e)}function sw(n){return n.props[Ov]}const ow=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,zA=1e-7,$A=12;function qA(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=ow(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>zA&&++f<$A);return c}function pl(n,e,t,i){if(n===e&&t===i)return wn;const o=l=>qA(l,0,1,n,t);return l=>l===0||l===1?l:ow(o(l),e,i)}const aw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,lw=n=>e=>1-n(1-e),uw=pl(.33,1.53,.69,.99),rp=lw(uw),cw=aw(rp),hw=n=>(n*=2)<1?.5*rp(n):.5*(2-Math.pow(2,-10*(n-1))),ip=n=>1-Math.sin(Math.acos(n)),fw=lw(ip),dw=aw(ip),pw=n=>/^0[^.\s]+$/u.test(n);function WA(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pw(n):!0}const Wa=n=>Math.round(n*1e5)/1e5,sp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HA(n){return n==null}const KA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,op=(n,e)=>t=>!!(typeof t=="string"&&KA.test(t)&&t.startsWith(n)||e&&!HA(t)&&Object.prototype.hasOwnProperty.call(t,e)),mw=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(sp);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},GA=n=>br(0,255,n),If={...Oo,transform:n=>Math.round(GA(n))},us={test:op("rgb","red"),parse:mw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+If.transform(n)+", "+If.transform(e)+", "+If.transform(t)+", "+Wa(tl.transform(i))+")"};function QA(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Yf={test:op("#"),parse:QA,transform:us.transform},yo={test:op("hsl","hue"),parse:mw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ur.transform(Wa(e))+", "+ur.transform(Wa(t))+", "+Wa(tl.transform(i))+")"},$t={test:n=>us.test(n)||Yf.test(n)||yo.test(n),parse:n=>us.test(n)?us.parse(n):yo.test(n)?yo.parse(n):Yf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?us.transform(n):yo.transform(n)},XA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YA(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(sp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(XA))===null||t===void 0?void 0:t.length)||0)>0}const gw="number",yw="color",JA="var",ZA="var(",Ty="${}",eI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function il(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(eI,p=>($t.test(p)?(i.color.push(l),o.push(yw),t.push($t.parse(p))):p.startsWith(ZA)?(i.var.push(l),o.push(JA),t.push(p)):(i.number.push(l),o.push(gw),t.push(parseFloat(p))),++l,Ty)).split(Ty);return{values:t,split:f,indexes:i,types:o}}function _w(n){return il(n).values}function vw(n){const{split:e,types:t}=il(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===gw?l+=Wa(o[c]):f===yw?l+=$t.transform(o[c]):l+=o[c]}return l}}const tI=n=>typeof n=="number"?0:n;function nI(n){const e=_w(n);return vw(n)(e.map(tI))}const Ti={test:YA,parse:_w,createTransformer:vw,getAnimatableNone:nI},rI=new Set(["brightness","contrast","saturate","opacity"]);function iI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(sp)||[];if(!i)return n;const o=t.replace(i,"");let l=rI.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const sI=/\b([a-z-]*)\(.*?\)/gu,Jf={...Ti,getAnimatableNone:n=>{const e=n.match(sI);return e?e.map(iI).join(" "):n}},oI={...qd,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Jf,WebkitFilter:Jf},ap=n=>oI[n];function ww(n,e){let t=ap(n);return t!==Jf&&(t=Ti),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const aI=new Set(["auto","none","0"]);function lI(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!aI.has(l)&&il(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=ww(t,o)}const Sy=n=>n===Oo||n===we,Ay=(n,e)=>parseFloat(n.split(", ")[e]),Iy=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Ay(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?Ay(l[1],n):0}},uI=new Set(["x","y","z"]),cI=Lo.filter(n=>!uI.has(n));function hI(n){const e=[];return cI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Ao={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Iy(4,13),y:Iy(5,14)};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const hs=new Set;let Zf=!1,ed=!1;function Ew(){if(ed){const n=Array.from(hs).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=hI(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ed=!1,Zf=!1,hs.forEach(n=>n.complete()),hs.clear()}function Tw(){hs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ed=!0)})}function fI(){Tw(),Ew()}class lp{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hs.add(this),Zf||(Zf=!0,Ge.read(Tw),Ge.resolveKeyframes(Ew))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),dI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pI(n){const e=dI.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function Aw(n,e,t=1){const[i,o]=pI(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return Sw(c)?parseFloat(c):c}return $d(o)?Aw(o,e,t+1):o}const Iw=n=>e=>e.test(n),mI={test:n=>n==="auto",parse:n=>n},Rw=[Oo,we,ur,fi,iA,rA,mI],Ry=n=>Rw.find(Iw(n));class Pw extends lp{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),$d(g))){const _=Aw(g,t.current);_!==void 0&&(e[p]=_),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!rw.has(i)||e.length!==2)return;const[o,l]=e,c=Ry(o),f=Ry(l);if(c!==f)if(Sy(c)&&Sy(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)WA(e[o])&&i.push(o);i.length&&lI(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ao[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=Ao[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const Py=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ti.test(n)||n==="0")&&!n.startsWith("url("));function gI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function yI(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=Py(o,e),f=Py(l,e);return!c||!f?!1:gI(n)||(t==="spring"||Yd(t))&&i}const _I=n=>n!==null;function Rc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(_I),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const vI=40;class Cw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=cr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:p,isGenerator:g}=this.options;if(!g&&!yI(e,i,o,l))if(c)this.options.duration=0;else{p&&p(Rc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,t);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,..._},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function Rf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function wI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=Rf(p,f,n+1/3),l=Rf(p,f,n),c=Rf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function oc(n,e){return t=>t>0?e:n}const Pf=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},EI=[Yf,us,yo],TI=n=>EI.find(e=>e.test(n));function Cy(n){const e=TI(n);if(!e)return!1;let t=e.parse(n);return e===yo&&(t=wI(t)),t}const xy=(n,e)=>{const t=Cy(n),i=Cy(e);if(!t||!i)return oc(n,e);const o={...t};return l=>(o.red=Pf(t.red,i.red,l),o.green=Pf(t.green,i.green,l),o.blue=Pf(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),us.transform(o))},SI=(n,e)=>t=>e(n(t)),ml=(...n)=>n.reduce(SI),td=new Set(["none","hidden"]);function AI(n,e){return td.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function II(n,e){return t=>tt(n,e,t)}function up(n){return typeof n=="number"?II:typeof n=="string"?$d(n)?oc:$t.test(n)?xy:CI:Array.isArray(n)?xw:typeof n=="object"?$t.test(n)?xy:RI:oc}function xw(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>up(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function RI(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=up(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function PI(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[c]++}return i}const CI=(n,e)=>{const t=Ti.createTransformer(e),i=il(n),o=il(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?td.has(n)&&!o.values.length||td.has(e)&&!i.values.length?AI(n,e):ml(xw(PI(i,o),o.values),t):oc(n,e)};function kw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):up(n)(n,e)}const xI=5;function Vw(n,e,t){const i=Math.max(e-xI,0);return iw(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function kI({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,c=1-e;c=br(it.minDamping,it.maxDamping,c),n=br(it.minDuration,it.maxDuration,Lr(n)),c<1?(o=g=>{const _=g*c,w=_*n,T=_-t,R=nd(g,c),O=Math.exp(-w);return ky-T/R*O},l=g=>{const w=g*c*n,T=w*t+t,R=Math.pow(c,2)*Math.pow(g,2)*n,O=Math.exp(-w),N=nd(Math.pow(g,2),c);return(-o(g)+ky>0?-1:1)*((T-R)*O)/N}):(o=g=>{const _=Math.exp(-g*n),w=(g-t)*n+1;return-.001+_*w},l=g=>{const _=Math.exp(-g*n),w=(t-g)*(n*n);return _*w});const f=5/n,p=DI(o,l,f);if(n=Mr(n),isNaN(p))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:n}}}const VI=12;function DI(n,e,t){let i=t;for(let o=1;o<VI;o++)i=i-n(i)/e(i);return i}function nd(n,e){return n*Math.sqrt(1-e*e)}const NI=["duration","bounce"],MI=["stiffness","damping","mass"];function Vy(n,e){return e.some(t=>n[t]!==void 0)}function LI(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!Vy(n,MI)&&Vy(n,NI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*br(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=kI(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function Dw(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:_,duration:w,velocity:T,isResolvedFromDuration:R}=LI({...t,velocity:-Lr(t.velocity||0)}),O=T||0,N=g/(2*Math.sqrt(p*_)),D=c-l,q=Lr(Math.sqrt(p/_)),W=Math.abs(D)<5;i||(i=W?it.restSpeed.granular:it.restSpeed.default),o||(o=W?it.restDelta.granular:it.restDelta.default);let G;if(N<1){const re=nd(q,N);G=ae=>{const x=Math.exp(-N*q*ae);return c-x*((O+N*q*D)/re*Math.sin(re*ae)+D*Math.cos(re*ae))}}else if(N===1)G=re=>c-Math.exp(-q*re)*(D+(O+q*D)*re);else{const re=q*Math.sqrt(N*N-1);G=ae=>{const x=Math.exp(-N*q*ae),A=Math.min(re*ae,300);return c-x*((O+N*q*D)*Math.sinh(A)+re*D*Math.cosh(A))/re}}const ne={calculatedDuration:R&&w||null,next:re=>{const ae=G(re);if(R)f.done=re>=w;else{let x=0;N<1&&(x=re===0?Mr(O):Vw(G,re,ae));const A=Math.abs(x)<=i,P=Math.abs(c-ae)<=o;f.done=A&&P}return f.value=f.done?c:ae,f},toString:()=>{const re=Math.min(Xv(ne),Gf),ae=Yv(x=>ne.next(re*x).value,re,30);return re+"ms "+ae}};return ne}function Dy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:g=.5,restSpeed:_}){const w=n[0],T={done:!1,value:w},R=A=>f!==void 0&&A<f||p!==void 0&&A>p,O=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let N=t*e;const D=w+N,q=c===void 0?D:c(D);q!==D&&(N=q-w);const W=A=>-N*Math.exp(-A/i),G=A=>q+W(A),ne=A=>{const P=W(A),V=G(A);T.done=Math.abs(P)<=g,T.value=T.done?q:V};let re,ae;const x=A=>{R(T.value)&&(re=A,ae=Dw({keyframes:[T.value,O(T.value)],velocity:Vw(G,A,T.value),damping:o,stiffness:l,restDelta:g,restSpeed:_}))};return x(0),{calculatedDuration:null,next:A=>{let P=!1;return!ae&&re===void 0&&(P=!0,ne(A),x(A)),re!==void 0&&A>=re?ae.next(A-re):(!P&&ne(A),T)}}}const OI=pl(.42,0,1,1),bI=pl(0,0,.58,1),Nw=pl(.42,0,.58,1),FI=n=>Array.isArray(n)&&typeof n[0]!="number",Ny={linear:wn,easeIn:OI,easeInOut:Nw,easeOut:bI,circIn:ip,circInOut:dw,circOut:fw,backIn:rp,backInOut:cw,backOut:uw,anticipate:hw},My=n=>{if(Jd(n)){Hf(n.length===4);const[e,t,i,o]=n;return pl(e,t,i,o)}else if(typeof n=="string")return Hf(Ny[n]!==void 0),Ny[n];return n};function UI(n,e,t){const i=[],o=t||kw,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||wn:e;f=ml(p,f)}i.push(f)}return i}function BI(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Hf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=UI(e,i,o),p=f.length,g=_=>{if(c&&_<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(_<n[w+1]);w++);const T=To(n[w],n[w+1],_);return f[w](T)};return t?_=>g(br(n[0],n[l-1],_)):g}function jI(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=To(0,e,i);n.push(tt(t,1,o))}}function zI(n){const e=[0];return jI(e,n.length-1),e}function $I(n,e){return n.map(t=>t*e)}function qI(n,e){return n.map(()=>e||Nw).splice(0,n.length-1)}function ac({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=FI(i)?i.map(My):My(i),l={done:!1,value:e[0]},c=$I(t&&t.length===e.length?t:zI(e),n),f=BI(c,e,{ease:Array.isArray(o)?o:qI(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const WI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ge.update(e,!0),stop:()=>Ei(e),now:()=>Mt.isProcessing?Mt.timestamp:cr.now()}},HI={decay:Dy,inertia:Dy,tween:ac,keyframes:ac,spring:Dw},KI=n=>n/100;class cp extends Cw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||lp,f=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=Yd(t)?t:HI[t]||ac;let p,g;f!==ac&&typeof e[0]!="number"&&(p=ml(KI,kw(e[0],e[1])),e=[0,100]);const _=f({...this.options,keyframes:e});l==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),_.calculatedDuration===null&&(_.calculatedDuration=Xv(_));const{calculatedDuration:w}=_,T=w+o,R=T*(i+1)-o;return{generator:_,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:R}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:g,totalDuration:_,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:R,repeatType:O,repeatDelay:N,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-T*(this.speed>=0?1:-1),W=this.speed>=0?q<0:q>_;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let G=this.currentTime,ne=l;if(R){const A=Math.min(this.currentTime,_)/w;let P=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&P--,P=Math.min(P,R+1),!!(P%2)&&(O==="reverse"?(V=1-V,N&&(V-=N/w)):O==="mirror"&&(ne=c)),G=br(0,1,V)*w}const re=W?{done:!1,value:p[0]}:ne.next(G);f&&(re.value=f(re.value));let{done:ae}=re;!W&&g!==null&&(ae=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return x&&o!==void 0&&(re.value=Rc(p,this.options,o)),D&&D(re.value),x&&this.finish(),re}get duration(){const{resolved:e}=this;return e?Lr(e.calculatedDuration):0}get time(){return Lr(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WI,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GI=new Set(["opacity","clipPath","filter","transform"]);function QI(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:p}={}){const g={[e]:t};p&&(g.offset=p);const _=Zv(f,o);return Array.isArray(_)&&(g.easing=_),n.animate(g,{delay:i,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const XI=Ld(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lc=10,YI=2e4;function JI(n){return Yd(n.type)||n.type==="spring"||!Jv(n.ease)}function ZI(n,e){const t=new cp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<YI;)i=t.sample(l),o.push(i.value),l+=lc;return{times:void 0,keyframes:o,duration:l-lc,ease:"linear"}}const Mw={anticipate:hw,backInOut:cw,circInOut:dw};function eR(n){return n in Mw}class Ly extends Cw{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Pw(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:p,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&sc()&&eR(l)&&(l=Mw[l]),JI(this.options)){const{onComplete:w,onUpdate:T,motionValue:R,element:O,...N}=this.options,D=ZI(e,N);e=D.keyframes,e.length===1&&(e[1]=e[0]),i=D.duration,o=D.times,l=D.ease,c="keyframes"}const _=QI(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(yy(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;f.set(Rc(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Lr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Lr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return wn;const{animation:i}=t;yy(i,e)}return wn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:_,onComplete:w,element:T,...R}=this.options,O=new cp({...R,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),N=Mr(this.time);g.setWithVelocity(O.sample(N-lc).value,O.sample(N).value,lc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return XI()&&i&&GI.has(i)&&!p&&!g&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const tR={type:"spring",stiffness:500,damping:25,restSpeed:10},nR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),rR={type:"keyframes",duration:.8},iR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sR=(n,{keyframes:e})=>e.length>2?rR:ms.has(n)?n.startsWith("scale")?nR(e[1]):tR:iR;function oR({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const hp=(n,e,t,i={},o,l)=>c=>{const f=Xd(i,n)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Mr(p);let _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};oR(f)||(_={..._,...sR(n,_)}),_.duration&&(_.duration=Mr(_.duration)),_.repeatDelay&&(_.repeatDelay=Mr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=Rc(_.keyframes,f);if(T!==void 0)return Ge.update(()=>{_.onUpdate(T),_.onComplete()}),new RA([])}return!l&&Ly.supports(_)?new Ly(_):new cp(_)};function aR({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Lw(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(c=i);const g=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),R=p[w];if(R===void 0||_&&aR(_,w))continue;const O={delay:t,...Xd(c||{},w)};let N=!1;if(window.MotionHandoffAnimation){const q=sw(n);if(q){const W=window.MotionHandoffAnimation(q,w,Ge);W!==null&&(O.startTime=W,N=!0)}}Xf(n,w),T.start(hp(w,T,R,n.shouldReduceMotion&&rw.has(w)?{type:!1}:O,n,N));const D=T.animation;D&&g.push(D)}return f&&Promise.all(g).then(()=>{Ge.update(()=>{f&&BA(n,f)})}),g}function rd(n,e,t={}){var i;const o=Ic(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(Lw(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:w,staggerDirection:T}=l;return lR(n,e,_+g,w,T,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[g,_]=p==="beforeChildren"?[c,f]:[f,c];return g().then(()=>_())}else return Promise.all([c(),f(t.delay)])}function lR(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,p=o===1?(g=0)=>g*i:(g=0)=>f-g*i;return Array.from(n.variantChildren).sort(uR).forEach((g,_)=>{g.notify("AnimationStart",e),c.push(rd(g,e,{...l,delay:t+p(_)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function uR(n,e){return n.sortNodePosition(e)}function cR(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>rd(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=rd(n,e,t);else{const o=typeof e=="function"?Ic(n,e,t.custom):e;i=Promise.all(Lw(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const hR=bd.length;function Ow(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Ow(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<hR;t++){const i=bd[t],o=n.props[i];(el(o)||o===!1)&&(e[i]=o)}return e}const fR=[...Od].reverse(),dR=Od.length;function pR(n){return e=>Promise.all(e.map(({animation:t,options:i})=>cR(n,t,i)))}function mR(n){let e=pR(n),t=Oy(),i=!0;const o=p=>(g,_)=>{var w;const T=Ic(n,_,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:R,transitionEnd:O,...N}=T;g={...g,...N,...O}}return g};function l(p){e=p(n)}function c(p){const{props:g}=n,_=Ow(n.parent)||{},w=[],T=new Set;let R={},O=1/0;for(let D=0;D<dR;D++){const q=fR[D],W=t[q],G=g[q]!==void 0?g[q]:_[q],ne=el(G),re=q===p?W.isActive:null;re===!1&&(O=D);let ae=G===_[q]&&G!==g[q]&&ne;if(ae&&i&&n.manuallyAnimateOnMount&&(ae=!1),W.protectedKeys={...R},!W.isActive&&re===null||!G&&!W.prevProp||Sc(G)||typeof G=="boolean")continue;const x=gR(W.prevProp,G);let A=x||q===p&&W.isActive&&!ae&&ne||D>O&&ne,P=!1;const V=Array.isArray(G)?G:[G];let L=V.reduce(o(q),{});re===!1&&(L={});const{prevResolvedValues:F={}}=W,C={...F,...L},Qe=Ae=>{A=!0,T.has(Ae)&&(P=!0,T.delete(Ae)),W.needsAnimating[Ae]=!0;const ee=n.getValue(Ae);ee&&(ee.liveStyle=!1)};for(const Ae in C){const ee=L[Ae],pe=F[Ae];if(R.hasOwnProperty(Ae))continue;let ie=!1;Kf(ee)&&Kf(pe)?ie=!Qv(ee,pe):ie=ee!==pe,ie?ee!=null?Qe(Ae):T.add(Ae):ee!==void 0&&T.has(Ae)?Qe(Ae):W.protectedKeys[Ae]=!0}W.prevProp=G,W.prevResolvedValues=L,W.isActive&&(R={...R,...L}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(ae&&x)||P)&&w.push(...V.map(Ae=>({animation:Ae,options:{type:q}})))}if(T.size){const D={};T.forEach(q=>{const W=n.getBaseTarget(q),G=n.getValue(q);G&&(G.liveStyle=!0),D[q]=W??null}),w.push({animation:D})}let N=!!w.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(w):Promise.resolve()}function f(p,g){var _;if(t[p].isActive===g)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(T=>{var R;return(R=T.animationState)===null||R===void 0?void 0:R.setActive(p,g)}),t[p].isActive=g;const w=c(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=Oy(),i=!0}}}function gR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Qv(e,n):!1}function ss(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Oy(){return{animate:ss(!0),whileInView:ss(),whileHover:ss(),whileTap:ss(),whileDrag:ss(),whileFocus:ss(),exit:ss()}}class Ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yR extends Ci{constructor(e){super(e),e.animationState||(e.animationState=mR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _R=0;class vR extends Ci{constructor(){super(...arguments),this.id=_R++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wR={animation:{Feature:yR},exit:{Feature:vR}};function sl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function gl(n){return{point:{x:n.pageX,y:n.pageY}}}const ER=n=>e=>Zd(e)&&n(e,gl(e));function Ha(n,e,t,i){return sl(n,e,ER(t),i)}const by=(n,e)=>Math.abs(n-e);function TR(n,e){const t=by(n.x,e.x),i=by(n.y,e.y);return Math.sqrt(t**2+i**2)}class bw{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,R=TR(w.offset,{x:0,y:0})>=3;if(!T&&!R)return;const{point:O}=w,{timestamp:N}=Mt;this.history.push({...O,timestamp:N});const{onStart:D,onMove:q}=this.handlers;T||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Cf(T,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:R,onSessionEnd:O,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=xf(w.type==="pointercancel"?this.lastMoveEventInfo:Cf(T,this.transformPagePoint),this.history);this.startEvent&&R&&R(w,D),O&&O(w,D)},!Zd(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=gl(e),f=Cf(c,this.transformPagePoint),{point:p}=f,{timestamp:g}=Mt;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,xf(f,this.history)),this.removeListeners=ml(Ha(this.contextWindow,"pointermove",this.handlePointerMove),Ha(this.contextWindow,"pointerup",this.handlePointerUp),Ha(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function Cf(n,e){return e?{point:e(n.point)}:n}function Fy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xf({point:n},e){return{point:n,delta:Fy(n,Fw(e)),offset:Fy(n,SR(e)),velocity:AR(e,.1)}}function SR(n){return n[0]}function Fw(n){return n[n.length-1]}function AR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Fw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Mr(e)));)t--;if(!i)return{x:0,y:0};const l=Lr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Uw=1e-4,IR=1-Uw,RR=1+Uw,Bw=.01,PR=0-Bw,CR=0+Bw;function Jt(n){return n.max-n.min}function xR(n,e,t){return Math.abs(n-e)<=t}function Uy(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=Jt(t)/Jt(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=IR&&n.scale<=RR||isNaN(n.scale))&&(n.scale=1),(n.translate>=PR&&n.translate<=CR||isNaN(n.translate))&&(n.translate=0)}function Ka(n,e,t,i){Uy(n.x,e.x,t.x,i?i.originX:void 0),Uy(n.y,e.y,t.y,i?i.originY:void 0)}function By(n,e,t){n.min=t.min+e.min,n.max=n.min+Jt(e)}function kR(n,e,t){By(n.x,e.x,t.x),By(n.y,e.y,t.y)}function jy(n,e,t){n.min=e.min-t.min,n.max=n.min+Jt(e)}function Ga(n,e,t){jy(n.x,e.x,t.x),jy(n.y,e.y,t.y)}function VR(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function zy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function DR(n,{top:e,left:t,bottom:i,right:o}){return{x:zy(n.x,t,o),y:zy(n.y,e,i)}}function $y(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function NR(n,e){return{x:$y(n.x,e.x),y:$y(n.y,e.y)}}function MR(n,e){let t=.5;const i=Jt(n),o=Jt(e);return o>i?t=To(e.min,e.max-i,n.min):i>o&&(t=To(n.min,n.max-o,e.min)),br(0,1,t)}function LR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const id=.35;function OR(n=id){return n===!1?n=0:n===!0&&(n=id),{x:qy(n,"left","right"),y:qy(n,"top","bottom")}}function qy(n,e,t){return{min:Wy(n,e),max:Wy(n,t)}}function Wy(n,e){return typeof n=="number"?n:n[e]||0}const Hy=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Hy(),y:Hy()}),Ky=()=>({min:0,max:0}),ut=()=>({x:Ky(),y:Ky()});function Nn(n){return[n("x"),n("y")]}function jw({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function bR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function FR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function kf(n){return n===void 0||n===1}function sd({scale:n,scaleX:e,scaleY:t}){return!kf(n)||!kf(e)||!kf(t)}function os(n){return sd(n)||zw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zw(n){return Gy(n.x)||Gy(n.y)}function Gy(n){return n&&n!=="0%"}function uc(n,e,t){const i=n-t,o=e*i;return t+o}function Qy(n,e,t,i,o){return o!==void 0&&(n=uc(n,o,i)),uc(n,t,i)+e}function od(n,e=0,t=1,i,o){n.min=Qy(n.min,e,t,i,o),n.max=Qy(n.max,e,t,i,o)}function $w(n,{x:e,y:t}){od(n.x,e.translate,e.scale,e.originPoint),od(n.y,t.translate,t.scale,t.originPoint)}const Xy=.999999999999,Yy=1.0000000000001;function UR(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$w(n,c)),i&&os(l.latestValues)&&wo(n,l.latestValues))}e.x<Yy&&e.x>Xy&&(e.x=1),e.y<Yy&&e.y>Xy&&(e.y=1)}function vo(n,e){n.min=n.min+e,n.max=n.max+e}function Jy(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);od(n,e,t,l,i)}function wo(n,e){Jy(n.x,e.x,e.scaleX,e.scale,e.originX),Jy(n.y,e.y,e.scaleY,e.scale,e.originY)}function qw(n,e){return jw(FR(n.getBoundingClientRect(),e))}function BR(n,e,t){const i=qw(n,t),{scroll:o}=e;return o&&(vo(i.x,o.offset.x),vo(i.y,o.offset.y)),i}const Ww=({current:n})=>n?n.ownerDocument.defaultView:null,jR=new WeakMap;class zR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gl(_).point)},l=(_,w)=>{const{drag:T,dragPropagation:R,onDragStart:O}=this.getProps();if(T&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LA(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(D=>{let q=this.getAxisMotionValue(D).get()||0;if(ur.test(q)){const{projection:W}=this.visualElement;if(W&&W.layout){const G=W.layout.layoutBox[D];G&&(q=Jt(G)*(parseFloat(q)/100))}}this.originPoint[D]=q}),O&&Ge.postRender(()=>O(_,w)),Xf(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(_,w)=>{const{dragPropagation:T,dragDirectionLock:R,onDirectionLock:O,onDrag:N}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:D}=w;if(R&&this.currentDirection===null){this.currentDirection=$R(D),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),N&&N(_,w)},f=(_,w)=>this.stop(_,w),p=()=>Nn(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new bw(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Ww(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ge.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!ju(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=VR(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=DR(o.layoutBox,t):this.constraints=!1,this.elastic=OR(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Nn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=LR(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!go(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=BR(i,o.root,this.visualElement.getTransformPagePoint());let c=NR(o.layout.layoutBox,l);if(t){const f=t(bR(c));this.hasMutatedConstraints=!!f,f&&(c=jw(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Nn(_=>{if(!ju(_,t,this.currentDirection))return;let w=p[_]||{};c&&(w={min:0,max:0});const T=o?200:1e6,R=o?40:1e7,O={type:"inertia",velocity:i?e[_]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(_,O)});return Promise.all(g).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Xf(this.visualElement,e),i.start(hp(e,i,0,t,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nn(t=>{const{drag:i}=this.getProps();if(!ju(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-tt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!go(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=MR({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(c=>{if(!ju(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];f.set(tt(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;jR.set(this.visualElement,this);const e=this.visualElement.current,t=Ha(e,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ge.read(i);const c=sl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Nn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=p[_].translate,w.set(w.get()+p[_].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=id,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function ju(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $R(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class qR extends Ci{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new zR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zy=n=>(e,t)=>{n&&Ge.postRender(()=>n(e,t))};class WR extends Ci{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new bw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ww(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zy(e),onStart:Zy(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Ge.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ha(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oa={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=e_(n,e.target.x),i=e_(n,e.target.y);return`${t}% ${i}%`}},HR={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Ti.parse(n);if(o.length>5)return i;const l=Ti.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const g=tt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),l(o)}};class KR extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;pA(GR),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ge.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ud.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hw(n){const[e,t]=xS(),i=de.useContext(kv);return fe.jsx(KR,{...n,layoutGroup:i,switchLayoutGroup:de.useContext(bv),isPresent:e,safeToRemove:t})}const GR={borderRadius:{...Oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oa,borderTopRightRadius:Oa,borderBottomLeftRadius:Oa,borderBottomRightRadius:Oa,boxShadow:HR};function QR(n,e,t){const i=Ht(n)?n:rl(n);return i.start(hp("",i,e,t)),i.animation}function XR(n){return n instanceof SVGElement&&n.tagName!=="svg"}const YR=(n,e)=>n.depth-e.depth;class JR{constructor(){this.children=[],this.isDirty=!1}add(e){ep(this.children,e),this.isDirty=!0}remove(e){tp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YR),this.isDirty=!1,this.children.forEach(e)}}function ZR(n,e){const t=cr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(Ei(i),n(l-e))};return Ge.read(i,!0),()=>Ei(i)}const Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],e1=Kw.length,t_=n=>typeof n=="string"?parseFloat(n):n,n_=n=>typeof n=="number"||we.test(n);function t1(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,n1(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,r1(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<e1;c++){const f=`border${Kw[c]}Radius`;let p=r_(e,f),g=r_(t,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||n_(p)===n_(g)?(n[f]=Math.max(tt(t_(p),t_(g),i),0),(ur.test(g)||ur.test(p))&&(n[f]+="%")):n[f]=g}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function r_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const n1=Gw(0,.5,fw),r1=Gw(.5,.95,wn);function Gw(n,e,t){return i=>i<n?0:i>e?1:t(To(n,e,i))}function i_(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){i_(n.x,e.x),i_(n.y,e.y)}function s_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function o_(n,e,t,i,o){return n-=e,n=uc(n,1/t,i),o!==void 0&&(n=uc(n,1/o,i)),n}function i1(n,e=0,t=1,i=.5,o,l=n,c=n){if(ur.test(e)&&(e=parseFloat(e),e=tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=tt(l.min,l.max,i);n===l&&(f-=e),n.min=o_(n.min,e,t,f,o),n.max=o_(n.max,e,t,f,o)}function a_(n,e,[t,i,o],l,c){i1(n,e[t],e[i],e[o],e.scale,l,c)}const s1=["x","scaleX","originX"],o1=["y","scaleY","originY"];function l_(n,e,t,i){a_(n.x,e,s1,t?t.x:void 0,i?i.x:void 0),a_(n.y,e,o1,t?t.y:void 0,i?i.y:void 0)}function u_(n){return n.translate===0&&n.scale===1}function Qw(n){return u_(n.x)&&u_(n.y)}function c_(n,e){return n.min===e.min&&n.max===e.max}function a1(n,e){return c_(n.x,e.x)&&c_(n.y,e.y)}function h_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Xw(n,e){return h_(n.x,e.x)&&h_(n.y,e.y)}function f_(n){return Jt(n.x)/Jt(n.y)}function d_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class l1{constructor(){this.members=[]}add(e){ep(this.members,e),e.scheduleRender()}remove(e){if(tp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u1(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:_,rotateX:w,rotateY:T,skewX:R,skewY:O}=t;g&&(i=`perspective(${g}px) ${i}`),_&&(i+=`rotate(${_}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),R&&(i+=`skewX(${R}deg) `),O&&(i+=`skewY(${O}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const as={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ba=typeof window<"u"&&window.MotionDebug!==void 0,Vf=["","X","Y","Z"],c1={visibility:"hidden"},p_=1e3;let h1=0;function Df(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Yw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=sw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ge,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Yw(i)}function Jw({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=h1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ba&&(as.totalNodes=as.resolvedTargetDeltas=as.recalculatedProjection=0),this.nodes.forEach(p1),this.nodes.forEach(v1),this.nodes.forEach(w1),this.nodes.forEach(m1),Ba&&window.MotionDebug.record(as)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new JR)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new np),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XR(c),this.instance=c;const{layoutId:p,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=ZR(T,250),Yu.hasAnimatedSinceResize&&(Yu.hasAnimatedSinceResize=!1,this.nodes.forEach(g_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeLayoutChanged:R,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||_.getDefaultTransition()||I1,{onLayoutAnimationStart:D,onLayoutAnimationComplete:q}=_.getProps(),W=!this.targetLayout||!Xw(this.targetLayout,O),G=!T&&R;if(this.options.layoutRoot||this.resumeFrom||G||T&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,G);const ne={...Xd(N,"layout"),onPlay:D,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else T||g_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E1),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m_);return}this.isUpdating||this.nodes.forEach(y1),this.isUpdating=!1,this.nodes.forEach(_1),this.nodes.forEach(f1),this.nodes.forEach(d1),this.clearAllSnapshots();const f=cr.now();Mt.delta=br(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,Sf.update.process(Mt),Sf.preRender.process(Mt),Sf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ud.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g1),this.sharedNodes.forEach(T1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Qw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&(f||os(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),R1(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(P1))){const{scroll:_}=this.root;_&&(vo(p.x,_.offset.x),vo(p.y,_.offset.y))}return p}removeElementScroll(c){var f;const p=ut();if(Dn(p,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:w,options:T}=_;_!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Dn(p,c),vo(p.x,w.offset.x),vo(p.y,w.offset.y))}return p}applyTransform(c,f=!1){const p=ut();Dn(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!f&&_.options.layoutScroll&&_.scroll&&_!==_.root&&wo(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),os(_.latestValues)&&wo(p,_.latestValues)}return os(this.latestValues)&&wo(p,this.latestValues),p}removeTransform(c){const f=ut();Dn(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!os(g.latestValues))continue;sd(g.latestValues)&&g.updateSnapshot();const _=ut(),w=g.measurePageBox();Dn(_,w),l_(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return os(this.latestValues)&&l_(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),$w(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Ga(this.relativeTargetOrigin,this.target,R.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ba&&as.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sd(this.parent.latestValues)||zw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(g=!1),g)return;const{layout:_,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,R=this.treeScale.y;UR(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:O}=f;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s_(this.prevProjectionDelta.x,this.projectionDelta.x),s_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ka(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==R||!d_(this.projectionDelta.x,this.prevProjectionDelta.x)||!d_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),Ba&&as.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,f=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},w=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ut(),R=p?p.source:void 0,O=this.layout?this.layout.source:void 0,N=R!==O,D=this.getStack(),q=!D||D.members.length<=1,W=!!(N&&!q&&this.options.crossfade===!0&&!this.path.some(A1));this.animationProgress=0;let G;this.mixTargetDelta=ne=>{const re=ne/1e3;y_(w.x,c.x,re),y_(w.y,c.y,re),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S1(this.relativeTarget,this.relativeTargetOrigin,T,re),G&&a1(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=ut()),Dn(G,this.relativeTarget)),N&&(this.animationValues=_,t1(_,g,this.latestValues,re,W,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Yu.hasAnimatedSinceResize=!0,this.currentAnimation=QR(0,p_,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:_}=c;if(!(!f||!p||!g)){if(this!==c&&this.layout&&g&&Zw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ut();const w=Jt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const T=Jt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+T}Dn(f,p),wo(f,_),Ka(this.projectionDeltaWithTransform,this.layoutCorrected,f,_)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new l1),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Df("z",c,g,this.animationValues);for(let _=0;_<Vf.length;_++)Df(`rotate${Vf[_]}`,c,g,this.animationValues),Df(`skew${Vf[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}getProjectionStyles(c){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return c1;const g={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Qu(c==null?void 0:c.pointerEvents)||"",g.transform=_?_(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Qu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(N.transform=_?_({},""):"none",this.hasProjected=!1),N}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=u1(this.projectionDeltaWithTransform,this.treeScale,T),_&&(g.transform=_(T,g.transform));const{x:R,y:O}=this.projectionDelta;g.transformOrigin=`${R.origin*100}% ${O.origin*100}% 0`,w.animationValues?g.opacity=w===this?(p=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:g.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const N in nl){if(T[N]===void 0)continue;const{correct:D,applyTo:q,isCSSVariable:W}=nl[N],G=g.transform==="none"?T[N]:D(T[N],w);if(q){const ne=q.length;for(let re=0;re<ne;re++)g[q[re]]=G}else W?this.options.visualElement.renderState.vars[N]=G:g[N]=G}return this.options.layoutId&&(g.pointerEvents=w===this?Qu(c==null?void 0:c.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(m_),this.root.sharedNodes.clear()}}}function f1(n){n.updateLayout()}function d1(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Nn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],R=Jt(T);T.min=i[w].min,T.max=T.min+R}):Zw(l,t.layoutBox,i)&&Nn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],R=Jt(i[w]);T.max=T.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+R)});const f=_o();Ka(f,i,t.layoutBox);const p=_o();c?Ka(p,n.applyTransform(o,!0),t.measuredBox):Ka(p,i,t.layoutBox);const g=!Qw(f);let _=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:R}=w;if(T&&R){const O=ut();Ga(O,t.layoutBox,T.layoutBox);const N=ut();Ga(N,i,R.layoutBox),Xw(O,N)||(_=!0),w.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function p1(n){Ba&&as.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function m1(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function g1(n){n.clearSnapshot()}function m_(n){n.clearMeasurements()}function y1(n){n.isLayoutDirty=!1}function _1(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function g_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function v1(n){n.resolveTargetDelta()}function w1(n){n.calcProjection()}function E1(n){n.resetSkewAndRotation()}function T1(n){n.removeLeadSnapshot()}function y_(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function __(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function S1(n,e,t,i){__(n.x,e.x,t.x,i),__(n.y,e.y,t.y,i)}function A1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const I1={duration:.45,ease:[.4,0,.1,1]},v_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),w_=v_("applewebkit/")&&!v_("chrome/")?Math.round:wn;function E_(n){n.min=w_(n.min),n.max=w_(n.max)}function R1(n){E_(n.x),E_(n.y)}function Zw(n,e,t){return n==="position"||n==="preserve-aspect"&&!xR(f_(e),f_(t),.2)}function P1(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const C1=Jw({attachResizeListener:(n,e)=>sl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nf={current:void 0},eE=Jw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Nf.current){const n=new C1({});n.mount(window),n.setOptions({layoutScroll:!0}),Nf.current=n}return Nf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),x1={pan:{Feature:WR},drag:{Feature:qR,ProjectionNode:eE,MeasureLayout:Hw}};function T_(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Ge.postRender(()=>l(e,gl(e)))}class k1 extends Ci{mount(){const{current:e}=this.node;e&&(this.unmount=kA(e,(t,i)=>(T_(this.node,i,"Start"),o=>T_(this.node,o,"End"))))}unmount(){}}class V1 extends Ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ml(sl(this.node.current,"focus",()=>this.onFocus()),sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Ge.postRender(()=>l(e,gl(e)))}class D1 extends Ci{mount(){const{current:e}=this.node;e&&(this.unmount=MA(e,(t,i)=>(S_(this.node,i,"Start"),(o,{success:l})=>S_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ad=new WeakMap,Mf=new WeakMap,N1=n=>{const e=ad.get(n.target);e&&e(n)},M1=n=>{n.forEach(N1)};function L1({root:n,...e}){const t=n||document;Mf.has(t)||Mf.set(t,{});const i=Mf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(M1,{root:n,...e})),i[o]}function O1(n,e,t){const i=L1(e);return ad.set(n,t),i.observe(n),()=>{ad.delete(n),i.unobserve(n)}}const b1={some:0,all:1};class F1 extends Ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:b1[o]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),T=g?_:w;T&&T(p)};return O1(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(U1(e,t))&&this.startObserver()}unmount(){}}function U1({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const B1={inView:{Feature:F1},tap:{Feature:D1},focus:{Feature:V1},hover:{Feature:k1}},j1={layout:{ProjectionNode:eE,MeasureLayout:Hw}},ld={current:null},tE={current:!1};function z1(){if(tE.current=!0,!!Md)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ld.current=n.matches;n.addListener(e),e()}else ld.current=!1}const $1=[...Rw,$t,Ti],q1=n=>$1.find(Iw(n)),A_=new WeakMap;function W1(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,rl(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,rl(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const I_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H1{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=cr.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Ge.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:_}=c;this.onUpdate=_,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ac(t),this.isVariantNode=Lv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const R in T){const O=T[R];p[R]!==void 0&&Ht(O)&&O.set(p[R],!1)}}mount(e){this.current=e,A_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),tE.current||z1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ld.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){A_.delete(this.current),this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ms.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in So){const t=So[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<I_.length;i++){const o=I_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=W1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=rl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Sw(o)||pw(o))?o=parseFloat(o):!q1(o)&&Ti.test(t)&&(o=ww(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=jd(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new np),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nE extends H1{constructor(){super(...arguments),this.KeyframeResolver=Pw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function K1(n){return window.getComputedStyle(n)}class G1 extends nE{constructor(){super(...arguments),this.type="html",this.renderInstance=$v}readValueFromInstance(e,t){if(ms.has(t)){const i=ap(t);return i&&i.default||0}else{const i=K1(e),o=(zd(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qw(e,t)}build(e,t,i){Wd(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Qd(e,t,i)}}class Q1 extends nE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ms.has(t)){const i=ap(t);return i&&i.default||0}return t=qv.has(t)?t:Fd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Kv(e,t,i)}build(e,t,i){Hd(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Wv(e,t,i,o)}mount(e){this.isSVGTag=Gd(e.tagName),super.mount(e)}}const X1=(n,e)=>Bd(n)?new Q1(e):new G1(e,{allowProjection:n!==de.Fragment}),Y1=SA({...wR,...B1,...x1,...j1},X1),J1=FS(Y1);function Z1({type:n="text",...e}){return fe.jsx("input",{type:n,className:"p-2 rounded bg-purple-700 text-white",...e})}function rE({username:n,setUsername:e,country:t,setCountry:i}){return fe.jsxs("div",{className:"mb-4",children:[fe.jsx(Z1,{placeholder:"Select a temporary username (optional)",value:n,onChange:o=>e(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),fe.jsxs("select",{value:t,onChange:o=>i(o.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white",children:[fe.jsx("option",{value:"",children:"Select a country"}),fe.jsx("option",{value:"🇺🇸",children:"United States"}),fe.jsx("option",{value:"🇬🇧",children:"United Kingdom"}),fe.jsx("option",{value:"🇩🇪",children:"Germany"}),fe.jsx("option",{value:"🇫🇷",children:"France"}),fe.jsx("option",{value:"🇯🇵",children:"Japan"}),fe.jsx("option",{value:"🇮🇳",children:"India"})]})]})}var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},eP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,R=g&63;p||(R=64,c||(T=64)),i.push(t[_],t[w],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||g==null||w==null)throw new tP;const T=l<<2|f>>4;if(i.push(T),g!==64){const R=f<<4&240|g>>2;if(i.push(R),w!==64){const O=g<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nP=function(n){const e=iE(n);return sE.encodeByteArray(e,!0)},cc=function(n){return nP(n).replace(/\./g,"")},rP=function(n){try{return sE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=()=>iP().__FIREBASE_DEFAULTS__,oP=()=>{if(typeof process>"u"||typeof R_>"u")return;const n=R_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rP(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return sP()||oP()||aP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lP=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oE=n=>{const e=lP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},aE=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cc(JSON.stringify(t)),cc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){var n;const e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fP(){return!hP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dP(){try{return typeof indexedDB=="object"}catch{return!1}}function pP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="FirebaseError";class gs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mP,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uE.prototype.create)}}class uE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?gP(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new gs(o,f,i)}}function gP(n,e){return n.replace(yP,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const yP=/\{\$([^}]+)}/g;function hc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(P_(l)&&P_(c)){if(!hc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function P_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new uP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wP(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vP(n){return n===ls?void 0:n}function wP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _P(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const TP={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},SP=Le.INFO,AP={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},IP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=AP[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cE{constructor(e){this.name=e,this._logLevel=SP,this._logHandler=IP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const RP=(n,e)=>e.some(t=>n instanceof t);let C_,x_;function PP(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CP(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,ud=new WeakMap,fE=new WeakMap,Lf=new WeakMap,dp=new WeakMap;function xP(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(mi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&hE.set(t,n)}).catch(()=>{}),dp.set(e,n),e}function kP(n){if(ud.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ud.set(n,e)}let cd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ud.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VP(n){cd=n(cd)}function DP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Of(this),e,...t);return fE.set(i,e.sort?e.sort():[e]),mi(i)}:CP().includes(n)?function(...e){return n.apply(Of(this),e),mi(hE.get(this))}:function(...e){return mi(n.apply(Of(this),e))}}function NP(n){return typeof n=="function"?DP(n):(n instanceof IDBTransaction&&kP(n),RP(n,PP())?new Proxy(n,cd):n)}function mi(n){if(n instanceof IDBRequest)return xP(n);if(Lf.has(n))return Lf.get(n);const e=NP(n);return e!==n&&(Lf.set(n,e),dp.set(e,n)),e}const Of=n=>dp.get(n);function MP(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=mi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(mi(c.result),p.oldVersion,p.newVersion,mi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const LP=["get","getKey","getAll","getAllKeys","count"],OP=["put","add","delete","clear"],bf=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=OP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||LP.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return bf.set(e,l),l}VP(n=>({...n,get:(e,t,i)=>k_(e,t)||n.get(e,t,i),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function FP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",V_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new cE("@firebase/app"),UP="@firebase/app-compat",BP="@firebase/analytics-compat",jP="@firebase/analytics",zP="@firebase/app-check-compat",$P="@firebase/app-check",qP="@firebase/auth",WP="@firebase/auth-compat",HP="@firebase/database",KP="@firebase/data-connect",GP="@firebase/database-compat",QP="@firebase/functions",XP="@firebase/functions-compat",YP="@firebase/installations",JP="@firebase/installations-compat",ZP="@firebase/messaging",eC="@firebase/messaging-compat",tC="@firebase/performance",nC="@firebase/performance-compat",rC="@firebase/remote-config",iC="@firebase/remote-config-compat",sC="@firebase/storage",oC="@firebase/storage-compat",aC="@firebase/firestore",lC="@firebase/vertexai",uC="@firebase/firestore-compat",cC="firebase",hC="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",fC={[hd]:"fire-core",[UP]:"fire-core-compat",[jP]:"fire-analytics",[BP]:"fire-analytics-compat",[$P]:"fire-app-check",[zP]:"fire-app-check-compat",[qP]:"fire-auth",[WP]:"fire-auth-compat",[HP]:"fire-rtdb",[KP]:"fire-data-connect",[GP]:"fire-rtdb-compat",[QP]:"fire-fn",[XP]:"fire-fn-compat",[YP]:"fire-iid",[JP]:"fire-iid-compat",[ZP]:"fire-fcm",[eC]:"fire-fcm-compat",[tC]:"fire-perf",[nC]:"fire-perf-compat",[rC]:"fire-rc",[iC]:"fire-rc-compat",[sC]:"fire-gcs",[oC]:"fire-gcs-compat",[aC]:"fire-fst",[uC]:"fire-fst-compat",[lC]:"fire-vertex","fire-js":"fire-js",[cC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,dC=new Map,dd=new Map;function D_(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ol(n){const e=n.name;if(dd.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,n);for(const t of fc.values())D_(t,n);for(const t of dC.values())D_(t,n);return!0}function dE(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new uE("app","Firebase",pC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=hC;function mE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=aE()),!t)throw gi.create("no-options");const l=fc.get(o);if(l){if(hc(t,l.options)&&hc(i,l.config))return l;throw gi.create("duplicate-app",{appName:o})}const c=new EP(o);for(const p of dd.values())c.addComponent(p);const f=new mC(t,i,c);return fc.set(o,f),f}function gE(n=fd){const e=fc.get(n);if(!e&&n===fd&&aE())return mE();if(!e)throw gi.create("no-app",{appName:n});return e}function yi(n,e,t){var i;let o=(i=fC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}ol(new Io(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebase-heartbeat-database",yC=1,al="firebase-heartbeat-store";let Ff=null;function yE(){return Ff||(Ff=MP(gC,yC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Ff}async function _C(n){try{const t=(await yE()).transaction(al),i=await t.objectStore(al).get(_E(n));return await t.done,i}catch(e){if(e instanceof gs)Fr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function N_(n,e){try{const i=(await yE()).transaction(al,"readwrite");await i.objectStore(al).put(e,_E(n)),await i.done}catch(t){if(t instanceof gs)Fr.warn(t.message);else{const i=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function _E(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1024,wC=30*24*60*60*1e3;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=M_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=wC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),l=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function TC(n,e=vC){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),L_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dP()?pP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _C(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return N_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return N_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L_(n){return cc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){ol(new Io("platform-logger",e=>new bP(e),"PRIVATE")),ol(new Io("heartbeat",e=>new EC(e),"PRIVATE")),yi(hd,V_,n),yi(hd,V_,"esm2017"),yi("fire-js","")}AC("");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,vE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function P(){}P.prototype=A.prototype,x.D=A.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(V,L,F){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return A.prototype[L].apply(V,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,P){P||(P=0);var V=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)V[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)V[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=x.g[0],P=x.g[1],L=x.g[2];var F=x.g[3],C=A+(F^P&(L^F))+V[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=F+(L^A&(P^L))+V[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(P^F&(A^P))+V[2]+606105819&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(A^L&(F^A))+V[3]+3250441966&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(F^P&(L^F))+V[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(L^A&(P^L))+V[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(P^F&(A^P))+V[6]+2821735955&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(A^L&(F^A))+V[7]+4249261313&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(F^P&(L^F))+V[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(L^A&(P^L))+V[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(P^F&(A^P))+V[10]+4294925233&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(A^L&(F^A))+V[11]+2304563134&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(F^P&(L^F))+V[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(L^A&(P^L))+V[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=L+(P^F&(A^P))+V[14]+2792965006&4294967295,L=F+(C<<17&4294967295|C>>>15),C=P+(A^L&(F^A))+V[15]+1236535329&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(L^F&(P^L))+V[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(A^P))+V[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(F^A))+V[11]+643717713&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(L^F))+V[0]+3921069994&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(P^L))+V[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(A^P))+V[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(F^A))+V[15]+3634488961&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(L^F))+V[4]+3889429448&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(P^L))+V[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(A^P))+V[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(F^A))+V[3]+4107603335&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(L^F))+V[8]+1163531501&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^F&(P^L))+V[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^L&(A^P))+V[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(F^A))+V[7]+1735328473&4294967295,L=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(L^F))+V[12]+2368359562&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(P^L^F)+V[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^L)+V[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^P)+V[11]+1839030562&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^A)+V[14]+4259657740&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^F)+V[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^L)+V[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^P)+V[7]+4139469664&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^A)+V[10]+3200236656&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^F)+V[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^L)+V[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^P)+V[3]+3572445317&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^A)+V[6]+76029189&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^F)+V[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^L)+V[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=L+(F^A^P)+V[15]+530742520&4294967295,L=F+(C<<16&4294967295|C>>>16),C=P+(L^F^A)+V[2]+3299628645&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(L^(P|~F))+V[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~L))+V[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~P))+V[14]+2878612391&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~A))+V[5]+4237533241&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~F))+V[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~L))+V[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~P))+V[10]+4293915773&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~A))+V[1]+2240044497&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~F))+V[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~L))+V[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~P))+V[6]+2734768916&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~A))+V[13]+1309151649&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~F))+V[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~L))+V[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=L+(A^(F|~P))+V[2]+718787259&4294967295,L=F+(C<<15&4294967295|C>>>17),C=P+(F^(L|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+F&4294967295}i.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var P=A-this.blockSize,V=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=P;)o(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<A;)if(V[L++]=x.charCodeAt(F++),L==this.blockSize){o(this,V),L=0;break}}else for(;F<A;)if(V[L++]=x[F++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var P=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=P&255,P/=256;for(this.u(x),x=Array(16),A=P=0;4>A;++A)for(var V=0;32>V;V+=8)x[P++]=this.g[A]>>>V&255;return x};function l(x,A){var P=f;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=A(x)}function c(x,A){this.h=A;for(var P=[],V=!0,L=x.length-1;0<=L;L--){var F=x[L]|0;V&&F==A||(P[L]=F,V=!1)}this.g=P}var f={};function p(x){return-128<=x&&128>x?l(x,function(A){return new c([A|0],0>A?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return D(g(-x));for(var A=[],P=1,V=0;x>=P;V++)A[V]=x/P|0,P*=4294967296;return new c(A,0)}function _(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return D(_(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(A,8)),V=w,L=0;L<x.length;L+=8){var F=Math.min(8,x.length-L),C=parseInt(x.substring(L,L+F),A);8>F?(F=g(Math.pow(A,F)),V=V.j(F).add(g(C))):(V=V.j(P),V=V.add(g(C)))}return V}var w=p(0),T=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(N(this))return-D(this).m();for(var x=0,A=1,P=0;P<this.g.length;P++){var V=this.i(P);x+=(0<=V?V:4294967296+V)*A,A*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(N(this))return"-"+D(this).toString(x);for(var A=g(Math.pow(x,6)),P=this,V="";;){var L=ne(P,A).g;P=q(P,L.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=L,O(P))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function N(x){return x.h==-1}n.l=function(x){return x=q(this,x),N(x)?-1:O(x)?0:1};function D(x){for(var A=x.g.length,P=[],V=0;V<A;V++)P[V]=~x.g[V];return new c(P,~x.h).add(T)}n.abs=function(){return N(this)?D(this):this},n.add=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],V=0,L=0;L<=A;L++){var F=V+(this.i(L)&65535)+(x.i(L)&65535),C=(F>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=C>>>16,F&=65535,C&=65535,P[L]=C<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function q(x,A){return x.add(D(A))}n.j=function(x){if(O(this)||O(x))return w;if(N(this))return N(x)?D(this).j(D(x)):D(D(this).j(x));if(N(x))return D(this.j(D(x)));if(0>this.l(R)&&0>x.l(R))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,P=[],V=0;V<2*A;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var F=this.i(V)>>>16,C=this.i(V)&65535,Qe=x.i(L)>>>16,Ct=x.i(L)&65535;P[2*V+2*L]+=C*Ct,W(P,2*V+2*L),P[2*V+2*L+1]+=F*Ct,W(P,2*V+2*L+1),P[2*V+2*L+1]+=C*Qe,W(P,2*V+2*L+1),P[2*V+2*L+2]+=F*Qe,W(P,2*V+2*L+2)}for(V=0;V<A;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=A;V<2*A;V++)P[V]=0;return new c(P,0)};function W(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function G(x,A){this.g=x,this.h=A}function ne(x,A){if(O(A))throw Error("division by zero");if(O(x))return new G(w,w);if(N(x))return A=ne(D(x),A),new G(D(A.g),D(A.h));if(N(A))return A=ne(x,D(A)),new G(D(A.g),A.h);if(30<x.g.length){if(N(x)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,V=A;0>=V.l(x);)P=re(P),V=re(V);var L=ae(P,1),F=ae(V,1);for(V=ae(V,2),P=ae(P,2);!O(V);){var C=F.add(V);0>=C.l(x)&&(L=L.add(P),F=C),V=ae(V,1),P=ae(P,1)}return A=q(x,L.j(A)),new G(L,A)}for(L=w;0<=x.l(A);){for(P=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=g(P),C=F.j(A);N(C)||0<C.l(x);)P-=V,F=g(P),C=F.j(A);O(F)&&(F=T),L=L.add(F),x=q(x,C)}return new G(L,x)}n.A=function(x){return ne(this,x).h},n.and=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)&x.i(V);return new c(P,this.h&x.h)},n.or=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)|x.i(V);return new c(P,this.h|x.h)},n.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],V=0;V<A;V++)P[V]=this.i(V)^x.i(V);return new c(P,this.h^x.h)};function re(x){for(var A=x.g.length+1,P=[],V=0;V<A;V++)P[V]=x.i(V)<<1|x.i(V-1)>>>31;return new c(P,x.h)}function ae(x,A){var P=A>>5;A%=32;for(var V=x.g.length-P,L=[],F=0;F<V;F++)L[F]=0<A?x.i(F+P)>>>A|x.i(F+P+1)<<32-A:x.i(F+P);return new c(L,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,_i=c}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wE,ja,EE,Ju,pd,TE,SE,AE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,S=!1,U={next:function(){if(!S&&v<u.length){var $=v++;return{value:m($,u[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function R(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,U,$){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return m.prototype[U].apply(S,te)}}function N(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function D(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const U=u.length||0,$=S.length||0;u.length=U+$;for(let te=0;te<$;te++)u[U+te]=S[te]}else u.push(S)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ae(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let $=0;$<P.length;$++)v=P[$],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){f.setTimeout(()=>{throw u},0)}function C(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Qe{constructor(){this.h=this.g=null}add(m,v){const S=Ct.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ct=new q(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ee=!1,pe=new Qe,ie=()=>{const u=f.Promise.resolve(void 0);Ae=()=>{u.then(b)}};var b=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){F(v)}var m=Ct;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ee=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Pe(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(re){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,me);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,m,v,S,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=jr(u,m,S,U);return-1<te?(m=u[te],v||(m.fa=!1)):(m=new $e(m,this.src,$,!!S,U),m.fa=v,u.push(m)),m};function vs(u,m){var v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(S,U,1),$&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function jr(u,m,v,S){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==S)return U}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),ws={};function jo(u,m,v,S,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)jo(u,m[$],v,S,U);return null}return v=qo(v),u&&u[Fe]?u.K(m,v,g(S)?!!S.capture:!1,U):zo(u,m,v,!1,S,U)}function zo(u,m,v,S,U,$){if(!m)throw Error("Invalid event type");var te=g(U)?!!U.capture:!!U,je=Ts(u);if(je||(u[Vi]=je=new gr(u)),v=je.add(m,v,S,te,$),v.proxy)return v;if(S=Sl(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Re||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(_r(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Sl(){function u(v){return m.call(u.src,u.listener,v)}const m=$o;return u}function Es(u,m,v,S,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Es(u,m[$],v,S,U);else S=g(S)?!!S.capture:!!S,v=qo(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],v=jr($,v,S,U),-1<v&&(Tt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,v,S,U)),(v=-1<u?m[u]:null)&&yr(v))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])vs(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(_r(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ts(m))?(vs(v,u),v.h==0&&(v.src=null,m[Vi]=null)):Tt(u)}}}function _r(u){return u in ws?ws[u]:ws[u]="on"+u}function $o(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&yr(u),u=v.call(S,m)}return u}function Ts(u){return u=u[Vi],u instanceof gr?u:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(m){return u.handleEvent(m)}),u[Ss])}function pt(){K.call(this),this.i=new gr(this),this.M=this,this.F=null}O(pt,K),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(u,m,v,S){Es(this,u,m,v,S)};function mt(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var U=m;m=new me(S,u),V(m,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var te=m.g=v[$];U=vr(te,S,!0,m)&&U}if(te=m.g=u,U=vr(te,S,!0,m)&&U,U=vr(te,S,!1,m)&&U,v)for($=0;$<v.length;$++)te=m.g=v[$],U=vr(te,S,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)Tt(v[S]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},pt.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function vr(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==v){var je=te.listener,gt=te.ha||te.src;te.fa&&vs(u.i,te),U=je.call(gt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Wo(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function zr(u){u.g=Wo(()=>{u.g=null,u.i&&(u.i=!1,zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Di extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(u){K.call(this),this.h=u,this.g={}}O(Ni,K);var Ho=[];function Ko(u){ae(u.g,function(m,v){this.g.hasOwnProperty(v)&&yr(m)},u),u.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Ko(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Go=f.JSON.stringify,Qo=f.JSON.parse,Xo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Mi(){}Mi.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Is(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){me.call(this,"d")}O(Xn,me);function Rs(){me.call(this,"c")}O(Rs,me);var Yn={},Yo=null;function Li(){return Yo=Yo||new pt}Yn.La="serverreachability";function Jo(u){me.call(this,Yn.La,u)}O(Jo,me);function wr(u){const m=Li();mt(m,new Jo(m))}Yn.STAT_EVENT="statevent";function Zo(u,m){me.call(this,Yn.STAT_EVENT,u),this.stat=m}O(Zo,me);function at(u){const m=Li();mt(m,new Zo(m,u))}Yn.Ma="timingevent";function Ps(u,m){me.call(this,Yn.Ma,u),this.size=m}O(Ps,me);function Mn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function bi(u,m,v,S,U,$){u.info(function(){if(u.g)if($)for(var te="",je=$.split("&"),gt=0;gt<je.length;gt++){var Ne=je[gt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var ht=St.split("_");te=2<=ht.length&&ht[1]=="type"?te+(St+"="+Ne+"&"):te+(St+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function Cs(u,m,v,S,U,$,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+$+" "+te})}function Ln(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wc(u,v)+(S?" "+S:"")})}function ea(u,m){u.info(function(){return"TIMEOUT: "+m})}Oi.prototype.info=function(){};function Wc(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Go(v)}catch{return m}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Al={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Fi(){}O(Fi,Mi),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},On=new Fi;function bn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Il}function Il(){this.i=null,this.g="",this.h=!1}var ta={},ks={};function Vs(u,m,v){u.L=1,u.v=Kr(fn(m)),u.m=v,u.P=!0,na(u,null)}function na(u,m){u.F=Date.now(),qe(u),u.A=fn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Qr(v.i,"t",S),u.C=0,v=u.j.J,u.h=new Il,u.g=$l(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Di(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ho[0]=U.toString()),U=Ho);for(var $=0;$<U.length;$++){var te=jo(v,U[$],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),bi(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=en(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||la(this.g)))){this.J||ht!=4||m==7||(m==8||0>=In?wr(3):wr(2)),Ui(this);var v=this.g.Z();this.X=v;t:if(Rl(this)){var S=la(this.g);u="";var U=S.length,$=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),$r(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!($&&m==U-1)});S.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,Cs(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,gt=this.g;if((je=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(je)){var Ne=je;break t}}Ne=null}if(v=Ne)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,v);else{this.o=!1,this.s=3,at(12),Sn(this),$r(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<te.length;)if(pn=Hc(this,te),pn==ks){ht==4&&(this.s=4,at(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ta){this.s=4,at(15),Ln(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,pn,null),ra(this,pn);if(Rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||te.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,te,"[Invalid Chunked Response]"),Sn(this),$r(this);else if(0<te.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ca(St),St.M=!0,at(11))}}else Ln(this.i,this.l,te,null),ra(this,te);ht==4&&Sn(this),this.o&&!this.J&&(ht==4?zs(this.j,this):(this.o=!1,qe(this)))}else bs(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Sn(this),$r(this)}}}catch{}finally{}};function Rl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hc(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?ks:(v=Number(m.substring(v,S)),isNaN(v)?ta:(S+=1,S+v>m.length?ks:(m=m.slice(S,S+v),u.C=S+v,m)))}bn.prototype.cancel=function(){this.J=!0,Sn(this)};function qe(u){u.S=Date.now()+u.I,Pl(u,u.I)}function Pl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(T(u.ba,u),m)}function Ui(u){u.B&&(f.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ea(this.i,this.A),this.L!=2&&(wr(),at(17)),Sn(this),this.s=2,$r(this)):Pl(this,this.S-u)};function $r(u){u.j.G==0||u.J||zs(u.j,u)}function Sn(u){Ui(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ko(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ra(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Kt(v.h,u))){if(!u.K&&Kt(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)js(v),zn(v);else break e;Bs(v),at(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mn(T(v.Za,v),6e3));if(1>=xl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((u.K||v.g==u)&&js(v),!W(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const St=Ne[3];St!=null&&(v.la=St,v.j.info("VER="+v.la));const ht=Ne[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const In=Ne[5];In!=null&&typeof In=="number"&&0<In&&(S=1.5*In,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const pn=u.g;if(pn){const Hi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var $=S.h;$.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ia($,$.h),$.h=null))}if(S.D){const qs=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(S.ya=qs,ze(S.I,S.D,qs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var te=u;if(S.qa=zl(S,S.J?S.ia:null,S.W),te.K){kl(S.h,te);var je=te,gt=S.L;gt&&(je.I=gt),je.B&&(Ui(je),qe(je)),S.g=te}else Wi(S);0<v.i.length&&tr(v)}else Ne[0]!="stop"&&Ne[0]!="close"||Ir(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ir(v,7):Vt(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}wr(4)}catch{}}var Cl=class{constructor(u,m){this.g=u,this.map=m}};function Bi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ia(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bi.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return N(u.i)}function Ds(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function Ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ns(u),S=Ds(u),U=S.length,$=0;$<U;$++)m.call(void 0,S[$],v&&v[$],u)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),U=null;if(0<=S){var $=u[v].substring(0,S);U=u[v].substring(S+1)}else $=u[v];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Er){this.h=u.h,zi(this,u.j),this.o=u.o,this.g=u.g,Wr(this,u.s),this.l=u.l;var m=u.i,v=new Jn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Hr(this,v),this.m=u.m}else u&&(m=String(u).match(ji))?(this.h=!1,zi(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),Wr(this,m[4]),this.l=ke(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Er.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gr(m,Ms,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Ms,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gr(v,v.charAt(0)=="/"?Ml:Nl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gr(v,sa)),u.join("")};function fn(u){return new Er(u)}function zi(u,m,v){u.j=v?ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hr(u,m,v){m instanceof Jn?(u.i=m,Zn(u.i,u.h)):(v||(m=Gr(m,Ll)),u.i=new Jn(m,u.h))}function ze(u,m,v){u.i.set(m,v)}function Kr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ms=/[#\/\?@]/g,Nl=/[#\?:]/g,Ml=/[#\?]/g,Ll=/[#\?@]/g,sa=/#/g;function Jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Kc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Jn.prototype,n.add=function(u,m){kt(this),this.i=null,u=An(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Fn(u,m){kt(u),m=An(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Un(u,m){return kt(u),m=An(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const U=u[S];for(let $=0;$<U.length;$++)v.push(m[S])}return v},n.V=function(u){kt(this);let m=[];if(typeof u=="string")Un(this,u)&&(m=m.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return kt(this),this.i=null,u=An(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qr(u,m,v){Fn(u,m),0<v.length&&(u.i=null,u.g.set(An(u,m),N(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const $=encodeURIComponent(String(S)),te=this.V(S);for(S=0;S<te.length;S++){var U=$;te[S]!==""&&(U+="="+encodeURIComponent(String(te[S]))),u.push(U)}}return this.i=u.join("&")};function An(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zn(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(Fn(this,S),Qr(this,U,v))},u)),u.j=m}function Gc(u,m){const v=new Oi;if(f.Image){const S=new Image;S.onload=R(Zt,v,"TestLoadImage: loaded",!0,m,S),S.onerror=R(Zt,v,"TestLoadImage: error",!1,m,S),S.onabort=R(Zt,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=R(Zt,v,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ol(u,m){const v=new Oi,S=new AbortController,U=setTimeout(()=>{S.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(U),$.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Qc(){this.g=new Xo}function bl(u,m,v){const S=v||"";try{qr(u,function(U,$){let te=U;g(U)&&(te=Go(U)),m.push(S+$+"="+encodeURIComponent(te))})}catch(U){throw m.push(S+"type="+encodeURIComponent("_badmap")),U}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Tr,Mi),Tr.prototype.g=function(){return new $i(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function $i(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O($i,pt),n=$i.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bn(this):jn(this),this.readyState==3&&Fl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sr(u){let m="";return ae(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Xr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Sr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ze(u,m,v))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,pt);var Xc=/^https?$/i,oa=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?As(this.o):As(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){qi(this,$);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch($){qi(this,$)}};function qi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ls(u),dn(u)}function Ls(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},n.bb=function(){aa(this)};function aa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)Wo(u.Ea,0,u);else if(mt(u,"readystatechange"),en(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=te===0){var U=String(u.D).match(ji)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),S=!Xc.test(U?U.toLowerCase():"")}v=S}if(v)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var $=2<en(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ls(u)}}finally{dn(u)}}}}function dn(u,m){if(u.g){Os(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{v.onreadystatechange=S}catch{}}}function Os(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qo(m)}};function la(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(W(u[S]))continue;var v=L(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[U]||[];m[U]=$,$.push(v)}x(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ua(u){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(u&&u.concurrentRequestLimit),this.Da=new Qc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ua.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,S){at(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=zl(this,null,this.W),tr(this)};function Vt(u){if(Fs(u),u.G==3){var m=u.U++,v=fn(u.I);if(ze(v,"SID",u.K),ze(v,"RID",m),ze(v,"TYPE","terminate"),Ar(u,v),m=new bn(u,u.j,m),m.L=2,m.v=Kr(fn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=$l(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}jl(u)}function zn(u){u.g&&(ca(u),u.g.cancel(),u.g=null)}function Fs(u){zn(u),u.u&&(f.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function tr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||ie(),ee||(Ae(),ee=!0),pe.add(m,u),u.B=0}}function Yc(u,m){return xl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(T(u.Ga,u,m),Bl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new bn(this,this.j,u);let $=this.o;if(this.S&&($?($=A($),V($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Yr(this,U,m),v=fn(this.I),ze(v,"RID",u),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Ar(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Sr($)))+"&"+m:this.m&&Xr(v,this.m,$)),ia(this.h,U),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",m),ze(v,"SID","null"),U.T=!0,Vs(U,v,null)):Vs(U,v,m),this.G=2}}else this.G==3&&(u?Us(this,u):this.i.length==0||hn(this.h)||Us(this))};function Us(u,m){var v;m?v=m.l:v=u.U++;const S=fn(u.I);ze(S,"SID",u.K),ze(S,"RID",v),ze(S,"AID",u.T),Ar(u,S),u.m&&u.o&&Xr(S,u.m,u.o),v=new bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ia(u.h,v),Vs(v,S,m)}function Ar(u,m){u.H&&ae(u.H,function(v,S){ze(m,S,v)}),u.l&&qr({},function(v,S){ze(m,S,v)})}function Yr(u,m,v){v=Math.min(u.i.length,v);var S=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let je=!0;for(let gt=0;gt<v;gt++){let Ne=U[gt].g;const St=U[gt].map;if(Ne-=$,0>Ne)$=Math.max(0,U[gt].g-100),je=!1;else try{bl(St,te,"req"+Ne+"_")}catch{S&&S(St)}}if(je){S=te.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,S}function Wi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||ie(),ee||(Ae(),ee=!0),pe.add(m,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(T(u.Fa,u),Bl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),zn(this),Ul(this))};function ca(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ul(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fn(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),Ar(u,m),u.m&&u.o&&Xr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Kr(fn(m)),v.m=null,v.P=!0,na(v,u)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),Bs(this),at(19))};function js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function zs(u,m){var v=null;if(u.g==m){js(u),ca(u),u.g=null;var S=2}else if(Kt(u.h,m))v=m.D,kl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;S=Li(),mt(S,new Ps(S,v)),tr(u)}else Wi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(S==1&&Yc(u,m)||S==2&&Bs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ir(u,5);break;case 4:Ir(u,10);break;case 3:Ir(u,6);break;default:Ir(u,2)}}}function Bl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ir(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),S=u.Xa;const U=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zi(S,"https"),Kr(S),U?Gc(S.toString(),v):Ol(S.toString(),v)}else at(2);u.G=0,u.l&&u.l.sa(m),jl(u),Fs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function jl(u){if(u.G=0,u.ka=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function zl(u,m,v){var S=v instanceof Er?fn(v):new Er(v);if(S.g!="")m&&(S.g=m+"."+S.g),Wr(S,S.s);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new Er(null);S&&zi($,S),m&&($.g=m),U&&Wr($,U),v&&($.l=v),S=$}return v=u.D,m=u.ya,v&&m&&ze(S,v,m),ze(S,"VER",u.la),Ar(u,S),S}function $l(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new Tr({eb:v})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ha(){}n=ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){pt.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new nr(this)}O(Gt,pt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Go(u),u=v);m.i.push(new Cl(m.Ya++,u)),m.G==3&&tr(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Gt.aa.N.call(this)};function ql(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(ql,Xn);function Wl(){Rs.call(this),this.status=1}O(Wl,Rs);function nr(u){this.g=u}O(nr,ha),nr.prototype.ua=function(){mt(this.g,"a")},nr.prototype.ta=function(u){mt(this.g,new ql(u))},nr.prototype.sa=function(u){mt(this.g,new Wl)},nr.prototype.ra=function(){mt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,AE=function(){return new $s},SE=function(){return Li()},TE=Yn,pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Ju=xs,Al.COMPLETE="complete",EE=Al,Is.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ja=Is,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,wE=Xe}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new cE("@firebase/firestore");function ho(){return ds.logLevel}function oe(n,...e){if(ds.logLevel<=Le.DEBUG){const t=e.map(pp);ds.debug(`Firestore (${bo}): ${n}`,...t)}}function Ur(n,...e){if(ds.logLevel<=Le.ERROR){const t=e.map(pp);ds.error(`Firestore (${bo}): ${n}`,...t)}}function Ro(n,...e){if(ds.logLevel<=Le.WARN){const t=e.map(pp);ds.warn(`Firestore (${bo}): ${n}`,...t)}}function pp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function Be(n,e){n||Te()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class RC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new IE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new qt(e)}}class CC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new CC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new kC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=DC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function Po(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ar.isNumericId(e),o=ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class Je extends ar{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ar{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Je.fromString(e))}static fromName(e){return new ve(Je.fromString(e).popFirst(5))}static empty(){return new ve(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Je(e.slice()))}}function MC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new Si(o,ve.empty(),e)}function LC(n){return new Si(n.readTime,n.key,-1)}class Si{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Si(Se.min(),ve.empty(),-1)}static max(){return new Si(Se.max(),ve.empty(),-1)}}function OC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==bC)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,i)=>{t(e)})}static reject(e){return new H((t,i)=>{i(e)})}static waitFor(e){return new H((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=H.resolve(!1);for(const i of e)t=t.next(o=>o?H.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new H((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++f,f===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new H((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function UC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pc.oe=-1;function Cc(n){return n==null}function dc(n){return n===0&&1/n==-1/0}function BC(n){return typeof n=="number"&&Number.isInteger(n)&&!dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=F_(e)),e=zC(n.get(t),e);return F_(e)}function zC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function F_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new _n([])}unionWith(e){let t=new Et(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CE("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(Be(!!n),typeof n=="string"){let e=0;const t=$C.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ii(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function xc(n){const e=n.mapValue.fields.__previous_value__;return mp(e)?xc(e):e}function ll(n){const e=Ai(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,i,o,l,c,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}class ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mp(n)?4:HC(n)?9007199254740991:WC(n)?10:11:Te()}function pr(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ai(o.timestampValue),f=Ai(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ii(o.bytesValue).isEqual(Ii(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ct(o.doubleValue),f=ct(l.doubleValue);return c===f?dc(c)===dc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Po(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(U_(c)!==U_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!pr(c[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function cl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Co(n,e){if(n===e)return 0;const t=Ri(n),i=Ri(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ct(l.integerValue||l.doubleValue),p=ct(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return j_(n.timestampValue,e.timestampValue);case 4:return j_(ll(n),ll(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Ii(l),p=Ii(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=Ve(f[g],p[g]);if(_!==0)return _}return Ve(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ve(ct(l.latitude),ct(c.latitude));return f!==0?f:Ve(ct(l.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return z_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,g,_;const w=l.fields||{},T=c.fields||{},R=(f=w.value)===null||f===void 0?void 0:f.arrayValue,O=(p=T.value)===null||p===void 0?void 0:p.arrayValue,N=Ve(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return N!==0?N:z_(R,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===qu.mapValue&&c===qu.mapValue)return 0;if(l===qu.mapValue)return 1;if(c===qu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=Ve(p[w],_[w]);if(T!==0)return T;const R=Co(f[p[w]],g[_[w]]);if(R!==0)return R}return Ve(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function j_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ai(n),i=Ai(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function z_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Co(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function xo(n){return md(n)}function md(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ai(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ii(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=md(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${md(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function Zu(n){switch(Ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(n);return e?16+Zu(e):16;case 5:return 2*n.stringValue.length;case 6:return Ii(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Zu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return xi(i.fields,(l,c)=>{o+=l.length+Zu(c)}),o}(n.mapValue);default:throw Te()}}function gd(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function $_(n){return!!n&&"nullValue"in n}function q_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ec(n){return!!n&&"mapValue"in n}function WC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qa(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Qa(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){xi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new un(Qa(this.value))}}function xE(n){const e=[];return xi(n.fields,(t,i)=>{const o=new Ot([t]);if(ec(i)){const l=xE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.position=e,this.inclusive=t}}function W_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Co(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function H_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function KC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{}class vt extends kE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new QC(e,t,i):t==="array-contains"?new JC(e,i):t==="in"?new ZC(e,i):t==="not-in"?new ex(e,i):t==="array-contains-any"?new tx(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XC(e,i):new YC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends kE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mr(e,t)}matches(e){return VE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VE(n){return n.op==="and"}function DE(n){return GC(n)&&VE(n)}function GC(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function yd(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+xo(n.value);if(DE(n))return n.filters.map(e=>yd(e)).join(",");{const e=n.filters.map(t=>yd(t)).join(",");return`${n.op}(${e})`}}function NE(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)}(n,e):n instanceof mr?function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&NE(c,o.filters[f]),!0):!1}(n,e):void Te()}function ME(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(ME).join(" ,")+"}"}(n):"Filter"}class QC extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class XC extends vt{constructor(e,t){super(e,"in",t),this.keys=LE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YC extends vt{constructor(e,t){super(e,"not-in",t),this.keys=LE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class JC extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gp(t)&&cl(t.arrayValue,this.value)}}class ZC extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cl(this.value.arrayValue,t)}}class ex extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cl(this.value.arrayValue,t)}}class tx extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function K_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new nx(n,e,t,i,o,l,c)}function yp(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>yd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xo(i)).join(",")),e.ue=t}return e.ue}function _p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H_(n.startAt,e.startAt)&&H_(n.endAt,e.endAt)}function _d(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rx(n,e,t,i,o,l,c,f){return new kc(n,e,t,i,o,l,c,f)}function Vc(n){return new kc(n)}function G_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ix(n){return n.collectionGroup!==null}function Xa(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Et(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new mc(l,i))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new mc(Ot.keyField(),i))}return e.ce}function hr(n){const e=Ie(n);return e.le||(e.le=sx(e,Xa(n))),e.le}function sx(n,e){if(n.limitType==="F")return K_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new mc(o.field,l)});const t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return K_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vd(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dc(n,e){return _p(hr(n),hr(e))&&n.limitType===e.limitType}function OE(n){return`${yp(hr(n))}|lt:${n.limitType}`}function fo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>ME(o)).join(", ")}]`),Cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${i})`}(hr(n))}; limitType=${n.limitType})`}function Nc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Xa(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const g=W_(c,f,p);return c.inclusive?g<=0:g<0}(i.startAt,Xa(i),o)||i.endAt&&!function(c,f,p){const g=W_(c,f,p);return c.inclusive?g>=0:g>0}(i.endAt,Xa(i),o))}(n,e)}function ox(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bE(n){return(e,t)=>{let i=!1;for(const o of Xa(n)){const l=ax(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function ax(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Co(p,g):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new nt(ve.comparator);function Br(){return lx}const FE=new nt(ve.comparator);function za(...n){let e=FE;for(const t of n)e=e.insert(t.key,t);return e}function UE(n){let e=FE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function cs(){return Ya()}function BE(){return Ya()}function Ya(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const ux=new nt(ve.comparator),cx=new Et(ve.comparator);function xe(...n){let e=cx;for(const t of n)e=e.add(t);return e}const hx=new Et(Ve);function fx(){return hx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function jE(n){return{integerValue:""+n}}function dx(n,e){return BC(e)?jE(e):vp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function px(n,e,t){return n instanceof hl?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&mp(l)&&(l=xc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof ko?$E(n,e):n instanceof fl?qE(n,e):function(o,l){const c=zE(o,l),f=Q_(c)+Q_(o.Pe);return gd(c)&&gd(o.Pe)?jE(f):vp(o.serializer,f)}(n,e)}function mx(n,e,t){return n instanceof ko?$E(n,e):n instanceof fl?qE(n,e):t}function zE(n,e){return n instanceof gc?function(i){return gd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class hl extends Mc{}class ko extends Mc{constructor(e){super(),this.elements=e}}function $E(n,e){const t=WE(e);for(const i of n.elements)t.some(o=>pr(o,i))||t.push(i);return{arrayValue:{values:t}}}class fl extends Mc{constructor(e){super(),this.elements=e}}function qE(n,e){let t=WE(e);for(const i of n.elements)t=t.filter(o=>!pr(o,i));return{arrayValue:{values:t}}}class gc extends Mc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Q_(n){return ct(n.integerValue||n.doubleValue)}function WE(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t){this.field=e,this.transform=t}}function gx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ko&&o instanceof ko||i instanceof fl&&o instanceof fl?Po(i.elements,o.elements,pr):i instanceof gc&&o instanceof gc?pr(i.Pe,o.Pe):i instanceof hl&&o instanceof hl}(n.transform,e.transform)}class yx{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lc{}function KE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new QE(n.key,fr.none()):new yl(n.key,n.data,fr.none());{const t=n.data,i=un.empty();let o=new Et(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ki(n.key,i,new _n(o.toArray()),fr.none())}}function _x(n,e,t){n instanceof yl?function(o,l,c){const f=o.value.clone(),p=Y_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(o,l,c){if(!tc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Y_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(GE(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ja(n,e,t,i){return n instanceof yl?function(l,c,f,p){if(!tc(l.precondition,c))return f;const g=l.value.clone(),_=J_(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ki?function(l,c,f,p){if(!tc(l.precondition,c))return f;const g=J_(l.fieldTransforms,p,c),_=c.data;return _.setAll(GE(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,f){return tc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function vx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=zE(i.transform,o||null);l!=null&&(t===null&&(t=un.empty()),t.set(i.field,l))}return t||null}function X_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Po(i,o,(l,c)=>gx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yl extends Lc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends Lc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Y_(n,e,t){const i=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,mx(c,f,t[o]))}return i}function J_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,px(l,c,e))}return i}class QE extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wx extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_x(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=BE();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=KE(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(t,i)=>X_(t,i))&&Po(this.baseMutations,e.baseMutations,(t,i)=>X_(t,i))}}class wp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length);let o=function(){return ux}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new wp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function Ax(n){switch(n){default:return Te();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function XE(n){if(n===void 0)return Ur("GRPC error has no .code"),Y.UNKNOWN;switch(n){case dt.OK:return Y.OK;case dt.CANCELLED:return Y.CANCELLED;case dt.UNKNOWN:return Y.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Y.INTERNAL;case dt.UNAVAILABLE:return Y.UNAVAILABLE;case dt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case dt.NOT_FOUND:return Y.NOT_FOUND;case dt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case dt.ABORTED:return Y.ABORTED;case dt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case dt.DATA_LOSS:return Y.DATA_LOSS;default:return Te()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new _i([4294967295,4294967295],0);function Z_(n){const e=Ix().encode(n),t=new vE;return t.update(e),new Uint8Array(t.digest())}function ev(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _i([t,i],0),new _i([o,l],0)]}class Ep{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(i<0)throw new $a(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=_i.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(_i.fromNumber(i)));return o.compare(Rx)===1&&(o=new _i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Z_(e),[i,o]=ev(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ep(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=Z_(e),[i,o]=ev(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Oc(Se.min(),o,new nt(Ve),Br(),xe())}}class _l{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _l(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class YE{constructor(e,t){this.targetId=e,this.me=t}}class JE{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class tv{constructor(){this.fe=0,this.ge=nv(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new _l(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=nv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Px{constructor(e){this.Be=e,this.Le=new Map,this.ke=Br(),this.qe=Wu(),this.Qe=Wu(),this.Ke=new nt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(_d(l))if(i===0){const c=new ve(l.path);this.We(t,c,Wt.newNoDocument(c,Se.min()))}else Be(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),p=f?this.et(f,e,c):1;if(p!==0){this.He(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Ii(i).toUint8Array()}catch(p){if(p instanceof CE)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ep(c,o,l)}catch(p){return Ro(p instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Be.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&_d(f.target)){const p=new ve(f.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Wt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const g=this.Ye(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Oc(e,t,this.Ke,this.ke,i);return this.ke=Br(),this.qe=Wu(),this.Qe=Wu(),this.Ke=new nt(Ve),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new tv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new tv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Wu(){return new nt(ve.comparator)}function nv(){return new nt(ve.comparator)}const Cx={asc:"ASCENDING",desc:"DESCENDING"},xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kx={and:"AND",or:"OR"};class Vx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wd(n,e){return n.useProto3Json||Cc(e)?e:{value:e}}function yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dx(n,e){return yc(n,e.toTimestamp())}function dr(n){return Be(!!n),Se.fromTimestamp(function(t){const i=Ai(t);return new wt(i.seconds,i.nanos)}(n))}function Tp(n,e){return Ed(n,e).canonicalString()}function Ed(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eT(n){const e=Je.fromString(n);return Be(sT(e)),e}function Td(n,e){return Tp(n.databaseId,e.path)}function Uf(n,e){const t=eT(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(nT(t))}function tT(n,e){return Tp(n.databaseId,e)}function Nx(n){const e=eT(n);return e.length===4?Je.emptyPath():nT(e)}function Sd(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nT(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rv(n,e,t){return{name:Td(n,e),fields:t.value.mapValue.fields}}function Mx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string"),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const _=g.code===void 0?Y.UNKNOWN:XE(g.code);return new ge(_,g.message||"")}(c);t=new JE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Uf(n,i.document.name),l=dr(i.document.updateTime),c=i.document.createTime?dr(i.document.createTime):Se.min(),f=new un({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,c,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new nc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Uf(n,i.document),l=i.readTime?dr(i.readTime):Se.min(),c=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new nc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Uf(n,i.document),l=i.removedTargetIds||[];t=new nc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new Sx(o,l),f=i.targetId;t=new YE(f,c)}}return t}function Lx(n,e){let t;if(e instanceof yl)t={update:rv(n,e.key,e.value)};else if(e instanceof QE)t={delete:Td(n,e.key)};else if(e instanceof ki)t={update:rv(n,e.key,e.data),updateMask:qx(e.fieldMask)};else{if(!(e instanceof wx))return Te();t={verify:Td(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof hl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ko)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof fl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Dx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function Ox(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?dr(o.updateTime):dr(l);return c.isEqual(Se.min())&&(c=dr(l)),new yx(c,o.transformResults||[])}(t,e))):[]}function bx(n,e){return{documents:[tT(n,e.path)]}}function Fx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tT(n,o);const l=function(g){if(g.length!==0)return iT(mr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:po(T.field),direction:jx(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=wd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function Ux(n){let e=Nx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=rT(w);return T instanceof mr&&DE(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(O){return new mc(mo(O.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Cc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,R=w.values||[];return new pc(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,R=w.values||[];return new pc(R,T)}(t.endAt)),rx(e,o,c,l,f,"F",p,g)}function Bx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=mo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(i=>rT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function jx(n){return Cx[n]}function zx(n){return xx[n]}function $x(n){return kx[n]}function po(n){return{fieldPath:n.canonicalString()}}function mo(n){return Ot.fromServerFormat(n.fieldPath)}function iT(n){return n instanceof vt?function(t){if(t.op==="=="){if(q_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if($_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if($_(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:zx(t.op),value:t.value}}}(n):n instanceof mr?function(t){const i=t.getFilters().map(o=>iT(o));return i.length===1?i[0]:{compositeFilter:{op:$x(t.op),filters:i}}}(n):Te()}function qx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.ht=e}}function Hx(n){const e=Ux({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.ln=new Gx}addToCollectionParentIndex(e,t){return this.ln.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Si.min())}updateCollectionGroup(e,t,i){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class Gx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Vo(0)}static Qn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class Qx{constructor(e){this.Gn=e,this.buffer=new Et(sv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.Yn(3e5)})}}class Yx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Pc.oe);const i=new Qx(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(iv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),ho()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Jx(n,e){return new Yx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?H.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ja(i.mutation,o,_n.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=cs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=za();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=cs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=Br();const c=Ya(),f=function(){return Ya()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ki)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Ja(_.mutation,g,_.mutation.getFieldMask(),wt.now())):c.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var w;return f.set(g,new ek(_,(w=c.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ya();let o=new nt((c,f)=>c-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||_n.empty();_=f.applyToLocalView(g,_),i.set(p,_);const w=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,w=BE();_.forEach(T=>{if(!l.has(T)){const R=KE(t.get(T),i.get(T));R!==null&&w.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return H.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ix(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):H.resolve(cs());let f=-1,p=l;return c.next(g=>H.forEach(g,(_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(_)?H.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,xe())).next(_=>({batchId:f,changes:UE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=za();return this.indexManager.getCollectionParents(e,l).next(f=>H.forEach(f,p=>{const g=function(w,T){return new kc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Wt.newInvalidDocument(_)))});let f=za();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Ja(_.mutation,g,_n.empty(),wt.now()),Nc(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return H.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Hx(o.bundledQuery),readTime:dr(o.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.overlays=new nt(ve.comparator),this.dr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const i=cs();return H.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),H.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),H.resolve()}getOverlaysForCollection(e,t,i){const o=cs(),l=t.length+1,c=new ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=cs(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=cs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=o)););return H.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Tx(t,i));let l=this.dr.get(t);l===void 0&&(l=xe(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Er=new Et(Pt.Ar),this.Rr=new Et(Pt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Pt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ex(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(c)}lookupMutationBatch(e,t){return H.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);l.push(f)}),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Ve);return t.forEach(o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{i=i.add(f.br)})}),H.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new ve(l),0);let f=new Et(Ve);return this.vr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.br)),!0)},c),H.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return H.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.Nr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return H.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),H.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Br();const c=t.path,f=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OC(LC(_),i)<=0||(o.has(_.key)||Nc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Br(e,t){return H.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ak(this)}getSize(e){return H.resolve(this.size)}}class ak extends Zx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),H.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.persistence=e,this.Lr=new ys(t=>yp(t),_p),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new Sp,this.targetCount=0,this.Qr=Vo.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),H.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Un(t),H.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Lr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),H.waitFor(l).next(()=>o)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return H.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),H.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return H.resolve(i)}containsKey(e,t){return H.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Pc(0),this.Ur=!1,this.Ur=!0,this.Wr=new ik,this.referenceDelegate=e(this),this.Gr=new lk(this),this.indexManager=new Kx,this.remoteDocumentCache=function(o){return new ok(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Wx(t),this.jr=new nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new sk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new uk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return H.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class uk extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Zr=new Sp,this.Xr=null}static ei(e){return new Ap(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),H.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),H.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return H.or([()=>H.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class _c{constructor(e,t){this.persistence=e,this.ri=new ys(i=>jC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Jx(this,t)}static ei(e,t){return new _c(e,t)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return H.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?H.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),H.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}ir(e,t,i){return H.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return H.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ip(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return fP()?8:UC(cP())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ck;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(ho()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(ho()<=Le.DEBUG&&oe("QueryEngine","Query:",fo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(ho()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):H.resolve())}Xi(e,t){if(G_(t))return H.resolve(null);let i=hr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vd(t,null,"F"),i=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=xe(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.rs(t,f);return this.ss(t,g,c,p.readTime)?this.Xi(e,vd(t,null,"F")):this.os(e,g,t,p)}))})))}es(e,t,i,o){return G_(t)||o.isEqual(Se.min())?H.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?H.resolve(null):(ho()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.os(e,c,t,MC(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(bE(e));return t.forEach((o,l)=>{Nc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return ho()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",fo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Si.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ve),this.cs=new ys(l=>yp(l),_p),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function dk(n,e,t,i){return new fk(n,e,t,i)}async function aT(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=xe();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ts:g,removedBatchIds:c,addedBatchIds:f}))})})}function pk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,_){const w=g.batch,T=w.keys();let R=H.resolve();return T.forEach(O=>{R=R.next(()=>_.getEntry(p,O)).next(N=>{const D=g.docVersions.get(O);Be(D!==null),N.version.compareTo(D)<0&&(w.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),_.addEntry(N)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function lT(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function mk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,w)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(w,R),function(N,D,q){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,R,_)&&f.push(t.Gr.updateTargetData(l,R))});let p=Br(),g=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(gk(l,c,e.documentUpdates).next(_=>{p=_.Is,g=_.ds})),!i.isEqual(Se.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return H.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.us=o,l))}function gk(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Br();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Is:c,ds:o}})}function yk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _k(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,H.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new pi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Ad(n,e,t){const i=Ie(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Uo(c))throw c;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function ov(n,e,t){const i=Ie(n);let o=Se.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const w=Ie(p),T=w.cs.get(_);return T!==void 0?H.resolve(w.us.get(T)):w.Gr.getTargetData(g,_)}(i,c,hr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:xe())).next(f=>(vk(i,ox(e),f),{documents:f,Es:l})))}function vk(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class av{constructor(){this.activeTargetIds=fx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wk{constructor(){this._o=new av,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new av,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Bf(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Ak extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const f=Bf(),p=this.No(t,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,l,c),this.Lo(t,p,g,o).then(_=>(oe("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw Ro("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,c,f){return this.Oo(t,i,o,l,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=Tk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const l=Bf();return new Promise((c,f)=>{const p=new wE;p.setWithCredentials(!0),p.listenOnce(EE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const _=p.getResponseJson();oe(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Ju.TIMEOUT:oe(zt,`RPC '${e}' ${l} timed out`),f(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const w=p.getStatus();if(oe(zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const O=function(D){const q=D.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(q)>=0?q:Y.UNKNOWN}(R.status);f(new ge(O,R.message))}else f(new ge(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);oe(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,i,15)})}qo(e,t,i){const o=Bf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AE(),f=SE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");oe(zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);let T=!1,R=!1;const O=new Sk({Eo:D=>{R?oe(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(T||(oe(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),oe(zt,`RPC '${e}' stream ${o} sending:`,D),w.send(D))},Ao:()=>w.close()}),N=(D,q,W)=>{D.listen(q,G=>{try{W(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return N(w,ja.EventType.OPEN,()=>{R||(oe(zt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),N(w,ja.EventType.CLOSE,()=>{R||(R=!0,oe(zt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),N(w,ja.EventType.ERROR,D=>{R||(R=!0,Ro(zt,`RPC '${e}' stream ${o} transport errored:`,D),O.Do(new ge(Y.UNAVAILABLE,"The operation could not be completed")))}),N(w,ja.EventType.MESSAGE,D=>{var q;if(!R){const W=D.data[0];Be(!!W);const G=W,ne=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(ne){oe(zt,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let ae=function(P){const V=dt[P];if(V!==void 0)return XE(V)}(re),x=ne.message;ae===void 0&&(ae=Y.INTERNAL,x="Unknown error status: "+re+" with message "+ne.message),R=!0,O.Do(new ge(ae,x)),w.close()}else oe(zt,`RPC '${e}' stream ${o} received:`,W),O.vo(W)}}),N(f,TE.STAT_EVENT,D=>{D.stat===pd.PROXY?oe(zt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===pd.NOPROXY&&oe(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){return new Vx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,i,o,l,c,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new uT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ik extends cT{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Mx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?dr(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Sd(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=_d(p)?{documents:bx(l,p)}:{query:Fx(l,p).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=ZE(l,c.resumeToken);const g=wd(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=yc(l,c.snapshotVersion.toTimestamp());const g=wd(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=Bx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Sd(this.serializer),t.removeTarget=e,this.c_(t)}}class Rk extends cT{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ox(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Sd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Lx(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Ed(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,Ed(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Y.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{_s(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.k_.add(4),await vl(g),g.K_.set("Unknown"),g.k_.delete(4),await Fc(g)}(this))})}),this.K_=new Ck(i,o)}}async function Fc(n){if(_s(n))for(const e of n.q_)await e(!0)}async function vl(n){for(const e of n.q_)await e(!1)}function hT(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),xp(t)?Cp(t):Bo(t).s_()&&Pp(t,e))}function Rp(n,e){const t=Ie(n),i=Bo(t);t.L_.delete(e),i.s_()&&fT(t,e),t.L_.size===0&&(i.s_()?i.a_():_s(t)&&t.K_.set("Unknown"))}function Pp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(n).V_(e)}function fT(n,e){n.U_.xe(e),Bo(n).m_(e)}function Cp(n){n.U_=new Px({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Bo(n).start(),n.K_.F_()}function xp(n){return _s(n)&&!Bo(n).i_()&&n.L_.size>0}function _s(n){return Ie(n).k_.size===0}function dT(n){n.U_=void 0}async function kk(n){n.K_.set("Online")}async function Vk(n){n.L_.forEach((e,t)=>{Pp(n,e)})}async function Dk(n,e){dT(n),xp(n)?(n.K_.O_(e),Cp(n)):n.K_.set("Unknown")}async function Nk(n,e,t){if(n.K_.set("Online"),e instanceof JE&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.L_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.L_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vc(n,i)}else if(e instanceof nc?n.U_.$e(e):e instanceof YE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await lT(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(g);_&&l.L_.set(g,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),fT(l,p);const w=new pi(_.target,p,g,_.sequenceNumber);Pp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await vc(n,i)}}async function vc(n,e,t){if(!Uo(e))throw e;n.k_.add(1),await vl(n),n.K_.set("Offline"),t||(t=()=>lT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Fc(n)})}function pT(n,e){return e().catch(t=>vc(n,t,e))}async function Uc(n){const e=Ie(n),t=Pi(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Mk(e);)try{const o=await yk(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,Lk(e,o)}catch(o){await vc(e,o)}mT(e)&&gT(e)}function Mk(n){return _s(n)&&n.B_.length<10}function Lk(n,e){n.B_.push(e);const t=Pi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function mT(n){return _s(n)&&!Pi(n).i_()&&n.B_.length>0}function gT(n){Pi(n).start()}async function Ok(n){Pi(n).w_()}async function bk(n){const e=Pi(n);for(const t of n.B_)e.g_(t.mutations)}async function Fk(n,e,t){const i=n.B_.shift(),o=wp.from(i,e,t);await pT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Uc(n)}async function Uk(n,e){e&&Pi(n).f_&&await async function(i,o){if(function(c){return Ax(c)&&c!==Y.ABORTED}(o.code)){const l=i.B_.shift();Pi(i).__(),await pT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Uc(i)}}(n,e),mT(n)&&gT(n)}async function uv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=_s(t);t.k_.add(3),await vl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Fc(t)}async function Bk(n,e){const t=Ie(n);e?(t.k_.delete(2),await Fc(t)):e||(t.k_.add(2),await vl(t),t.K_.set("Unknown"))}function Bo(n){return n.W_||(n.W_=function(t,i,o){const l=Ie(t);return l.b_(),new Ik(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:kk.bind(null,n),mo:Vk.bind(null,n),po:Dk.bind(null,n),R_:Nk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),xp(n)?Cp(n):n.K_.set("Unknown")):(await n.W_.stop(),dT(n))})),n.W_}function Pi(n){return n.G_||(n.G_=function(t,i,o){const l=Ie(t);return l.b_(),new Rk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ok.bind(null,n),po:Uk.bind(null,n),p_:bk.bind(null,n),y_:Fk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Uc(n)):(await n.G_.stop(),n.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new kp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Uo(n))return new ge(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=za(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.z_=new nt(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Do{constructor(e,t,i,o,l,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Do(e,t,Eo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class zk{constructor(){this.queries=hv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=hv(),l.forEach((c,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function hv(){return new ys(n=>OE(n),Dc)}async function yT(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new jk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Vp(c,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Dp(t)}async function _T(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $k(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&Dp(t)}function qk(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Dp(n){n.X_.forEach(e=>{e.next()})}var Id,fv;(fv=Id||(Id={})).na="default",fv.Cache="cache";class vT{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class Wk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=bE(e),this.ma=new Eo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new cv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),R=Nc(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),N=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;T&&R?T.data.isEqual(R.data)?O!==N&&(i.track({type:3,doc:R}),D=!0):this.ya(T,R)||(i.track({type:2,doc:R}),D=!0,(p&&this.Va(R,p)>0||g&&this.Va(R,g)<0)&&(f=!0)):!T&&R?(i.track({type:0,doc:R}),D=!0):T&&!R&&(i.track({type:1,doc:T}),D=!0,(p||g)&&(f=!0)),D&&(R?(c=c.add(R),l=N?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,w)=>function(R,O){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return N(R)-N(O)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,g=p!==this.Aa;return this.Aa=p,c.length!==0||g?{snapshot:new Do(this.query,e.ma,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new ET(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new wT(i))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Do.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Hk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Kk{constructor(e){this.key=e,this.Fa=!1}}class Gk{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ys(f=>OE(f),Dc),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ve.comparator),this.La=new Map,this.ka=new Sp,this.qa={},this.Qa=new Map,this.Ka=Vo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Qk(n,e,t=!0){const i=PT(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await TT(i,e,t,!0),o}async function Xk(n,e){const t=PT(n);await TT(t,e,!0,!1)}async function TT(n,e,t,i){const o=await _k(n.localStore,hr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Yk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&hT(n.remoteStore,o),f}async function Yk(n,e,t,i,o){n.Ua=(w,T,R)=>async function(N,D,q,W){let G=D.view.ga(q);G.ss&&(G=await ov(N.localStore,D.query,!1).then(({documents:x})=>D.view.ga(x,G)));const ne=W&&W.targetChanges.get(D.targetId),re=W&&W.targetMismatches.get(D.targetId)!=null,ae=D.view.applyChanges(G,N.isPrimaryClient,ne,re);return pv(N,D.targetId,ae.ba),ae.snapshot}(n,w,T,R);const l=await ov(n.localStore,e,!0),c=new Wk(e,l.Es),f=c.ga(l.documents),p=_l.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(f,n.isPrimaryClient,p);pv(n,t,g.ba);const _=new Hk(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function Jk(n,e,t){const i=Ie(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Dc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Rp(i.remoteStore,o.targetId),Rd(i,o.targetId)}).catch(Fo)):(Rd(i,o.targetId),await Ad(i.localStore,o.targetId,!0))}async function Zk(n,e){const t=Ie(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Rp(t.remoteStore,i.targetId))}async function eV(n,e,t){const i=aV(n);try{const o=await function(c,f){const p=Ie(c),g=wt.now(),_=f.reduce((R,O)=>R.add(O.key),xe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=Br(),N=xe();return p.hs.getEntries(R,_).next(D=>{O=D,O.forEach((q,W)=>{W.isValidDocument()||(N=N.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,O)).next(D=>{w=D;const q=[];for(const W of f){const G=vx(W,w.get(W.key).overlayedDocument);G!=null&&q.push(new ki(W.key,G,xE(G.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,q,f)}).next(D=>{T=D;const q=D.applyToLocalDocumentSet(w,N);return p.documentOverlayCache.saveOverlays(R,D.batchId,q)})}).then(()=>({batchId:T.batchId,changes:UE(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let g=c.qa[c.currentUser.toKey()];g||(g=new nt(Ve)),g=g.insert(f,p),c.qa[c.currentUser.toKey()]=g}(i,o.batchId,t),await wl(i,o.changes),await Uc(i.remoteStore)}catch(o){const l=Vp(o,"Failed to persist write");t.reject(l)}}async function ST(n,e){const t=Ie(n);try{const i=await mk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.La.get(l);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Be(c.Fa):o.removedDocuments.size>0&&(Be(c.Fa),c.Fa=!1))}),await wl(t,i,e)}catch(i){await Fo(i)}}function dv(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Ie(c);p.onlineState=f;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(f)&&(g=!0)}),g&&Dp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tV(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),l=o&&o.key;if(l){let c=new nt(ve.comparator);c=c.insert(l,Wt.newNoDocument(l,Se.min()));const f=xe().add(l),p=new Oc(Se.min(),new Map,new nt(Ve),c,f);await ST(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),Np(i)}else await Ad(i.localStore,e,!1).then(()=>Rd(i,e,t)).catch(Fo)}async function nV(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await pk(t.localStore,e);IT(t,i,null),AT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await wl(t,o)}catch(o){await Fo(o)}}async function rV(n,e,t){const i=Ie(n);try{const o=await function(c,f){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next(w=>(Be(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);IT(i,e,t),AT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await wl(i,o)}catch(o){await Fo(o)}}function AT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function IT(n,e,t){const i=Ie(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Rd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||RT(n,i)})}function RT(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Rp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Np(n))}function pv(n,e,t){for(const i of t)i instanceof wT?(n.ka.addReference(i.key,e),iV(n,i)):i instanceof ET?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||RT(n,i.key)):Te()}function iV(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(oe("SyncEngine","New document in limbo: "+t),n.Na.add(i),Np(n))}function Np(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(Je.fromString(e)),i=n.Ka.next();n.La.set(i,new Kk(t)),n.Ba=n.Ba.insert(t,i),hT(n.remoteStore,new pi(hr(Vc(t.path)),i,"TargetPurposeLimboResolution",Pc.oe))}}async function wl(n,e,t){const i=Ie(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{c.push(i.Ua(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Ip.zi(p.targetId,g);l.push(w)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>H.forEach(g,T=>H.forEach(T.Wi,R=>_.persistence.referenceDelegate.addReference(w,T.targetId,R)).next(()=>H.forEach(T.Gi,R=>_.persistence.referenceDelegate.removeReference(w,T.targetId,R)))))}catch(w){if(!Uo(w))throw w;oe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const R=_.us.get(T),O=R.snapshotVersion,N=R.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(T,N)}}}(i.localStore,l))}async function sV(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await aT(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ge(Y.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wl(t,i.Ts)}}function oV(n,e){const t=Ie(n),i=t.La.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function PT(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tV.bind(null,e),e.Ma.R_=$k.bind(null,e.eventManager),e.Ma.Wa=qk.bind(null,e.eventManager),e}function aV(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rV.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return dk(this.persistence,new hk,e.initialUser,this.serializer)}ja(e){return new oT(Ap.ei,this.serializer)}za(e){return new wk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class lV extends wc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof _c);const i=this.persistence.referenceDelegate.garbageCollector;return new Xx(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new oT(i=>_c.ei(i,t),this.serializer)}}class Pd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sV.bind(null,this.syncEngine),await Bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zk}()}createDatastore(e){const t=bc(e.databaseInfo.databaseId),i=function(l){return new Ak(l)}(e.databaseInfo);return function(l,c,f,p){return new Pk(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new xk(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>dv(this.syncEngine,t,0),function(){return lv.p()?new lv:new Ek}())}createSyncEngine(e,t){return function(o,l,c,f,p,g,_){const w=new Gk(o,l,c,f,p,g);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);oe("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await vl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pd.provider={build:()=>new Pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=RE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{oe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(oe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zf(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await aT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cV(n);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>uv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>uv(e.remoteStore,o)),n._onlineComponents=e}async function cV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await zf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await zf(n,new wc)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await zf(n,new lV(void 0));return n._offlineComponents}async function xT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await mv(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await mv(n,new Pd))),n._onlineComponents}function hV(n){return xT(n).then(e=>e.syncEngine)}async function Cd(n){const e=await xT(n),t=e.eventManager;return t.onListen=Qk.bind(null,e.syncEngine),t.onUnlisten=Jk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Xk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Zk.bind(null,e.syncEngine),t}function fV(n,e,t={}){const i=new vi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,g){const _=new CT({next:T=>{_.eu(),c.enqueueAndForget(()=>_T(l,w));const R=T.docs.has(f);!R&&T.fromCache?g.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?g.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new vT(Vc(f.path),_,{includeMetadataChanges:!0,ua:!0});return yT(l,w)}(await Cd(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dV(n,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yv(n){if(!ve.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _v(n){if(ve.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mp(n);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IC;switch(i.type){case"firstParty":return new xC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=gv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),gv.delete(t),i.terminate())}(this),Promise.resolve()}}function pV(n,e,t,i={}){var o;const l=(n=Or(n,Bc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=lE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(g)}n._authCredentials=new RC(new IE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class wi extends jc{constructor(e,t,i){super(e,t,Vc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ve(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function mV(n,e,...t){if(n=En(n),VT("collection","path",e),n instanceof Bc){const i=Je.fromString(e,...t);return _v(i),new wi(n,null,i)}{if(!(n instanceof cn||n instanceof wi))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return _v(i),new wi(n.firestore,null,i)}}function Lp(n,e,...t){if(n=En(n),arguments.length===1&&(e=RE.newId()),VT("doc","path",e),n instanceof Bc){const i=Je.fromString(e,...t);return yv(i),new cn(n,null,new ve(i))}{if(!(n instanceof cn||n instanceof wi))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return yv(i),new cn(n.firestore,n instanceof wi?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new uT(this,"async_queue_retry"),this.fu=()=>{const i=jf();i&&oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=jf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=jf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new vi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Uo(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=kp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function Ev(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class No extends Bc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new wv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function gV(n,e){const t=typeof n=="object"?n:gE(),i=typeof n=="string"?n:"(default)",o=dE(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=oE("firestore");l&&pV(o,...l)}return o}function Op(n){if(n._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yV(n),n._firestoreClient}function yV(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,g,_){return new qC(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,kT(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new uV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(bt.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=/^__.*__$/;class vV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class DT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class $c{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new $c(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ec(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(NT(this.Mu)&&_V.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class wV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||bc(e)}$u(e,t,i,o=!1){return new $c({Mu:e,methodName:t,Ku:i,path:Ot.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(n){const e=n._freezeSettings(),t=bc(n._databaseId);return new wV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EV(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);jp("Data must be an object, but it was:",c,i);const f=LT(i,c);let p,g;if(l.merge)p=new _n(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=xd(e,w,t);if(!c.contains(T))throw new ge(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bT(_,T)||_.push(T)}p=new _n(_),g=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=c.fieldTransforms;return new vV(new un(f),p,g)}class qc extends El{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function TV(n,e,t){return new $c({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Up extends El{_toFieldTransform(e){return new HE(e.path,new hl)}isEqual(e){return e instanceof Up}}class Bp extends El{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=TV(this,e,!0),i=this.Uu.map(l=>Tl(l,t)),o=new ko(i);return new HE(e.path,o)}isEqual(e){return e instanceof Bp&&hc(this.Uu,e.Uu)}}function SV(n,e,t,i){const o=n.$u(1,e,t);jp("Data must be an object, but it was:",o,i);const l=[],c=un.empty();xi(i,(p,g)=>{const _=zp(e,p,t);g=En(g);const w=o.Lu(_);if(g instanceof qc)l.push(_);else{const T=Tl(g,w);T!=null&&(l.push(_),c.set(_,T))}});const f=new _n(l);return new DT(c,f,o.fieldTransforms)}function AV(n,e,t,i,o,l){const c=n.$u(1,e,t),f=[xd(e,i,t)],p=[o];if(l.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(xd(e,l[T])),p.push(l[T+1]);const g=[],_=un.empty();for(let T=f.length-1;T>=0;--T)if(!bT(g,f[T])){const R=f[T];let O=p[T];O=En(O);const N=c.Lu(R);if(O instanceof qc)g.push(R);else{const D=Tl(O,N);D!=null&&(g.push(R),_.set(R,D))}}const w=new _n(g);return new DT(_,w,c.fieldTransforms)}function Tl(n,e){if(OT(n=En(n)))return jp("Unsupported field value:",e,n),LT(n,e);if(n instanceof El)return function(i,o){if(!NT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=Tl(f,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=En(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:yc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yc(o.serializer,l)}}if(i instanceof bp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:ZE(o.serializer,i._byteString)};if(i instanceof cn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Fp)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return vp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Mp(i)}`)}(n,e)}function LT(n,e){const t={};return PE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,(i,o)=>{const l=Tl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function OT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof bp||n instanceof Mo||n instanceof cn||n instanceof El||n instanceof Fp)}function jp(n,e,t){if(!OT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Mp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function xd(n,e,t){if((e=En(e))instanceof zc)return e._internalPath;if(typeof e=="string")return zp(n,e);throw Ec("Field path arguments must be of type string or ",n,!1,void 0,t)}const IV=new RegExp("[~\\*/\\[\\]]");function zp(n,e,t){if(e.search(IV)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ec(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(Y.INVALID_ARGUMENT,f+n+p)}function bT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RV extends FT{data(){return super.data()}}function UT(n,e){return typeof e=="string"?zp(n,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CV{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new Fp(l)}convertGeoPoint(e){return new bp(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);Be(sT(i));const o=new ul(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends FT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(UT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rc extends BT{data(e={}){return super.data(e)}}class kV{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rc(this._firestore,this._userDataWriter,i.key,i,new qa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:VV(f.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(n){n=Or(n,cn);const e=Or(n.firestore,No);return fV(Op(e),n._key).then(t=>qT(e,n,t))}class jT extends CV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function zT(n,e,t,...i){n=Or(n,cn);const o=Or(n.firestore,No),l=MT(o);let c;return c=typeof(e=En(e))=="string"||e instanceof zc?AV(l,"updateDoc",n._key,e,t,i):SV(l,"updateDoc",n._key,e),$T(o,[c.toMutation(n._key,fr.exists(!0))])}function NV(n,e){const t=Or(n.firestore,No),i=Lp(n),o=xV(n.converter,e);return $T(t,[EV(MT(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,fr.exists(!1))]).then(()=>i)}function MV(n,...e){var t,i,o;n=En(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Ev(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Ev(e[c])){const w=e[c];e[c]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(n instanceof cn)g=Or(n.firestore,No),_=Vc(n._key.path),p={next:w=>{e[c]&&e[c](qT(g,n,w))},error:e[c+1],complete:e[c+2]};else{const w=Or(n,jc);g=Or(w.firestore,No),_=w._query;const T=new jT(g);p={next:R=>{e[c]&&e[c](new kV(g,T,w,R))},error:e[c+1],complete:e[c+2]},PV(n._query)}return function(T,R,O,N){const D=new CT(N),q=new vT(R,D,O);return T.asyncQueue.enqueueAndForget(async()=>yT(await Cd(T),q)),()=>{D.eu(),T.asyncQueue.enqueueAndForget(async()=>_T(await Cd(T),q))}}(Op(g),_,f,p)}function $T(n,e){return function(i,o){const l=new vi;return i.asyncQueue.enqueueAndForget(async()=>eV(await hV(i),o,l)),l.promise}(Op(n),e)}function qT(n,e,t){const i=t.docs.get(e._key),o=new jT(n);return new BT(n,o,e._key,i,new qa(t.hasPendingWrites,t.fromCache),e.converter)}function $p(){return new Up("serverTimestamp")}function LV(...n){return new Bp("arrayUnion",n)}(function(e,t=!0){(function(o){bo=o})(pE),ol(new Io("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new No(new PC(i.getProvider("auth-internal")),new VC(i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(g.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),yi(b_,"4.7.6",e),yi(b_,"4.7.6","esm2017")})();function WT({onSubmit:n}){const[e,t]=de.useState(""),[i,o]=de.useState(""),[l,c]=de.useState(""),f=async()=>{if(e.trim()){const p=i.trim()?i:"An0n",g={text:e,username:p,country:l,createdAt:$p(),replies:[]};try{await n(g),t(""),o(""),c("")}catch(_){console.error("Error submitting comment:",_)}}};return fe.jsxs("div",{className:"mt-4",children:[fe.jsx(rE,{username:i,setUsername:o,country:l,setCountry:c}),fe.jsx(Cv,{placeholder:"Write a comment...",value:e,onChange:p=>t(p.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),fe.jsx(Pv,{onClick:f,className:"w-full bg-purple-600 hover:bg-purple-500",children:"Submit"})]})}var OV="firebase",bV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(OV,bV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebasestorage.googleapis.com",KT="storageBucket",FV=2*60*1e3,UV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends gs{constructor(e,t,i=0){super($f(e),`Firebase Storage: ${t} (${$f(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function $f(n){return"storage/"+n}function qp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(st.UNKNOWN,n)}function BV(n){return new ot(st.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function jV(n){return new ot(st.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(st.UNAUTHENTICATED,n)}function $V(){return new ot(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qV(n){return new ot(st.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function WV(){return new ot(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HV(){return new ot(st.CANCELED,"User canceled the upload/download.")}function KV(n){return new ot(st.INVALID_URL,"Invalid URL '"+n+"'.")}function GV(n){return new ot(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function QV(){return new ot(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KT+"' property when initializing the app?")}function XV(){return new ot(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YV(){return new ot(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JV(n){return new ot(st.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kd(n){return new ot(st.INVALID_ARGUMENT,n)}function GT(){return new ot(st.APP_DELETED,"The Firebase app was deleted.")}function ZV(n){return new ot(st.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Za(n,e){return new ot(st.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ba(n){throw new ot(st.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vn.makeFromUrl(e,t)}catch{return new vn(e,"")}if(i.path==="")return i;throw GV(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${_}/b/${o}/o${T}`,"i"),O={bucket:1,path:3},N=t===HT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",q=new RegExp(`^https?://${N}/${o}/${D}`,"i"),G=[{regex:f,indices:p,postModify:l},{regex:R,indices:O,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<G.length;ne++){const re=G[ne],ae=re.regex.exec(e);if(ae){const x=ae[re.indices.bucket];let A=ae[re.indices.path];A||(A=""),i=new vn(x,A),re.postModify(i);break}}if(i==null)throw KV(e);return i}}class eD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n,e,t){let i=1,o=null,l=null,c=!1,f=0;function p(){return f===2}let g=!1;function _(...D){g||(g=!0,e.apply(null,D))}function w(D){o=setTimeout(()=>{o=null,n(R,p())},D)}function T(){l&&clearTimeout(l)}function R(D,...q){if(g){T();return}if(D){T(),_.call(null,D,...q);return}if(p()||c){T(),_.call(null,D,...q);return}i<64&&(i*=2);let G;f===1?(f=2,G=0):G=(i+Math.random())*1e3,w(G)}let O=!1;function N(D){O||(O=!0,T(),!g&&(o!==null?(D||(f=2),clearTimeout(o),w(0)):D||(f=1)))}return w(0),l=setTimeout(()=>{c=!0,N(!0)},t),N}function nD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){return n!==void 0}function iD(n){return typeof n=="object"&&!Array.isArray(n)}function Wp(n){return typeof n=="string"||n instanceof String}function Tv(n){return Hp()&&n instanceof Blob}function Hp(){return typeof Blob<"u"}function Sv(n,e,t,i){if(i<e)throw kd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw kd(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function QT(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var fs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t,i,o,l,c,f,p,g,_,w,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Ku(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===fs.NO_ERROR,p=l.getStatus();if(!f||sD(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===fs.ABORT;i(!1,new Ku(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Ku(g,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());rD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=qp();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(o.canceled){const p=this.appDelete_?GT():HV();c(p)}else{const p=WV();c(p)}};this.canceled_?t(!1,new Ku(!1,null,!0)):this.backoffId_=tD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function aD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function lD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function cD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function hD(n,e,t,i,o,l,c=!0){const f=QT(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return uD(g,e),aD(g,t),lD(g,l),cD(g,i),new oD(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dD(...n){const e=fD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Hp())return new Blob(n);throw new ot(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){if(typeof atob>"u")throw JV("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qf{constructor(e,t){this.data=e,this.contentType=t||null}}function gD(n,e){switch(n){case lr.RAW:return new qf(XT(e));case lr.BASE64:case lr.BASE64URL:return new qf(YT(n,e));case lr.DATA_URL:return new qf(_D(e),vD(e))}throw qp()}function XT(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function yD(n){let e;try{e=decodeURIComponent(n)}catch{throw Za(lr.DATA_URL,"Malformed data URL.")}return XT(e)}function YT(n,e){switch(n){case lr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Za(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Za(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=mD(e)}catch(o){throw o.message.includes("polyfill")?o:Za(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class JT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Za(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=wD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _D(n){const e=new JT(n);return e.base64?YT(lr.BASE64,e.rest):yD(e.rest)}function vD(n){return new JT(n).contentType}function wD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){let i=0,o="";Tv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tv(this.data_)){const i=this.data_,o=pD(i,e,t);return o===null?null:new di(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new di(i,!0)}}static getBlob(...e){if(Hp()){const t=e.map(i=>i instanceof di?i.data_:i);return new di(dD.apply(null,t))}else{const t=e.map(c=>Wp(c)?gD(lr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)o[l++]=c[f]}),new di(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n){let e;try{e=JSON.parse(n)}catch{return null}return iD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function TD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function e0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,e){return e}class Yt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||SD}}let Gu=null;function AD(n){return!Wp(n)||n.length<2?n:e0(n)}function t0(){if(Gu)return Gu;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,c){return AD(c)}const t=new Yt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Yt("size");return o.xform=i,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),Gu=n,Gu}function ID(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new vn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function RD(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return ID(i,n),i}function n0(n,e,t){const i=ZT(e);return i===null?null:RD(n,i,t)}function PD(n,e,t,i){const o=ZT(e);if(o===null||!Wp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,w=n.fullPath,T="/b/"+c(_)+"/o/"+c(w),R=Kp(T,t,i),O=QT({alt:"media",token:g});return R+O})[0]}function CD(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class r0{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n){if(!n)throw qp()}function xD(n,e){function t(i,o){const l=n0(n,o,e);return i0(l!==null),l}return t}function kD(n,e){function t(i,o){const l=n0(n,o,e);return i0(l!==null),PD(l,o,n.host,n._protocol)}return t}function s0(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=$V():o=zV():t.getStatus()===402?o=jV(n.bucket):t.getStatus()===403?o=qV(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function VD(n){const e=s0(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=BV(n.path)),l.serverResponse=o.serverResponse,l}return t}function DD(n,e,t){const i=e.fullServerUrl(),o=Kp(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new r0(o,l,kD(n,t),c);return f.errorHandler=VD(e),f}function ND(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function MD(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=ND(null,e)),i}function LD(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let ne=0;ne<2;ne++)G=G+Math.random().toString().slice(2);return G}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const g=MD(e,i,o),_=CD(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",R=di.getBlob(w,i,T);if(R===null)throw XV();const O={name:g.fullPath},N=Kp(l,n.host,n._protocol),D="POST",q=n.maxUploadRetryTime,W=new r0(N,D,xD(n,t),q);return W.urlParams=O,W.headers=c,W.body=R.uploadData(),W.errorHandler=s0(e),W}class OD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw ba("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ba("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ba("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ba("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ba("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bD extends OD{initXhr(){this.xhr_.responseType="text"}}function o0(){return new bD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t){this._service=e,t instanceof vn?this._location=t:this._location=vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ps(e,t)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e0(this._location.path)}get storage(){return this._service}get parent(){const e=ED(this._location.path);if(e===null)return null;const t=new vn(this._location.bucket,e);return new ps(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ZV(e)}}function FD(n,e,t){n._throwIfRoot("uploadBytes");const i=LD(n.storage,n._location,t0(),new di(e,!0),t);return n.storage.makeRequestWithTokens(i,o0).then(o=>({metadata:o,ref:n}))}function UD(n){n._throwIfRoot("getDownloadURL");const e=DD(n.storage,n._location,t0());return n.storage.makeRequestWithTokens(e,o0).then(t=>{if(t===null)throw YV();return t})}function BD(n,e){const t=TD(n._location.path,e),i=new vn(n._location.bucket,t);return new ps(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){return/^[A-Za-z]+:\/\//.test(n)}function zD(n,e){return new ps(n,e)}function a0(n,e){if(n instanceof Gp){const t=n;if(t._bucket==null)throw QV();const i=new ps(t,t._bucket);return e!=null?a0(i,e):i}else return e!==void 0?BD(n,e):n}function $D(n,e){if(e&&jD(e)){if(n instanceof Gp)return zD(n,e);throw kd("To use ref(service, url), the first argument must be a Storage instance.")}else return a0(n,e)}function Av(n,e){const t=e==null?void 0:e[KT];return t==null?null:vn.makeFromBucketSpec(t,n)}function qD(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:lE(o,n.app.options.projectId))}class Gp{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=HT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FV,this._maxUploadRetryTime=UV,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=Av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ps(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new eD(GT());{const c=hD(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Iv="@firebase/storage",Rv="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="storage";function WD(n,e,t){return n=En(n),FD(n,e,t)}function HD(n){return n=En(n),UD(n)}function KD(n,e){return n=En(n),$D(n,e)}function GD(n=gE(),e){n=En(n);const i=dE(n,l0).getImmediate({identifier:e}),o=oE("storage");return o&&QD(i,...o),i}function QD(n,e,t,i={}){qD(n,e,t,i)}function XD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Gp(t,i,o,e,pE)}function YD(){ol(new Io(l0,XD,"PUBLIC").setMultipleInstances(!0)),yi(Iv,Rv,""),yi(Iv,Rv,"esm2017")}YD();const JD={apiKey:"AIzaSyDaEBKWvFiT3hMTKhz_DU5k9i2FCip0Mx4",authDomain:"imageboard-176a7.firebaseapp.com",projectId:"imageboard-176a7",storageBucket:"imageboard-176a7.firebasestorage.app",messagingSenderId:"848950340650",appId:"1:848950340650:web:fd52a1c2805a6829e56753"},u0=mE(JD),Vd=gV(u0),ZD=GD(u0);function e2({comment:n,postId:e}){const[t,i]=de.useState(!1),o=c=>{if(!c)return"Just now";const f=c.toDate?c.toDate():new Date(c);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(f)},l=async c=>{if(!e||!n.id)return;const f=Lp(Vd,"posts",e),p={text:c.text,username:c.username||"An0n",country:c.country||"Unknown",createdAt:$p()};try{await zT(f,{comments:LV({...n,replies:[...n.replies||[],p]})}),i(!1)}catch(g){console.error("Error adding reply:",g)}};return fe.jsxs(Wf,{className:"p-4 bg-purple-700 rounded-lg mb-4",children:[fe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[fe.jsxs("div",{className:"flex items-center",children:[fe.jsx("span",{className:"mr-2",children:n.country||"Unknown"}),fe.jsx("span",{className:"font-bold mr-2",children:n.username||"Anonymous"})]}),fe.jsx("span",{className:"text-gray-400 text-sm",children:n.createdAt?o(n.createdAt):"Just now"})]}),fe.jsx("p",{className:"text-white mb-2",children:n.text}),fe.jsx("button",{onClick:()=>i(c=>!c),className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Reply"}),t&&fe.jsx(WT,{onSubmit:l}),fe.jsx(c0,{comments:n.replies||[]})]})}function c0({comments:n=[],addReply:e}){return fe.jsx("div",{className:"mt-4 pl-4 border-l-2 border-purple-700",children:n.length>0?n.map((t,i)=>{var o;return fe.jsx(e2,{comment:{...t,createdAt:(o=t.createdAt)!=null&&o.toDate?t.createdAt.toDate():new Date},addReply:l=>e(t.id,l)},t.id||i)}):fe.jsx("p",{className:"text-gray-400 text-sm",children:"No comments yet. Be the first to comment!"})})}function t2({onSubmit:n}){const[e,t]=de.useState(!1);return e?fe.jsx(WT,{onSubmit:i=>{n(i),t(!1)}}):fe.jsx("button",{onClick:()=>t(!0),className:"text-blue-400 text-sm underline hover:text-blue-300 mt-2",children:"Add Comment / Reply"})}function n2(){const[n,e]=de.useState([]),[t,i]=de.useState(""),[o,l]=de.useState(null),[c,f]=de.useState(""),[p,g]=de.useState(""),_=mV(Vd,"posts"),w=N=>{if(!N)return"Just now";const D=N.toDate?N.toDate():new Date(N);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(D)};de.useEffect(()=>{const N=MV(_,D=>{const q=D.docs.map(W=>({id:W.id,...W.data(),createdAt:W.data().createdAt?W.data().createdAt.toDate():new Date,comments:W.data().comments||[]}));e(q)});return()=>N()},[]);const T=async()=>{if(t||o){const N=c.trim()?c:"An0n",D={text:t,image:o,username:N,country:p,comments:[],createdAt:$p()},q=await NV(_,D);e([{id:q.id,...D,createdAt:new Date},...n]),i(""),l(null),f(""),g("")}},R=async N=>{const D=N.target.files[0];if(D)try{const q=KD(ZD,`images/${D.name}`);await WD(q,D);const W=await HD(q);l(W),console.log("Uploaded Image URL:",W)}catch(q){console.error("Error uploading image:",q)}},O=async(N,D)=>{const q=Lp(Vd,"posts",N);try{const W=await DV(q);if(W.exists()){const G=W.data(),ne={text:D,username:c||"An0n",country:p||"Unknown",createdAt:new Date().toISOString(),replies:[]},re=[...G.comments||[],ne];await zT(q,{comments:re}),e(ae=>ae.map(x=>x.id===N?{...x,comments:re}:x))}}catch(W){console.error("Error adding comment:",W)}};return fe.jsx("div",{className:"min-h-screen bg-purple-900 text-white p-6 flex flex-col items-center",children:fe.jsxs("div",{className:"w-full max-w-2xl",children:[fe.jsxs(Wf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[fe.jsx(rE,{username:c,setUsername:f,country:p,setCountry:g}),fe.jsx(Cv,{placeholder:"What's on your mind?",value:t,onChange:N=>i(N.target.value),className:"w-full mb-3 p-2 rounded-lg bg-purple-700 text-white"}),fe.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",id:"upload"}),fe.jsxs("label",{htmlFor:"upload",className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white",children:[fe.jsx(PS,{size:20})," Upload Image"]}),o&&fe.jsx("img",{src:o,alt:"Preview",className:"mt-3 rounded-lg max-h-40"}),fe.jsx(Pv,{onClick:T,className:"w-full mt-4 bg-purple-600 hover:bg-purple-500",children:"Post"})]}),fe.jsx("div",{className:"mt-6 space-y-4",children:n.map(N=>fe.jsx(J1.div,{initial:{opacity:0},animate:{opacity:1},children:fe.jsxs(Wf,{className:"p-4 bg-purple-800 rounded-2xl shadow-md",children:[fe.jsx("div",{className:"flex items-center justify-between mb-2",children:fe.jsxs("div",{className:"flex items-center",children:[fe.jsx("span",{className:"mr-2",children:N.country}),fe.jsx("span",{className:"font-bold mr-2",children:N.username}),fe.jsx("span",{className:"text-gray-400 text-sm",children:N.createdAt?w(N.createdAt):"Just now"})]})}),N.text&&fe.jsx("p",{className:"mb-2 text-white",children:N.text}),N.image&&fe.jsx("img",{src:N.image,alt:"Post",className:"rounded-lg max-h-60"}),fe.jsx(c0,{comments:N.comments,addReply:D=>O(N.id,D)}),fe.jsx(t2,{onSubmit:D=>O(N.id,D)})]})},N.id))})]})})}ES.createRoot(document.getElementById("root")).render(fe.jsx(de.StrictMode,{children:fe.jsx(n2,{})}));
